{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"Microsoft Devices Resource Types","id":"https:\/\/schema.management.azure.com\/schemas\/2017-08-21-preview\/Microsoft.Devices.json#","title":"Microsoft.Devices","resourceDefinitions":{"ProvisioningServices":{"description":"Microsoft.Devices\/provisioningServices","type":"object","properties":{"___name":{"oneOf":[{"minLength":3,"pattern":"^(?![0-9]+$)(?!-)[a-zA-Z0-9-]{2,49}[a-zA-Z0-9]$","description":"The Resource name with the following regex pattern for the name ^(?![0-9]+$)(?!-)[a-zA-Z0-9-]{2,49}[a-zA-Z0-9]$","type":"string","maxLength":50},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}]},"___type":{"description":"The Resource type.","type":"string","enum":["Microsoft.Devices\/provisioningServices"]},"___tags":{"description":"The Resource tags.","additionalProperties":{"type":"string"},"type":"object"},"___properties":{"oneOf":[{"$eref":{"description":"The Provisioning Service properties","type":"object","properties":{"___authorizationPolicies":{"oneOf":[{"maxItems":12,"type":"array","items":{"$ref":"#\/definitions\/SharedAccessSignatureAuthorizationRule[AccessRightsDescription]"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The authorization rules."},"___iotHubs":{"oneOf":[{"maxItems":10,"type":"array","items":{"$ref":"#\/definitions\/IotHubDefinitionDescription"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the linked iot hubs to this Provisioning Service"}}}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}]},"___sku":{"oneOf":[{"$eref":{"description":"List of possible provisoning service SKUs.","type":"object","properties":{"___name":{"oneOf":[{"type":"string","enum":["S1"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}]},"___capacity":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}]},"___tier":{"description":"Pricing tier of the provisioning service.","readOnly":true,"type":"string"}}}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}]},"___apiVersion":{"type":"string","enum":["2017-11-15"]}},"required":["type","apiVersion","properties","sku","location","name"]}},"definitions":{"_88IotDpsSkuInfo":{"description":"List of possible provisoning service SKUs.","type":"object","properties":{"___name":{"oneOf":[{"type":"string","enum":["S1"]},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}]},"___capacity":{"oneOf":[{"type":"integer"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}]},"___tier":{"description":"Pricing tier of the provisioning service.","readOnly":true,"type":"string"}}},"_88IotDpsProperties":{"description":"The Provisioning Service properties","type":"object","properties":{"___authorizationPolicies":{"oneOf":[{"maxItems":12,"type":"array","items":{"$eref":{"description":"Description of the shared access key.","type":"object","properties":{"___primaryKey":{"description":"Primary SAS key value.","type":"string"},"___keyName":{"description":"Name of the key.","type":"string"},"___secondaryKey":{"description":"Secondary SAS key value.","type":"string"},"___rights":{"x-ms-enum":{"name":"AccessRightsDescription","modelAsString":true},"description":"Rights that this key has.","type":"string","enum":["ServiceConfig","EnrollmentRead","EnrollmentWrite","DeviceConnect","RegistrationStatusRead","RegistrationStatusWrite"]}},"required":["keyName","rights"]}}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The authorization rules."},"___iotHubs":{"oneOf":[{"maxItems":10,"type":"array","items":{"$eref":{"description":"Description of the IoT hub.","type":"object","properties":{"___location":{"description":"ARM region of the IoT hub.","type":"string"},"___name":{"description":"Host name of the IoT hub.","type":"string"},"___allocationWeight":{"format":"int32","type":"integer"},"___applyAllocationPolicy":{"type":"boolean"},"___connectionString":{"description":"Connection string og the IoT hub.","type":"string"}},"required":["connectionString","location"]}}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the linked iot hubs to this Provisioning Service"}}},"_88SharedAccessSignatureAuthorizationRule[AccessRightsDescription]":{"description":"Description of the shared access key.","type":"object","properties":{"___primaryKey":{"description":"Primary SAS key value.","type":"string"},"___keyName":{"description":"Name of the key.","type":"string"},"___secondaryKey":{"description":"Secondary SAS key value.","type":"string"},"___rights":{"x-ms-enum":{"name":"AccessRightsDescription","modelAsString":true},"description":"Rights that this key has.","type":"string","enum":["ServiceConfig","EnrollmentRead","EnrollmentWrite","DeviceConnect","RegistrationStatusRead","RegistrationStatusWrite"]}},"required":["keyName","rights"]},"_88IotHubDefinitionDescription":{"description":"Description of the IoT hub.","type":"object","properties":{"___location":{"description":"ARM region of the IoT hub.","type":"string"},"___name":{"description":"Host name of the IoT hub.","type":"string"},"___allocationWeight":{"format":"int32","type":"integer"},"___applyAllocationPolicy":{"type":"boolean"},"___connectionString":{"description":"Connection string og the IoT hub.","type":"string"}},"required":["connectionString","location"]}}}