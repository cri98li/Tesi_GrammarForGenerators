{"$schema":"http:\/\/json-schema.org\/draft-07\/schema#","description":"The shape of the JSON passed between Danger and a subprocess. It's built\nto be expanded in the future.","type":"object","definitions":{"_88GitCommitAuthor":{"description":"An author of a commit","type":"object","properties":{"___name":{"description":"The display name for the author","type":"string"},"___email":{"description":"The authors email","type":"string"},"___date":{"description":"ISO6801 date string","type":"string"}}},"_88GitHubUser":{"description":"A GitHub user account.","type":"object","properties":{"___type":{"description":"Whether the user is an org, or a user","type":"string","enum":["Bot","Organization","User"]},"___login":{"description":"The handle for the user\/org","type":"string"},"___id":{"description":"Generic UUID","type":"number"},"___avatar_url":{"description":"The url for a users's image","type":"string"}}},"_88GitHubReview":{"description":"GitHubReview\nWhile a review is pending, it will only have a user.  Once a review is complete, the rest of\nthe review attributes will be present","type":"object","properties":{"___body":{"description":"If there is a review, the body of the review","type":"string"},"___user":{"$eref":{"description":"A GitHub user account.","type":"object","properties":{"___type":{"description":"Whether the user is an org, or a user","type":"string","enum":["Bot","Organization","User"]},"___login":{"description":"The handle for the user\/org","type":"string"},"___id":{"description":"Generic UUID","type":"number"},"___avatar_url":{"description":"The url for a users's image","type":"string"}}},"description":"The user requested to review, or the user who has completed the review"},"___state":{"description":"The state of the review\nAPPROVED, REQUEST_CHANGES, COMMENT or PENDING","type":"string","enum":["APPROVED","COMMENT","PENDING","REQUEST_CHANGES"]},"___id":{"description":"If there is a review, this provides the ID for it","type":"number"},"___commit_id":{"description":"If there is a review, the commit ID this review was made on","type":"string"}}},"_88Github":{"type":"object","properties":{"___projects":{"type":"object"},"___apps":{"type":"object"},"___gists":{"type":"object"},"___gitignore":{"type":"object"},"___pulls":{"type":"object"},"___markdown":{"type":"object"},"___reactions":{"type":"object"},"___checks":{"type":"object"},"___hook":{"type":"object"},"___activity":{"type":"object"},"___emojis":{"type":"object"},"___migrations":{"type":"object"},"___codesOfConduct":{"type":"object"},"___oauthAuthorizations":{"type":"object"},"___issues":{"type":"object"},"___interactions":{"type":"object"},"___users":{"type":"object"},"___git":{"type":"object"},"___repos":{"type":"object"},"___request":{},"___licenses":{"type":"object"},"___orgs":{"type":"object"},"___search":{"type":"object"},"___teams":{"type":"object"},"___meta":{"type":"object"},"___rateLimit":{"type":"object"}}},"_88GitJSONDSL":{"description":"The Git Related Metadata which is available inside the Danger DSL JSON","type":"object","properties":{"___created_files":{"description":"Newly created filepaths relative to the git root","type":"array","items":{"type":"string"}},"___commits":{"description":"The Git commit metadata","type":"array","items":{"$eref":{"description":"A platform agnostic reference to a Git commit","type":"object","properties":{"___tree":{"description":"Potential parent commits, and other assorted metadata"},"___parents":{"description":"SHAs for the commit's parents","type":"array","items":{"type":"string"}},"___committer":{"description":"Who deployed the commit","$ref":"#\/definitions\/GitCommitAuthor"},"___url":{"description":"Link to the commit","type":"string"},"___message":{"description":"The commit message","type":"string"},"___sha":{"description":"The SHA for the commit","type":"string"},"___author":{"description":"Who wrote the commit","$ref":"#\/definitions\/GitCommitAuthor"}}}}},"___deleted_files":{"description":"Removed filepaths relative to the git root","type":"array","items":{"type":"string"}},"___modified_files":{"description":"Filepaths with changes relative to the git root","type":"array","items":{"type":"string"}}}},"_88BitBucketServerJSONDSL":{"type":"object","properties":{"___issues":{"description":"The related JIRA issues","type":"array","items":{"$eref":{"description":"This is `danger.bitbucket_server.issues` It refers to the issues that are linked to the Pull Request.","type":"object","properties":{"___key":{"description":"The unique key for the issue e.g. JRA-11","type":"string"},"___url":{"description":"The user-facing URL for that issue","type":"string"}}}}},"___commits":{"description":"The commits associated with the pull request","type":"array","items":{"$eref":{"description":"A BitBucketServer specific implementation of a git commit.","type":"object","properties":{"___parents":{"description":"The commit's parents","type":"array","items":{"type":"object","properties":{"___displayId":{"description":"The simplified sha","type":"string"},"___id":{"description":"The full SHA","type":"string"}}}},"___committer":{"description":"The author of the commit, assumed to be the person who commited\/merged the code into a project.","type":"object","properties":{"___name":{"description":"The id of the commit committer","type":"string"},"___emailAddress":{"description":"The email of the commit committer","type":"string"},"___displayName":{"description":"The display name of the commit committer","type":"string"}}},"___displayId":{"description":"The shortened SHA for the commit","type":"string"},"___message":{"description":"The commit's message","type":"string"},"___author":{"description":"The author of the commit, assumed to be the person who wrote the code.","type":"object","properties":{"___name":{"description":"The id of the commit author","type":"string"},"___emailAddress":{"description":"The email of the commit author","type":"string"},"___displayName":{"description":"The display name of the commit author","type":"string"}}},"___authorTimestamp":{"description":"The UNIX timestamp for when the commit was authored","type":"number"},"___id":{"description":"The SHA for the commit","type":"string"},"___committerTimestamp":{"description":"When the commit was committed to the project","type":"number"}}}}},"___pr":{"$eref":{"description":"An exact copy of the PR's reference JSON. This interface has type'd the majority\nof it for tooling's sake, but any extra metadata which BitBucket Server send\nwill still be inside the JS object.","type":"object","properties":{"___reviewers":{"description":"People requested as reviewers","type":"array","items":{"allOf":[{"$ref":"#\/definitions\/BitBucketServerPRParticipant"},{"type":"object","properties":{"___role":{"type":"string","enum":["REVIEWER"]}}}]}},"___fromRef":{"description":"The PR submitter's reference","$ref":"#\/definitions\/BitBucketServerMergeRef"},"___links":{"description":"Misc links for hypermedia conformance","type":"string","enum":["self"]},"___participants":{"description":"People who have participated in the PR","type":"array","items":{"allOf":[{"$ref":"#\/definitions\/BitBucketServerPRParticipant"},{"type":"object","properties":{"___role":{"type":"string","enum":["PARTICIPANT"]}}}]}},"___title":{"description":"Title of the pull request.","type":"string"},"___createdDate":{"description":"Date PR created as number of milliseconds since the unix epoch","type":"number"},"___toRef":{"description":"The repo Danger is running on","$ref":"#\/definitions\/BitBucketServerMergeRef"},"___closed":{"description":"Is the PR closed?","type":"boolean"},"___open":{"description":"Is the PR open?","type":"boolean"},"___description":{"description":"The text describing the PR","type":"string"},"___locked":{"description":"Was this PR locked?","type":"boolean"},"___version":{"description":"The API version","type":"number"},"___state":{"description":"The pull request's current status.","type":"string","enum":["DECLINED","MERGED","OPEN","SUPERSEDED"]},"___updatedDate":{"description":"Date PR updated as number of milliseconds since the unix epoch","type":"number"},"___author":{"allOf":[{"$ref":"#\/definitions\/BitBucketServerPRParticipant"},{"type":"object","properties":{"___role":{"type":"string","enum":["AUTHOR"]}}}],"description":"The creator of the PR"},"___id":{"description":"The PR's ID","type":"number"}}},"description":"The PR metadata"},"___activities":{"description":"The activities such as OPENING, CLOSING, MERGING or UPDATING a pull request","type":"array","items":{"$eref":{"type":"object","properties":{"___action":{"type":"string","enum":["COMMENTED","DECLINED","MERGED","OPENED","UPDATED"]},"___user":{"$ref":"#\/definitions\/BitBucketServerUser"},"___createdDate":{"type":"number"},"___comment":{"$ref":"#\/definitions\/BitBucketServerPRComment"},"___commentAnchor":{"type":"object","properties":{"___diffType":{"type":"string","enum":["COMMIT","EFFECTIVE","RANGE","REQUIRED"]},"___lineType":{"type":"string","enum":["ADDED","CONTEXT","REMOVED"]},"___fileType":{"type":"string","enum":["FROM","TO"]},"___fromHash":{"type":"string"},"___srcPath":{"type":"string"},"___line":{"type":"number"},"___toHash":{"type":"string"},"___path":{"type":"string"}}},"___commentAction":{"type":"string","enum":["ADDED","UPDATED"]},"___id":{"type":"number"}}}}},"___comments":{"description":"The comments on the pull request","type":"array","items":{"$eref":{"type":"object","properties":{"___action":{"type":"string","enum":["COMMENTED","DECLINED","MERGED","OPENED","UPDATED"]},"___user":{"$ref":"#\/definitions\/BitBucketServerUser"},"___createdDate":{"type":"number"},"___comment":{"$ref":"#\/definitions\/BitBucketServerPRComment"},"___commentAnchor":{"type":"object","properties":{"___diffType":{"type":"string","enum":["COMMIT","EFFECTIVE","RANGE","REQUIRED"]},"___lineType":{"type":"string","enum":["ADDED","CONTEXT","REMOVED"]},"___fileType":{"type":"string","enum":["FROM","TO"]},"___fromHash":{"type":"string"},"___srcPath":{"type":"string"},"___line":{"type":"number"},"___toHash":{"type":"string"},"___path":{"type":"string"}}},"___commentAction":{"type":"string","enum":["ADDED","UPDATED"]},"___id":{"type":"number"}}}}},"___metadata":{"$eref":{"description":"Key details about a repo","type":"object","properties":{"___pullRequestID":{"description":"The ID for the pull\/merge request \"11\"","type":"string"},"___repoSlug":{"description":"A path like \"artsy\/eigen\"","type":"string"}}},"description":"The pull request and repository metadata"}}},"_88CliArgs":{"description":"Describes the possible arguments that\ncould be used when calling the CLI","type":"object","properties":{"___verbose":{"description":"For debugging","type":"string"},"___base":{"description":"The base reference used by danger PR (e.g. not master)","type":"string"},"___dangerfile":{"description":"A custom path for the dangerfile (can also be a remote reference)","type":"string"},"___externalCiProvider":{"description":"Used by danger-js o allow having a custom CI","type":"string"},"___textOnly":{"description":"Use SDTOUT instead of posting to the code review side","type":"string"},"___id":{"description":"So you can have many danger runs in one code review","type":"string"}}},"_88GitHubIssue":{"description":"This is `danger.github.issue` It refers to the issue that makes up the Pull Request.\nGitHub treats all pull requests as a special type of issue. This DSL contains only parts of the issue that are\nnot found in the PR DSL, however it does contain the full JSON structure.\n\nA GitHub Issue","type":"object","properties":{"___labels":{"description":"The labels associated with this issue","type":"array","items":{"$eref":{"type":"object","properties":{"___name":{"description":"The name of the label","type":"string"},"___url":{"description":"The URL that links to this label","type":"string"},"___color":{"description":"The color associated with this label","type":"string"},"___id":{"description":"The identifying number of this label","type":"number"}}}}}}},"_88BitBucketServerPRComment":{"type":"object","properties":{"___permittedOperations":{"type":"object","properties":{"___editable":{"type":"boolean"},"___deletable":{"type":"boolean"}}},"___text":{"type":"string"},"___version":{"type":"number"},"___updatedDate":{"type":"number"},"___parent":{"type":"object","properties":{"___id":{"type":"number"}}},"___createdDate":{"type":"number"},"___author":{"$eref":{"description":"A BitBucketServer user account.","type":"object","properties":{"___name":{"description":"The name of the user","type":"string"},"___active":{"description":"Is the account active","type":"boolean"},"___emailAddress":{"description":"The email for the user","type":"string"},"___type":{"description":"The type of a user, \"NORMAL\" being a typical user3","type":"string","enum":["NORMAL","SERVICE"]},"___slug":{"description":"The user's slug for URLs","type":"string"},"___displayName":{"description":"The name to use when referencing the user","type":"string"},"___id":{"description":"The unique user ID","type":"number"}}}},"___id":{"type":"number"},"___comments":{"type":"array","items":{"$eref":{"type":"object","properties":{"___action":{"type":"string","enum":["COMMENTED","DECLINED","MERGED","OPENED","UPDATED"]},"___user":{"$ref":"#\/definitions\/BitBucketServerUser"},"___createdDate":{"type":"number"},"___comment":{"$ref":"#\/definitions\/BitBucketServerPRComment"},"___commentAnchor":{"type":"object","properties":{"___diffType":{"type":"string","enum":["COMMIT","EFFECTIVE","RANGE","REQUIRED"]},"___lineType":{"type":"string","enum":["ADDED","CONTEXT","REMOVED"]},"___fileType":{"type":"string","enum":["FROM","TO"]},"___fromHash":{"type":"string"},"___srcPath":{"type":"string"},"___line":{"type":"number"},"___toHash":{"type":"string"},"___path":{"type":"string"}}},"___commentAction":{"type":"string","enum":["ADDED","UPDATED"]},"___id":{"type":"number"}}}}}}},"_88BitBucketServerPRActivity":{"type":"object","properties":{"___action":{"type":"string","enum":["COMMENTED","DECLINED","MERGED","OPENED","UPDATED"]},"___user":{"$eref":{"description":"A BitBucketServer user account.","type":"object","properties":{"___name":{"description":"The name of the user","type":"string"},"___active":{"description":"Is the account active","type":"boolean"},"___emailAddress":{"description":"The email for the user","type":"string"},"___type":{"description":"The type of a user, \"NORMAL\" being a typical user3","type":"string","enum":["NORMAL","SERVICE"]},"___slug":{"description":"The user's slug for URLs","type":"string"},"___displayName":{"description":"The name to use when referencing the user","type":"string"},"___id":{"description":"The unique user ID","type":"number"}}}},"___createdDate":{"type":"number"},"___comment":{"$eref":{"type":"object","properties":{"___permittedOperations":{"type":"object","properties":{"___editable":{"type":"boolean"},"___deletable":{"type":"boolean"}}},"___text":{"type":"string"},"___version":{"type":"number"},"___updatedDate":{"type":"number"},"___parent":{"type":"object","properties":{"___id":{"type":"number"}}},"___createdDate":{"type":"number"},"___author":{"$ref":"#\/definitions\/BitBucketServerUser"},"___id":{"type":"number"},"___comments":{"type":"array","items":{"$ref":"#\/definitions\/BitBucketServerPRActivity"}}}}},"___commentAnchor":{"type":"object","properties":{"___diffType":{"type":"string","enum":["COMMIT","EFFECTIVE","RANGE","REQUIRED"]},"___lineType":{"type":"string","enum":["ADDED","CONTEXT","REMOVED"]},"___fileType":{"type":"string","enum":["FROM","TO"]},"___fromHash":{"type":"string"},"___srcPath":{"type":"string"},"___line":{"type":"number"},"___toHash":{"type":"string"},"___path":{"type":"string"}}},"___commentAction":{"type":"string","enum":["ADDED","UPDATED"]},"___id":{"type":"number"}}},"_88GitCommit":{"description":"A platform agnostic reference to a Git commit","type":"object","properties":{"___tree":{"description":"Potential parent commits, and other assorted metadata"},"___parents":{"description":"SHAs for the commit's parents","type":"array","items":{"type":"string"}},"___committer":{"$eref":{"description":"An author of a commit","type":"object","properties":{"___name":{"description":"The display name for the author","type":"string"},"___email":{"description":"The authors email","type":"string"},"___date":{"description":"ISO6801 date string","type":"string"}}},"description":"Who deployed the commit"},"___url":{"description":"Link to the commit","type":"string"},"___message":{"description":"The commit message","type":"string"},"___sha":{"description":"The SHA for the commit","type":"string"},"___author":{"$eref":{"description":"An author of a commit","type":"object","properties":{"___name":{"description":"The display name for the author","type":"string"},"___email":{"description":"The authors email","type":"string"},"___date":{"description":"ISO6801 date string","type":"string"}}},"description":"Who wrote the commit"}}},"_88GitHubUtilsDSL":{"description":"Useful functions for GitHub related work","type":"object","properties":{"___createOrAddLabel":{"description":"An API for creating, or setting a label to an issue. Usable from Peril\nby adding an additional param for settings about a repo.","type":"object"},"___createUpdatedIssueWithID":{"description":"An API for creating, updating and closing an issue. Basically\nthis is really useful for reporting back via a separate\nissue that you may want to keep up to date at all times.","type":"object"},"___createOrUpdatePR":{"type":"object"}}},"_88BitBucketServerUser":{"description":"A BitBucketServer user account.","type":"object","properties":{"___name":{"description":"The name of the user","type":"string"},"___active":{"description":"Is the account active","type":"boolean"},"___emailAddress":{"description":"The email for the user","type":"string"},"___type":{"description":"The type of a user, \"NORMAL\" being a typical user3","type":"string","enum":["NORMAL","SERVICE"]},"___slug":{"description":"The user's slug for URLs","type":"string"},"___displayName":{"description":"The name to use when referencing the user","type":"string"},"___id":{"description":"The unique user ID","type":"number"}}},"_88GitHubAPIPR":{"description":"Provides the current PR in an easily used way for params in `github.api` calls","type":"object","properties":{"___number":{"description":"The PR number","type":"number"},"___owner":{"description":"The repo owner","type":"string"},"___repo":{"description":"The repo name","type":"string"}}},"_88GitHubPRDSL":{"description":"An exact copy of the PR's reference JSON. This interface has type'd the majority\nof it for tooling's sake, but any extra metadata which GitHub send will still be\ninside the JS object.","type":"object","properties":{"___merged":{"description":"Has the PR been merged yet?","type":"boolean"},"___created_at":{"description":"ISO6801 Date string for when PR was created","type":"string"},"___base":{"$eref":{"type":"object","properties":{"___ref":{"description":"The reference point for the merge, e.g. \"master\"","type":"string"},"___user":{"description":"The user that owns the merge reference e.g. \"artsy\"","$ref":"#\/definitions\/GitHubUser"},"___sha":{"description":"The reference point for the merge, e.g. \"704dc55988c6996f69b6873c2424be7d1de67bbe\"","type":"string"},"___repo":{"description":"The repo from which the reference comes from","$ref":"#\/definitions\/GitHubRepo"},"___label":{"description":"The human display name for the merge reference, e.g. \"artsy:master\"","type":"string"}}},"description":"Merge reference for _this_ repo."},"___commits":{"description":"The number of commits in the PR","type":"number"},"___additions":{"description":"The number of additional lines in the PR","type":"number"},"___head":{"$eref":{"type":"object","properties":{"___ref":{"description":"The reference point for the merge, e.g. \"master\"","type":"string"},"___user":{"description":"The user that owns the merge reference e.g. \"artsy\"","$ref":"#\/definitions\/GitHubUser"},"___sha":{"description":"The reference point for the merge, e.g. \"704dc55988c6996f69b6873c2424be7d1de67bbe\"","type":"string"},"___repo":{"description":"The repo from which the reference comes from","$ref":"#\/definitions\/GitHubRepo"},"___label":{"description":"The human display name for the merge reference, e.g. \"artsy:master\"","type":"string"}}},"description":"Merge reference for the _other_ repo."},"___title":{"description":"The title of the PR","type":"string"},"___merged_at":{"description":"Optional ISO6801 Date string for when PR was merged.\nDanger probably shouldn't be running in this state.","type":["null","string"]},"___deletions":{"description":"The number of deleted lines in the PR","type":"number"},"___html_url":{"description":"The link back to this PR as user-facing","type":"string"},"___comments":{"description":"The number of comments on the PR","type":"number"},"___changed_files":{"description":"The number of changed files in the PR","type":"number"},"___locked":{"description":"Has the PR been locked to contributors only?","type":"boolean"},"___body":{"description":"The markdown body message of the PR","type":"string"},"___user":{"$eref":{"description":"A GitHub user account.","type":"object","properties":{"___type":{"description":"Whether the user is an org, or a user","type":"string","enum":["Bot","Organization","User"]},"___login":{"description":"The handle for the user\/org","type":"string"},"___id":{"description":"Generic UUID","type":"number"},"___avatar_url":{"description":"The url for a users's image","type":"string"}}},"description":"The User who submitted the PR"},"___state":{"description":"The state for the PR","type":"string","enum":["closed","locked","merged","open"]},"___number":{"description":"The UUID for the PR","type":"number"},"___assignee":{"$eref":{"description":"A GitHub user account.","type":"object","properties":{"___type":{"description":"Whether the user is an org, or a user","type":"string","enum":["Bot","Organization","User"]},"___login":{"description":"The handle for the user\/org","type":"string"},"___id":{"description":"Generic UUID","type":"number"},"___avatar_url":{"description":"The url for a users's image","type":"string"}}},"description":"The User who is assigned the PR"},"___closed_at":{"description":"optional ISO6801 Date string for when PR was closed","type":["null","string"]},"___updated_at":{"description":"ISO6801 Date string for when PR was updated","type":"string"},"___assignees":{"description":"The Users who are assigned to the PR","type":"array","items":{"$eref":{"description":"A GitHub user account.","type":"object","properties":{"___type":{"description":"Whether the user is an org, or a user","type":"string","enum":["Bot","Organization","User"]},"___login":{"description":"The handle for the user\/org","type":"string"},"___id":{"description":"Generic UUID","type":"number"},"___avatar_url":{"description":"The url for a users's image","type":"string"}}}}},"___review_comments":{"description":"The number of review-specific comments on the PR","type":"number"}}},"_88RepoMetaData":{"description":"Key details about a repo","type":"object","properties":{"___pullRequestID":{"description":"The ID for the pull\/merge request \"11\"","type":"string"},"___repoSlug":{"description":"A path like \"artsy\/eigen\"","type":"string"}}},"_88GitHubMergeRef":{"type":"object","properties":{"___ref":{"description":"The reference point for the merge, e.g. \"master\"","type":"string"},"___user":{"$eref":{"description":"A GitHub user account.","type":"object","properties":{"___type":{"description":"Whether the user is an org, or a user","type":"string","enum":["Bot","Organization","User"]},"___login":{"description":"The handle for the user\/org","type":"string"},"___id":{"description":"Generic UUID","type":"number"},"___avatar_url":{"description":"The url for a users's image","type":"string"}}},"description":"The user that owns the merge reference e.g. \"artsy\""},"___sha":{"description":"The reference point for the merge, e.g. \"704dc55988c6996f69b6873c2424be7d1de67bbe\"","type":"string"},"___repo":{"$eref":{"description":"A GitHub Repo","type":"object","properties":{"___name":{"description":"The name of the repo, e.g. \"Danger-JS\"","type":"string"},"___private":{"description":"Is the repo publicly accessible?","type":"boolean"},"___description":{"description":"The textual description of the repo","type":"string"},"___assignee":{"description":"Is someone assigned to this PR?","$ref":"#\/definitions\/GitHubUser"},"___fork":{"description":"Is the repo a fork?","type":"boolean"},"___full_name":{"description":"The full name of the owner + repo, e.g. \"Danger\/Danger-JS\"","type":"string"},"___html_url":{"description":"The root web URL for the repo, e.g. https:\/\/github.com\/artsy\/emission","type":"string"},"___owner":{"description":"The owner of the repo","$ref":"#\/definitions\/GitHubUser"},"___assignees":{"description":"Are there people assigned to this PR?","type":"array","items":{"$ref":"#\/definitions\/GitHubUser"}},"___id":{"description":"Generic UUID","type":"number"}}},"description":"The repo from which the reference comes from"},"___label":{"description":"The human display name for the merge reference, e.g. \"artsy:master\"","type":"string"}}},"_88GitHubIssueLabel":{"type":"object","properties":{"___name":{"description":"The name of the label","type":"string"},"___url":{"description":"The URL that links to this label","type":"string"},"___color":{"description":"The color associated with this label","type":"string"},"___id":{"description":"The identifying number of this label","type":"number"}}},"_88JIRAIssue":{"description":"This is `danger.bitbucket_server.issues` It refers to the issues that are linked to the Pull Request.","type":"object","properties":{"___key":{"description":"The unique key for the issue e.g. JRA-11","type":"string"},"___url":{"description":"The user-facing URL for that issue","type":"string"}}},"_88DangerDSLJSONType":{"description":"The root of the Danger JSON DSL.","type":"object","properties":{"___git":{"$eref":{"description":"The Git Related Metadata which is available inside the Danger DSL JSON","type":"object","properties":{"___created_files":{"description":"Newly created filepaths relative to the git root","type":"array","items":{"type":"string"}},"___commits":{"description":"The Git commit metadata","type":"array","items":{"$ref":"#\/definitions\/GitCommit"}},"___deleted_files":{"description":"Removed filepaths relative to the git root","type":"array","items":{"type":"string"}},"___modified_files":{"description":"Filepaths with changes relative to the git root","type":"array","items":{"type":"string"}}}},"description":"The data only version of Git DSL"},"___settings":{"description":"Used in the Danger JSON DSL to pass metadata between\nprocesses. It will be undefined when used inside the Danger DSL","type":"object","properties":{"___github":{"description":"Saves each client re-implementing logic to grab these vars\nfor their API clients","type":"object","properties":{"___additionalHeaders":{"description":"Optional headers to add to a request"},"___accessToken":{"description":"API token for the GitHub client to use","type":"string"},"___baseURL":{"description":"Optional URL for enterprise GitHub","type":"string"}}},"___cliArgs":{"$eref":{"description":"Describes the possible arguments that\ncould be used when calling the CLI","type":"object","properties":{"___verbose":{"description":"For debugging","type":"string"},"___base":{"description":"The base reference used by danger PR (e.g. not master)","type":"string"},"___dangerfile":{"description":"A custom path for the dangerfile (can also be a remote reference)","type":"string"},"___externalCiProvider":{"description":"Used by danger-js o allow having a custom CI","type":"string"},"___textOnly":{"description":"Use SDTOUT instead of posting to the code review side","type":"string"},"___id":{"description":"So you can have many danger runs in one code review","type":"string"}}},"description":"This is still a bit of a WIP, but this should\npass args\/opts from the original CLI call through\nto the process."}}},"___github":{"$eref":{"description":"The GitHub metadata for your PR","type":"object","properties":{"___utils":{"description":"A scope for useful functions related to GitHub","$ref":"#\/definitions\/GitHubUtilsDSL"},"___issue":{"description":"The issue metadata for a code review session","$ref":"#\/definitions\/GitHubIssue"},"___commits":{"description":"The github commit metadata for a code review session","type":"array","items":{"$ref":"#\/definitions\/GitHubCommit"}},"___pr":{"description":"The PR metadata for a code review session","$ref":"#\/definitions\/GitHubPRDSL"},"___api":{"description":"An authenticated API so you can extend danger's behavior by using the [GitHub v3 API](https:\/\/developer.github.com\/v3\/).\n\nA set up instance of the \"github\" npm module. You can get the full [API here](https:\/\/octokit.github.io\/node-github\/).","$ref":"#\/definitions\/Github"},"___requested_reviewers":{"description":"The people requested to review this PR","type":"array","items":{"$ref":"#\/definitions\/GitHubUser"}},"___reviews":{"description":"The reviews left on this pull request","type":"array","items":{"$ref":"#\/definitions\/GitHubReview"}},"___thisPR":{"description":"The PR metadata specifically formatted for using with the GitHub API client","$ref":"#\/definitions\/GitHubAPIPR"}}},"description":"The data only version of GitHub DSL"},"___bitbucket_server":{"$eref":{"type":"object","properties":{"___issues":{"description":"The related JIRA issues","type":"array","items":{"$ref":"#\/definitions\/JIRAIssue"}},"___commits":{"description":"The commits associated with the pull request","type":"array","items":{"$ref":"#\/definitions\/BitBucketServerCommit"}},"___pr":{"description":"The PR metadata","$ref":"#\/definitions\/BitBucketServerPRDSL"},"___activities":{"description":"The activities such as OPENING, CLOSING, MERGING or UPDATING a pull request","type":"array","items":{"$ref":"#\/definitions\/BitBucketServerPRActivity"}},"___comments":{"description":"The comments on the pull request","type":"array","items":{"$ref":"#\/definitions\/BitBucketServerPRActivity"}},"___metadata":{"description":"The pull request and repository metadata","$ref":"#\/definitions\/RepoMetaData"}}},"description":"The data only version of BitBucket Server DSL"}}},"_88BitBucketServerCommit":{"description":"A BitBucketServer specific implementation of a git commit.","type":"object","properties":{"___parents":{"description":"The commit's parents","type":"array","items":{"type":"object","properties":{"___displayId":{"description":"The simplified sha","type":"string"},"___id":{"description":"The full SHA","type":"string"}}}},"___committer":{"description":"The author of the commit, assumed to be the person who commited\/merged the code into a project.","type":"object","properties":{"___name":{"description":"The id of the commit committer","type":"string"},"___emailAddress":{"description":"The email of the commit committer","type":"string"},"___displayName":{"description":"The display name of the commit committer","type":"string"}}},"___displayId":{"description":"The shortened SHA for the commit","type":"string"},"___message":{"description":"The commit's message","type":"string"},"___author":{"description":"The author of the commit, assumed to be the person who wrote the code.","type":"object","properties":{"___name":{"description":"The id of the commit author","type":"string"},"___emailAddress":{"description":"The email of the commit author","type":"string"},"___displayName":{"description":"The display name of the commit author","type":"string"}}},"___authorTimestamp":{"description":"The UNIX timestamp for when the commit was authored","type":"number"},"___id":{"description":"The SHA for the commit","type":"string"},"___committerTimestamp":{"description":"When the commit was committed to the project","type":"number"}}},"_88GitHubDSL":{"description":"The GitHub metadata for your PR","type":"object","properties":{"___utils":{"$eref":{"description":"Useful functions for GitHub related work","type":"object","properties":{"___createOrAddLabel":{"description":"An API for creating, or setting a label to an issue. Usable from Peril\nby adding an additional param for settings about a repo.","type":"object"},"___createUpdatedIssueWithID":{"description":"An API for creating, updating and closing an issue. Basically\nthis is really useful for reporting back via a separate\nissue that you may want to keep up to date at all times.","type":"object"},"___createOrUpdatePR":{"type":"object"}}},"description":"A scope for useful functions related to GitHub"},"___issue":{"$eref":{"description":"This is `danger.github.issue` It refers to the issue that makes up the Pull Request.\nGitHub treats all pull requests as a special type of issue. This DSL contains only parts of the issue that are\nnot found in the PR DSL, however it does contain the full JSON structure.\n\nA GitHub Issue","type":"object","properties":{"___labels":{"description":"The labels associated with this issue","type":"array","items":{"$ref":"#\/definitions\/GitHubIssueLabel"}}}},"description":"The issue metadata for a code review session"},"___commits":{"description":"The github commit metadata for a code review session","type":"array","items":{"$eref":{"description":"A GitHub specific implementation of a git commit, it has GitHub user names instead of an email.","type":"object","properties":{"___parents":{"description":"An array of parent commit shas","type":"array","items":{}},"___committer":{"description":"The GitHub user who shipped the code","$ref":"#\/definitions\/GitHubUser"},"___url":{"description":"the url for the commit on GitHub","type":"string"},"___commit":{"description":"The raw commit metadata","$ref":"#\/definitions\/GitCommit"},"___sha":{"description":"The SHA for the commit","type":"string"},"___author":{"description":"The GitHub user who wrote the code","$ref":"#\/definitions\/GitHubUser"}}}}},"___pr":{"$eref":{"description":"An exact copy of the PR's reference JSON. This interface has type'd the majority\nof it for tooling's sake, but any extra metadata which GitHub send will still be\ninside the JS object.","type":"object","properties":{"___merged":{"description":"Has the PR been merged yet?","type":"boolean"},"___created_at":{"description":"ISO6801 Date string for when PR was created","type":"string"},"___base":{"description":"Merge reference for _this_ repo.","$ref":"#\/definitions\/GitHubMergeRef"},"___commits":{"description":"The number of commits in the PR","type":"number"},"___additions":{"description":"The number of additional lines in the PR","type":"number"},"___head":{"description":"Merge reference for the _other_ repo.","$ref":"#\/definitions\/GitHubMergeRef"},"___title":{"description":"The title of the PR","type":"string"},"___merged_at":{"description":"Optional ISO6801 Date string for when PR was merged.\nDanger probably shouldn't be running in this state.","type":["null","string"]},"___deletions":{"description":"The number of deleted lines in the PR","type":"number"},"___html_url":{"description":"The link back to this PR as user-facing","type":"string"},"___comments":{"description":"The number of comments on the PR","type":"number"},"___changed_files":{"description":"The number of changed files in the PR","type":"number"},"___locked":{"description":"Has the PR been locked to contributors only?","type":"boolean"},"___body":{"description":"The markdown body message of the PR","type":"string"},"___user":{"description":"The User who submitted the PR","$ref":"#\/definitions\/GitHubUser"},"___state":{"description":"The state for the PR","type":"string","enum":["closed","locked","merged","open"]},"___number":{"description":"The UUID for the PR","type":"number"},"___assignee":{"description":"The User who is assigned the PR","$ref":"#\/definitions\/GitHubUser"},"___closed_at":{"description":"optional ISO6801 Date string for when PR was closed","type":["null","string"]},"___updated_at":{"description":"ISO6801 Date string for when PR was updated","type":"string"},"___assignees":{"description":"The Users who are assigned to the PR","type":"array","items":{"$ref":"#\/definitions\/GitHubUser"}},"___review_comments":{"description":"The number of review-specific comments on the PR","type":"number"}}},"description":"The PR metadata for a code review session"},"___api":{"$eref":{"type":"object","properties":{"___projects":{"type":"object"},"___apps":{"type":"object"},"___gists":{"type":"object"},"___gitignore":{"type":"object"},"___pulls":{"type":"object"},"___markdown":{"type":"object"},"___reactions":{"type":"object"},"___checks":{"type":"object"},"___hook":{"type":"object"},"___activity":{"type":"object"},"___emojis":{"type":"object"},"___migrations":{"type":"object"},"___codesOfConduct":{"type":"object"},"___oauthAuthorizations":{"type":"object"},"___issues":{"type":"object"},"___interactions":{"type":"object"},"___users":{"type":"object"},"___git":{"type":"object"},"___repos":{"type":"object"},"___request":{},"___licenses":{"type":"object"},"___orgs":{"type":"object"},"___search":{"type":"object"},"___teams":{"type":"object"},"___meta":{"type":"object"},"___rateLimit":{"type":"object"}}},"description":"An authenticated API so you can extend danger's behavior by using the [GitHub v3 API](https:\/\/developer.github.com\/v3\/).\n\nA set up instance of the \"github\" npm module. You can get the full [API here](https:\/\/octokit.github.io\/node-github\/)."},"___requested_reviewers":{"description":"The people requested to review this PR","type":"array","items":{"$eref":{"description":"A GitHub user account.","type":"object","properties":{"___type":{"description":"Whether the user is an org, or a user","type":"string","enum":["Bot","Organization","User"]},"___login":{"description":"The handle for the user\/org","type":"string"},"___id":{"description":"Generic UUID","type":"number"},"___avatar_url":{"description":"The url for a users's image","type":"string"}}}}},"___reviews":{"description":"The reviews left on this pull request","type":"array","items":{"$eref":{"description":"GitHubReview\nWhile a review is pending, it will only have a user.  Once a review is complete, the rest of\nthe review attributes will be present","type":"object","properties":{"___body":{"description":"If there is a review, the body of the review","type":"string"},"___user":{"description":"The user requested to review, or the user who has completed the review","$ref":"#\/definitions\/GitHubUser"},"___state":{"description":"The state of the review\nAPPROVED, REQUEST_CHANGES, COMMENT or PENDING","type":"string","enum":["APPROVED","COMMENT","PENDING","REQUEST_CHANGES"]},"___id":{"description":"If there is a review, this provides the ID for it","type":"number"},"___commit_id":{"description":"If there is a review, the commit ID this review was made on","type":"string"}}}}},"___thisPR":{"$eref":{"description":"Provides the current PR in an easily used way for params in `github.api` calls","type":"object","properties":{"___number":{"description":"The PR number","type":"number"},"___owner":{"description":"The repo owner","type":"string"},"___repo":{"description":"The repo name","type":"string"}}},"description":"The PR metadata specifically formatted for using with the GitHub API client"}}},"_88BitBucketServerPRDSL":{"description":"An exact copy of the PR's reference JSON. This interface has type'd the majority\nof it for tooling's sake, but any extra metadata which BitBucket Server send\nwill still be inside the JS object.","type":"object","properties":{"___reviewers":{"description":"People requested as reviewers","type":"array","items":{"allOf":[{"$eref":{"type":"object","properties":{"___status":{"description":"Their review feedback","type":"string","enum":["APPROVED","NEEDS_WORK","UNAPPROVED"]},"___user":{"$ref":"#\/definitions\/BitBucketServerUser"},"___role":{"description":"How did they contribute","type":"string","enum":["AUTHOR","PARTICIPANT","REVIEWER"]},"___approved":{"description":"Did they approve of the PR?","type":"boolean"}}}},{"type":"object","properties":{"___role":{"type":"string","enum":["REVIEWER"]}}}]}},"___fromRef":{"$eref":{"type":"object","properties":{"___displayId":{"type":"string"},"___latestCommit":{"type":"string"},"___repository":{"$ref":"#\/definitions\/BitBucketServerRepo"},"___id":{"type":"string"}}},"description":"The PR submitter's reference"},"___links":{"description":"Misc links for hypermedia conformance","type":"string","enum":["self"]},"___participants":{"description":"People who have participated in the PR","type":"array","items":{"allOf":[{"$eref":{"type":"object","properties":{"___status":{"description":"Their review feedback","type":"string","enum":["APPROVED","NEEDS_WORK","UNAPPROVED"]},"___user":{"$ref":"#\/definitions\/BitBucketServerUser"},"___role":{"description":"How did they contribute","type":"string","enum":["AUTHOR","PARTICIPANT","REVIEWER"]},"___approved":{"description":"Did they approve of the PR?","type":"boolean"}}}},{"type":"object","properties":{"___role":{"type":"string","enum":["PARTICIPANT"]}}}]}},"___title":{"description":"Title of the pull request.","type":"string"},"___createdDate":{"description":"Date PR created as number of milliseconds since the unix epoch","type":"number"},"___toRef":{"$eref":{"type":"object","properties":{"___displayId":{"type":"string"},"___latestCommit":{"type":"string"},"___repository":{"$ref":"#\/definitions\/BitBucketServerRepo"},"___id":{"type":"string"}}},"description":"The repo Danger is running on"},"___closed":{"description":"Is the PR closed?","type":"boolean"},"___open":{"description":"Is the PR open?","type":"boolean"},"___description":{"description":"The text describing the PR","type":"string"},"___locked":{"description":"Was this PR locked?","type":"boolean"},"___version":{"description":"The API version","type":"number"},"___state":{"description":"The pull request's current status.","type":"string","enum":["DECLINED","MERGED","OPEN","SUPERSEDED"]},"___updatedDate":{"description":"Date PR updated as number of milliseconds since the unix epoch","type":"number"},"___author":{"allOf":[{"$eref":{"type":"object","properties":{"___status":{"description":"Their review feedback","type":"string","enum":["APPROVED","NEEDS_WORK","UNAPPROVED"]},"___user":{"$ref":"#\/definitions\/BitBucketServerUser"},"___role":{"description":"How did they contribute","type":"string","enum":["AUTHOR","PARTICIPANT","REVIEWER"]},"___approved":{"description":"Did they approve of the PR?","type":"boolean"}}}},{"type":"object","properties":{"___role":{"type":"string","enum":["AUTHOR"]}}}],"description":"The creator of the PR"},"___id":{"description":"The PR's ID","type":"number"}}},"_88BitBucketServerMergeRef":{"type":"object","properties":{"___displayId":{"type":"string"},"___latestCommit":{"type":"string"},"___repository":{"$eref":{"description":"A BitBucket Server Repo","type":"object","properties":{"___name":{"description":"The repo name","type":"string"},"___forkable":{"description":"Can someone fork this repo?","type":"boolean"},"___links":{"description":"Links for the projects","$ref":"#\/definitions\/BitBucketServerLinks"},"___scmId":{"description":"The type of SCM tool, probably \"git\"","type":"string"},"___slug":{"description":"The slug for the repo","type":"string"},"___public":{"description":"Is the repo public?","type":"boolean"},"___project":{"description":"An abstraction for grouping repos","type":"object","properties":{"___name":{"description":"The name of the project","type":"string"},"___key":{"description":"The project's human readable project key","type":"string"},"___type":{"description":"The project's type","type":"string"},"___links":{"description":"Hyperlinks for the project","type":"string","enum":["self"]},"___public":{"description":"Is the project publicly available","type":"boolean"},"___id":{"description":"The project unique id","type":"number"}}}}}},"___id":{"type":"string"}}},"_88BitBucketServerLinks":{"type":"string","enum":["clone","self"]},"_88GitHubRepo":{"description":"A GitHub Repo","type":"object","properties":{"___name":{"description":"The name of the repo, e.g. \"Danger-JS\"","type":"string"},"___private":{"description":"Is the repo publicly accessible?","type":"boolean"},"___description":{"description":"The textual description of the repo","type":"string"},"___assignee":{"$eref":{"description":"A GitHub user account.","type":"object","properties":{"___type":{"description":"Whether the user is an org, or a user","type":"string","enum":["Bot","Organization","User"]},"___login":{"description":"The handle for the user\/org","type":"string"},"___id":{"description":"Generic UUID","type":"number"},"___avatar_url":{"description":"The url for a users's image","type":"string"}}},"description":"Is someone assigned to this PR?"},"___fork":{"description":"Is the repo a fork?","type":"boolean"},"___full_name":{"description":"The full name of the owner + repo, e.g. \"Danger\/Danger-JS\"","type":"string"},"___html_url":{"description":"The root web URL for the repo, e.g. https:\/\/github.com\/artsy\/emission","type":"string"},"___owner":{"$eref":{"description":"A GitHub user account.","type":"object","properties":{"___type":{"description":"Whether the user is an org, or a user","type":"string","enum":["Bot","Organization","User"]},"___login":{"description":"The handle for the user\/org","type":"string"},"___id":{"description":"Generic UUID","type":"number"},"___avatar_url":{"description":"The url for a users's image","type":"string"}}},"description":"The owner of the repo"},"___assignees":{"description":"Are there people assigned to this PR?","type":"array","items":{"$eref":{"description":"A GitHub user account.","type":"object","properties":{"___type":{"description":"Whether the user is an org, or a user","type":"string","enum":["Bot","Organization","User"]},"___login":{"description":"The handle for the user\/org","type":"string"},"___id":{"description":"Generic UUID","type":"number"},"___avatar_url":{"description":"The url for a users's image","type":"string"}}}}},"___id":{"description":"Generic UUID","type":"number"}}},"_88BitBucketServerPRParticipant":{"type":"object","properties":{"___status":{"description":"Their review feedback","type":"string","enum":["APPROVED","NEEDS_WORK","UNAPPROVED"]},"___user":{"$eref":{"description":"A BitBucketServer user account.","type":"object","properties":{"___name":{"description":"The name of the user","type":"string"},"___active":{"description":"Is the account active","type":"boolean"},"___emailAddress":{"description":"The email for the user","type":"string"},"___type":{"description":"The type of a user, \"NORMAL\" being a typical user3","type":"string","enum":["NORMAL","SERVICE"]},"___slug":{"description":"The user's slug for URLs","type":"string"},"___displayName":{"description":"The name to use when referencing the user","type":"string"},"___id":{"description":"The unique user ID","type":"number"}}}},"___role":{"description":"How did they contribute","type":"string","enum":["AUTHOR","PARTICIPANT","REVIEWER"]},"___approved":{"description":"Did they approve of the PR?","type":"boolean"}}},"_88GitHubCommit":{"description":"A GitHub specific implementation of a git commit, it has GitHub user names instead of an email.","type":"object","properties":{"___parents":{"description":"An array of parent commit shas","type":"array","items":{}},"___committer":{"$eref":{"description":"A GitHub user account.","type":"object","properties":{"___type":{"description":"Whether the user is an org, or a user","type":"string","enum":["Bot","Organization","User"]},"___login":{"description":"The handle for the user\/org","type":"string"},"___id":{"description":"Generic UUID","type":"number"},"___avatar_url":{"description":"The url for a users's image","type":"string"}}},"description":"The GitHub user who shipped the code"},"___url":{"description":"the url for the commit on GitHub","type":"string"},"___commit":{"$eref":{"description":"A platform agnostic reference to a Git commit","type":"object","properties":{"___tree":{"description":"Potential parent commits, and other assorted metadata"},"___parents":{"description":"SHAs for the commit's parents","type":"array","items":{"type":"string"}},"___committer":{"description":"Who deployed the commit","$ref":"#\/definitions\/GitCommitAuthor"},"___url":{"description":"Link to the commit","type":"string"},"___message":{"description":"The commit message","type":"string"},"___sha":{"description":"The SHA for the commit","type":"string"},"___author":{"description":"Who wrote the commit","$ref":"#\/definitions\/GitCommitAuthor"}}},"description":"The raw commit metadata"},"___sha":{"description":"The SHA for the commit","type":"string"},"___author":{"$eref":{"description":"A GitHub user account.","type":"object","properties":{"___type":{"description":"Whether the user is an org, or a user","type":"string","enum":["Bot","Organization","User"]},"___login":{"description":"The handle for the user\/org","type":"string"},"___id":{"description":"Generic UUID","type":"number"},"___avatar_url":{"description":"The url for a users's image","type":"string"}}},"description":"The GitHub user who wrote the code"}}},"_88BitBucketServerRepo":{"description":"A BitBucket Server Repo","type":"object","properties":{"___name":{"description":"The repo name","type":"string"},"___forkable":{"description":"Can someone fork this repo?","type":"boolean"},"___links":{"$eref":{"type":"string","enum":["clone","self"]},"description":"Links for the projects"},"___scmId":{"description":"The type of SCM tool, probably \"git\"","type":"string"},"___slug":{"description":"The slug for the repo","type":"string"},"___public":{"description":"Is the repo public?","type":"boolean"},"___project":{"description":"An abstraction for grouping repos","type":"object","properties":{"___name":{"description":"The name of the project","type":"string"},"___key":{"description":"The project's human readable project key","type":"string"},"___type":{"description":"The project's type","type":"string"},"___links":{"description":"Hyperlinks for the project","type":"string","enum":["self"]},"___public":{"description":"Is the project publicly available","type":"boolean"},"___id":{"description":"The project unique id","type":"number"}}}}}},"properties":{"___danger":{"$eref":{"description":"The root of the Danger JSON DSL.","type":"object","properties":{"___git":{"description":"The data only version of Git DSL","$ref":"#\/definitions\/GitJSONDSL"},"___settings":{"description":"Used in the Danger JSON DSL to pass metadata between\nprocesses. It will be undefined when used inside the Danger DSL","type":"object","properties":{"___github":{"description":"Saves each client re-implementing logic to grab these vars\nfor their API clients","type":"object","properties":{"___additionalHeaders":{"description":"Optional headers to add to a request"},"___accessToken":{"description":"API token for the GitHub client to use","type":"string"},"___baseURL":{"description":"Optional URL for enterprise GitHub","type":"string"}}},"___cliArgs":{"description":"This is still a bit of a WIP, but this should\npass args\/opts from the original CLI call through\nto the process.","$ref":"#\/definitions\/CliArgs"}}},"___github":{"description":"The data only version of GitHub DSL","$ref":"#\/definitions\/GitHubDSL"},"___bitbucket_server":{"description":"The data only version of BitBucket Server DSL","$ref":"#\/definitions\/BitBucketServerJSONDSL"}}}}}}