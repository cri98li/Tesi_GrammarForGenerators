{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"In the application manifest a developer defines the application, its dependencies on other applications, services and environment variables that should be set. The application manifest is a JSON file. While the two required values are located in the root object, all deployment information is located under the ```deployment``` key. This way, applications written in NodeJS can reuse their existing package.json file as their application manifest by simply adding the ```deployment``` section.","id":"http:\/\/github.com\/push2cloud\/push2cloud\/schemas\/application-manifest.json","title":"application manifest","type":"object","properties":{"___name":{"description":"Identifier for the application. Must be unique in a release. This value is used to identify an application throughout push2cloud, such as in `appConnections`, the [release manifest](release_manifest.md) and the [deployment manifest](deployment_manifest.md).","id":"name","type":"string"},"___deployment":{"description":"the entrypoint for all deployment information","id":"deployment","type":"object","properties":{"___stageTimeout":{"default":300,"description":"how long the app can take to stage before it is considered an error","id":"stageTimeout","type":"integer","minimum":0},"___scripts":{"description":"scripts that are used in workflows during the apps deployment","id":"scripts","additionalProperties":{"type":"object","properties":{"___prepare":{"description":"scripts that run during the [packageApp helper](https:\/\/github.com\/push2cloud\/workflow-utils\/blob\/master\/packageApp.js).","type":"array","items":{"type":"string"}}}},"type":"object"},"___memory":{"default":"256M","pattern":"^[0-9]*[MG]$","description":"the amount of memory the app requires, e.g.: 128M, 1G","id":"memory","type":"string"},"___gracePeriod":{"default":40,"description":"how long the app has to run without crashing to be considered successfully started","id":"gracePeriod","type":"integer","minimum":0},"___disk":{"default":"256M","pattern":"^[0-9]*[MG]$","description":"the amount of disk the app requires, e.g.: 128M, 1G","id":"disk","type":"string"},"___serviceBinding":{"description":"names of services this app needs connections to","id":"serviceBinding","type":"array","items":{"type":"string"}},"___env":{"description":"environment variables to set\/substitue for this app","id":"env","additionalProperties":{"type":"string"},"type":"object"},"___appBits":{"description":"Alias for path. Will be overwritten by path.","id":"appBits","type":"string"},"___appConnections":{"description":"names of other apps this app needs connections to","id":"appConnections","additionalProperties":{"type":"object","properties":{"___injectCredentials":{"description":"controls the injection of _USERNAME and _PASSWORD credentials for this connection","type":"boolean"},"___urls":{"description":"inject the connection information additonally with the following key and with value as a suffix to the URL","additionalProperties":{"type":"string"},"type":"object"}}},"type":"object"},"___instances":{"default":1,"description":"the base amount of instances","id":"instances","type":"integer","minimum":1},"___startTimeout":{"description":"how long the app can take to start before it is considered an error","id":"startTimeout","type":"integer","minimum":0},"___buildpack":{"description":"buildbpack to build the application","id":"buildpack","type":"string"},"___path":{"description":"which folder\/file should be used for deployment. Useful for java applications. Similar to [path in CloudFoundry manifests](http:\/\/docs.cloudfoundry.org\/devguide\/deploy-apps\/manifest.html#path).","id":"path","type":"string"}}},"___version":{"description":"The version of your application. Use [semver](http:\/\/semver.org\/). The version is used in certain [workflows](workflows.md) to determine if an update is required.","id":"version","type":"string"}},"required":["name","version","deployment"],"example":{"name":"push2cloud-example-api","version":"1.0.0","deployment":{"path":"build\/libs\/java-1.0.jar","gracePeriod":20,"disk":512,"memory":512,"startTimeout":100,"instances":1,"stageTimeout":200,"serviceBinding":["todo-db"],"buildpack":"https:\/\/github.com\/cloudfoundry\/nodejs-buildpack.git","scripts":{"package":["gradle jar"]},"env":{"FOO":"BAR"},"appConnections":{"push2cloud-example-host":{"urls":{"START_URL":"\/start"},"injectCredentials":false}}}}}