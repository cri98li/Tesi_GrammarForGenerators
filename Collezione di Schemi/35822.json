{"$schema":"http:\/\/json-schema.org\/schema#","type":"object","properties":{"___networking":{"description":"Marathon-LB service configuration properties.","type":"object","properties":{"___admin":{"description":"Kong's Admin port configuration.","type":"object","properties":{"___service-port":{"default":10202,"description":"Port number to be used for external traffic to cluster through Marathon-LB load balancer.","type":"integer"},"___external-access":{"default":false,"description":"Enable or disable creating a VIP for external access through a public node running Marathon-LB.","title":"Allow external access","type":"boolean"},"___vip-port":{"default":8001,"description":"Port number to be used for communication internally to the cluster. Default is 8001.","type":"number"}}},"___proxy":{"description":"Kong's Proxy port configuration.","type":"object","properties":{"___https-redirect":{"default":false,"description":"Whether Marathon-lb should redirect HTTP traffic to HTTPS. This requires 'virtual-host' to be set.","type":"boolean"},"___virtual-host":{"description":"The virtual host address to integrate Kong proxy port with Marathon-lb.","type":"string"},"___service-port":{"default":10201,"description":"Port number to be used for external traffic to cluster through Marathon-LB load balancer.","type":"integer"},"___external-access":{"default":true,"description":"Enable or disable creating a VIP for external access through a public node running Marathon-LB.","title":"Allow external access","type":"boolean"},"___vip-port":{"default":8000,"description":"Port number to be used for communication internally to the cluster. Default is 8000.","type":"number"}}},"___admin-ssl":{"description":"Kong's Admin ssl port configuration.","type":"object","properties":{"___service-port":{"default":10203,"description":"Port number to be used for external traffic to cluster through Marathon-LB load balancer.","type":"integer"},"___external-access":{"default":false,"description":"Enable or disable creating a VIP for external access through a public node running Marathon-LB.","title":"Allow external access","type":"boolean"},"___vip-port":{"default":8444,"description":"Port number to be used for communication internally to the cluster. Default is 8444.","type":"number"}}}}},"___configurations":{"description":"Kong configuration properties.","type":"object","properties":{"___cassandra":{"description":"Cassandra connection properties.","type":"object","properties":{"___contact-points":{"default":"node-0.cassandra.mesos, node-1.cassandra.mesos, node-2.cassandra.mesos","description":"A comma-separated list of contact points.","type":"string"},"___use-cassandra":{"default":false,"description":"If true, Cassandra is used as Kong datastore.","title":"Use Cassandra as Kong datastore?","type":"boolean"},"___port":{"default":9042,"description":"The port on which cassandra nodes are listening on.","type":"integer"},"___keyspace":{"default":"kong","description":"Cassandra keyspace.","type":"string"}}},"___postgres":{"description":"Postgres connection properties.","type":"object","properties":{"___password":{"default":"kong","description":"Postgres password.","type":"string"},"___user":{"default":"kong","description":"Postgres user.","type":"string"},"___database":{"default":"kong","description":"Postgres database name.","type":"string"},"___port":{"default":5432,"description":"Postgres port.","type":"integer"},"___host":{"default":"postgres.marathon.l4lb.thisdcos.directory","description":"Postgres host address.","type":"string"}}},"___log-level":{"default":"notice","description":"Log level of the Kong server.","type":"string"},"___custom-envs":{"pattern":"^(KONG_\\w+=\\S+)*(\\sKONG_\\w+=\\S+)*$","description":"A space-separated list Kong configurations. Please avoid updating properties which already being set through other properties above.","type":"string"}}},"___service":{"description":"DC\/OS service configuration properties","type":"object","properties":{"___name":{"default":"kong","description":"The name of this Kong instance.","type":"string"},"___mem":{"default":512,"description":"Memory (MB) to allocate to each task.","type":"number","minimum":512},"___instances":{"default":1,"description":"Number of instances to run.","type":"integer","minimum":1},"___role":{"default":"*","description":"Deploy Kong only on nodes with this role.","type":"string"},"___cpus":{"default":1,"description":"CPU shares to allocate to each instance.","type":"number","minimum":1}},"required":["name","instances","cpus","mem","role"]}}}