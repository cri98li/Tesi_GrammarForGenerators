{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"Microsoft ContainerRegistry Resource Types","id":"https:\/\/schema.management.azure.com\/schemas\/2019-04-01\/Microsoft.ContainerRegistry.json#","title":"Microsoft.ContainerRegistry","resourceDefinitions":{"registries_tasks":{"description":"Microsoft.ContainerRegistry\/registries\/tasks","type":"object","properties":{"___location":{"description":"The location of the resource. This cannot be changed after the resource is created.","type":"string"},"___name":{"oneOf":[{"minLength":5,"pattern":"^[a-zA-Z0-9-_]*$","type":"string","maxLength":50},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The name of the container registry task."},"___identity":{"oneOf":[{"$eref":{"description":"Managed identity for the resource.","type":"object","properties":{"___type":{"oneOf":[{"type":"string","enum":["SystemAssigned","UserAssigned","SystemAssigned, UserAssigned","None"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The identity type."},"___tenantId":{"description":"The tenant ID of resource.","type":"string"},"___principalId":{"description":"The principal ID of resource identity.","type":"string"},"___userAssignedIdentities":{"oneOf":[{"additionalProperties":{"$ref":"#\/definitions\/UserIdentityProperties"},"type":"object","properties":{}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The list of user identities associated with the resource. The user identity \r\ndictionary key references will be ARM resource ids in the form: \r\n'\/subscriptions\/{subscriptionId}\/resourceGroups\/{resourceGroupName}\/\r\n    providers\/Microsoft.ManagedIdentity\/userAssignedIdentities\/{identityName}'."}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Managed identity for the resource."},"___type":{"type":"string","enum":["Microsoft.ContainerRegistry\/registries\/tasks"]},"___tags":{"oneOf":[{"additionalProperties":{"type":"string"},"type":"object","properties":{}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The tags of the resource."},"___properties":{"oneOf":[{"$eref":{"description":"The properties of a task.","type":"object","properties":{"___trigger":{"oneOf":[{"$ref":"#\/definitions\/TriggerProperties"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The properties of a trigger."},"___agentConfiguration":{"oneOf":[{"$ref":"#\/definitions\/AgentProperties"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The properties that determine the run agent configuration."},"___platform":{"oneOf":[{"$ref":"#\/definitions\/PlatformProperties"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The platform properties against which the run has to happen."},"___status":{"oneOf":[{"type":"string","enum":["Disabled","Enabled"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The current status of task."},"___step":{"oneOf":[{"$ref":"#\/definitions\/TaskStepProperties"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Base properties for any task step."},"___timeout":{"oneOf":[{"default":"3600","maximum":28800,"type":"integer","minimum":300},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Run timeout in seconds."},"___credentials":{"oneOf":[{"$ref":"#\/definitions\/Credentials"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The parameters that describes a set of credentials that will be used when a run is invoked."}},"required":["platform","step"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The properties of a task."},"___apiVersion":{"type":"string","enum":["2019-04-01"]}},"required":["apiVersion","location","name","properties","type"]}},"definitions":{"_88TriggerProperties":{"description":"The properties of a trigger.","type":"object","properties":{"___baseImageTrigger":{"oneOf":[{"$eref":{"description":"The trigger based on base image dependency.","type":"object","properties":{"___name":{"description":"The name of the trigger.","type":"string"},"___status":{"oneOf":[{"type":"string","enum":["Disabled","Enabled"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The current status of trigger."},"___baseImageTriggerType":{"oneOf":[{"type":"string","enum":["All","Runtime"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The type of the auto trigger for base image dependency updates."}},"required":["baseImageTriggerType","name"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The trigger based on base image dependency."},"___sourceTriggers":{"oneOf":[{"type":"array","items":{"$eref":{"description":"The properties of a source based trigger.","type":"object","properties":{"___name":{"description":"The name of the trigger.","type":"string"},"___sourceTriggerEvents":{"oneOf":[{"type":"array","items":{"type":"string","enum":["commit","pullrequest"]}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The source event corresponding to the trigger."},"___status":{"oneOf":[{"type":"string","enum":["Disabled","Enabled"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The current status of trigger."},"___sourceRepository":{"oneOf":[{"$ref":"#\/definitions\/SourceProperties"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The properties of the source code repository."}},"required":["name","sourceRepository","sourceTriggerEvents"]}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The collection of triggers based on source code repository."},"___timerTriggers":{"oneOf":[{"type":"array","items":{"$eref":{"description":"The properties of a timer trigger.","type":"object","properties":{"___name":{"description":"The name of the trigger.","type":"string"},"___status":{"oneOf":[{"type":"string","enum":["Disabled","Enabled"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The current status of trigger."},"___schedule":{"description":"The CRON expression for the task schedule","type":"string"}},"required":["name","schedule"]}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The collection of timer triggers."}}},"_88SourceTrigger":{"description":"The properties of a source based trigger.","type":"object","properties":{"___name":{"description":"The name of the trigger.","type":"string"},"___sourceTriggerEvents":{"oneOf":[{"type":"array","items":{"type":"string","enum":["commit","pullrequest"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The source event corresponding to the trigger."},"___status":{"oneOf":[{"type":"string","enum":["Disabled","Enabled"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The current status of trigger."},"___sourceRepository":{"oneOf":[{"$eref":{"description":"The properties of the source code repository.","type":"object","properties":{"___branch":{"description":"The branch name of the source code.","type":"string"},"___repositoryUrl":{"description":"The full URL to the source code repository","type":"string"},"___sourceControlAuthProperties":{"oneOf":[{"$ref":"#\/definitions\/AuthInfo"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The authorization properties for accessing the source code repository."},"___sourceControlType":{"oneOf":[{"type":"string","enum":["Github","VisualStudioTeamService"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The type of source control service."}},"required":["repositoryUrl","sourceControlType"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The properties of the source code repository."}},"required":["name","sourceRepository","sourceTriggerEvents"]},"_88BaseImageTrigger":{"description":"The trigger based on base image dependency.","type":"object","properties":{"___name":{"description":"The name of the trigger.","type":"string"},"___status":{"oneOf":[{"type":"string","enum":["Disabled","Enabled"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The current status of trigger."},"___baseImageTriggerType":{"oneOf":[{"type":"string","enum":["All","Runtime"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The type of the auto trigger for base image dependency updates."}},"required":["baseImageTriggerType","name"]},"_88EncodedTaskStep":{"description":"The properties of a encoded task step.","type":"object","properties":{"___encodedTaskContent":{"description":"Base64 encoded value of the template\/definition file content.","type":"string"},"___type":{"type":"string","enum":["EncodedTask"]},"___encodedValuesContent":{"description":"Base64 encoded value of the parameters\/values file content.","type":"string"},"___values":{"oneOf":[{"type":"array","items":{"$eref":{"description":"The properties of a overridable value that can be passed to a task template.","type":"object","properties":{"___name":{"description":"The name of the overridable value.","type":"string"},"___isSecret":{"oneOf":[{"default":false,"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Flag to indicate whether the value represents a secret or not."},"___value":{"description":"The overridable value.","type":"string"}},"required":["name","value"]}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The collection of overridable values that can be passed when running a task."}},"required":["encodedTaskContent","type"]},"_88DockerBuildStep":{"description":"The Docker build step.","type":"object","properties":{"___isPushEnabled":{"oneOf":[{"default":true,"type":"boolean"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The value of this property indicates whether the image built should be pushed to the registry or not."},"___target":{"description":"The name of the target build stage for the docker build.","type":"string"},"___type":{"type":"string","enum":["Docker"]},"___dockerFilePath":{"description":"The Docker file path relative to the source context.","type":"string"},"___noCache":{"oneOf":[{"default":false,"type":"boolean"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The value of this property indicates whether the image cache is enabled or not."},"___imageNames":{"oneOf":[{"type":"array","items":{"type":"string"}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The fully qualified image names including the repository and tag."},"___arguments":{"oneOf":[{"type":"array","items":{"$eref":{"description":"The properties of a run argument.","type":"object","properties":{"___name":{"description":"The name of the argument.","type":"string"},"___isSecret":{"oneOf":[{"default":false,"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Flag to indicate whether the argument represents a secret and want to be removed from build logs."},"___value":{"description":"The value of the argument.","type":"string"}},"required":["name","value"]}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The collection of override arguments to be used when executing this build step."}},"required":["dockerFilePath","type"]},"_88Credentials":{"description":"The parameters that describes a set of credentials that will be used when a run is invoked.","type":"object","properties":{"___customRegistries":{"oneOf":[{"additionalProperties":{"$eref":{"description":"Describes the credentials that will be used to access a custom registry during a run.","type":"object","properties":{"___identity":{"description":"Indicates the managed identity assigned to the custom credential. If a user-assigned identity\r\nthis value is the Client ID. If a system-assigned identity, the value will be `system`. In\r\nthe case of a system-assigned identity, the Client ID will be determined by the runner. This\r\nidentity may be used to authenticate to key vault to retrieve credentials or it may be the only \r\nsource of authentication used for accessing the registry.","type":"string"},"___password":{"oneOf":[{"$ref":"#\/definitions\/SecretObject"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Describes the properties of a secret object value."},"___userName":{"oneOf":[{"$ref":"#\/definitions\/SecretObject"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Describes the properties of a secret object value."}}}},"type":"object","properties":{}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Describes the credential parameters for accessing other custom registries. The key\r\nfor the dictionary item will be the registry login server (myregistry.azurecr.io) and\r\nthe value of the item will be the registry credentials for accessing the registry."},"___sourceRegistry":{"oneOf":[{"$eref":{"description":"Describes the credential parameters for accessing the source registry.","type":"object","properties":{"___loginMode":{"oneOf":[{"type":"string","enum":["None","Default"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The authentication mode which determines the source registry login scope. The credentials for the source registry\r\nwill be generated using the given scope. These credentials will be used to login to\r\nthe source registry during the run."}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Describes the credential parameters for accessing the source registry."}}},"_88AuthInfo":{"description":"The authorization properties for accessing the source code repository.","type":"object","properties":{"___refreshToken":{"description":"The refresh token used to refresh the access token.","type":"string"},"___token":{"description":"The access token used to access the source control provider.","type":"string"},"___scope":{"description":"The scope of the access token.","type":"string"},"___tokenType":{"oneOf":[{"type":"string","enum":["PAT","OAuth"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The type of Auth token."},"___expiresIn":{"oneOf":[{"type":"integer"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Time in seconds that the token remains valid"}},"required":["token","tokenType"]},"_88PlatformProperties":{"description":"The platform properties against which the run has to happen.","type":"object","properties":{"___architecture":{"oneOf":[{"type":"string","enum":["amd64","x86","arm"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The OS architecture."},"___os":{"oneOf":[{"type":"string","enum":["Windows","Linux"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The operating system type required for the run."},"___variant":{"oneOf":[{"type":"string","enum":["v6","v7","v8"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Variant of the CPU."}},"required":["os"]},"_88SourceProperties":{"description":"The properties of the source code repository.","type":"object","properties":{"___branch":{"description":"The branch name of the source code.","type":"string"},"___repositoryUrl":{"description":"The full URL to the source code repository","type":"string"},"___sourceControlAuthProperties":{"oneOf":[{"$eref":{"description":"The authorization properties for accessing the source code repository.","type":"object","properties":{"___refreshToken":{"description":"The refresh token used to refresh the access token.","type":"string"},"___token":{"description":"The access token used to access the source control provider.","type":"string"},"___scope":{"description":"The scope of the access token.","type":"string"},"___tokenType":{"oneOf":[{"type":"string","enum":["PAT","OAuth"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The type of Auth token."},"___expiresIn":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Time in seconds that the token remains valid"}},"required":["token","tokenType"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The authorization properties for accessing the source code repository."},"___sourceControlType":{"oneOf":[{"type":"string","enum":["Github","VisualStudioTeamService"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The type of source control service."}},"required":["repositoryUrl","sourceControlType"]},"_88FileTaskStep":{"description":"The properties of a task step.","type":"object","properties":{"___type":{"type":"string","enum":["FileTask"]},"___valuesFilePath":{"description":"The task values\/parameters file path relative to the source context.","type":"string"},"___values":{"oneOf":[{"type":"array","items":{"$eref":{"description":"The properties of a overridable value that can be passed to a task template.","type":"object","properties":{"___name":{"description":"The name of the overridable value.","type":"string"},"___isSecret":{"oneOf":[{"default":false,"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Flag to indicate whether the value represents a secret or not."},"___value":{"description":"The overridable value.","type":"string"}},"required":["name","value"]}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The collection of overridable values that can be passed when running a task."},"___taskFilePath":{"description":"The task template\/definition file path relative to the source context.","type":"string"}},"required":["taskFilePath","type"]},"_88CustomRegistryCredentials":{"description":"Describes the credentials that will be used to access a custom registry during a run.","type":"object","properties":{"___identity":{"description":"Indicates the managed identity assigned to the custom credential. If a user-assigned identity\r\nthis value is the Client ID. If a system-assigned identity, the value will be `system`. In\r\nthe case of a system-assigned identity, the Client ID will be determined by the runner. This\r\nidentity may be used to authenticate to key vault to retrieve credentials or it may be the only \r\nsource of authentication used for accessing the registry.","type":"string"},"___password":{"oneOf":[{"$eref":{"description":"Describes the properties of a secret object value.","type":"object","properties":{"___type":{"oneOf":[{"type":"string","enum":["Opaque","Vaultsecret"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The type of the secret object which determines how the value of the secret object has to be\r\ninterpreted."},"___value":{"description":"The value of the secret. The format of this value will be determined\r\nbased on the type of the secret object. If the type is Opaque, the value will be\r\nused as is without any modification.","type":"string"}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Describes the properties of a secret object value."},"___userName":{"oneOf":[{"$eref":{"description":"Describes the properties of a secret object value.","type":"object","properties":{"___type":{"oneOf":[{"type":"string","enum":["Opaque","Vaultsecret"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The type of the secret object which determines how the value of the secret object has to be\r\ninterpreted."},"___value":{"description":"The value of the secret. The format of this value will be determined\r\nbased on the type of the secret object. If the type is Opaque, the value will be\r\nused as is without any modification.","type":"string"}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Describes the properties of a secret object value."}}},"_88TaskStepProperties":{"oneOf":[{"$eref":{"description":"The Docker build step.","type":"object","properties":{"___isPushEnabled":{"oneOf":[{"default":true,"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The value of this property indicates whether the image built should be pushed to the registry or not."},"___target":{"description":"The name of the target build stage for the docker build.","type":"string"},"___type":{"type":"string","enum":["Docker"]},"___dockerFilePath":{"description":"The Docker file path relative to the source context.","type":"string"},"___noCache":{"oneOf":[{"default":false,"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The value of this property indicates whether the image cache is enabled or not."},"___imageNames":{"oneOf":[{"type":"array","items":{"type":"string"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The fully qualified image names including the repository and tag."},"___arguments":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/Argument"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The collection of override arguments to be used when executing this build step."}},"required":["dockerFilePath","type"]}},{"$eref":{"description":"The properties of a task step.","type":"object","properties":{"___type":{"type":"string","enum":["FileTask"]},"___valuesFilePath":{"description":"The task values\/parameters file path relative to the source context.","type":"string"},"___values":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/SetValue"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The collection of overridable values that can be passed when running a task."},"___taskFilePath":{"description":"The task template\/definition file path relative to the source context.","type":"string"}},"required":["taskFilePath","type"]}},{"$eref":{"description":"The properties of a encoded task step.","type":"object","properties":{"___encodedTaskContent":{"description":"Base64 encoded value of the template\/definition file content.","type":"string"},"___type":{"type":"string","enum":["EncodedTask"]},"___encodedValuesContent":{"description":"Base64 encoded value of the parameters\/values file content.","type":"string"},"___values":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/SetValue"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The collection of overridable values that can be passed when running a task."}},"required":["encodedTaskContent","type"]}}],"description":"Base properties for any task step.","type":"object","properties":{"___contextAccessToken":{"description":"The token (git PAT or SAS token of storage account blob) associated with the context for a step.","type":"string"},"___contextPath":{"description":"The URL(absolute or relative) of the source context for the task step.","type":"string"}}},"_88SecretObject":{"description":"Describes the properties of a secret object value.","type":"object","properties":{"___type":{"oneOf":[{"type":"string","enum":["Opaque","Vaultsecret"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The type of the secret object which determines how the value of the secret object has to be\r\ninterpreted."},"___value":{"description":"The value of the secret. The format of this value will be determined\r\nbased on the type of the secret object. If the type is Opaque, the value will be\r\nused as is without any modification.","type":"string"}}},"_88SourceRegistryCredentials":{"description":"Describes the credential parameters for accessing the source registry.","type":"object","properties":{"___loginMode":{"oneOf":[{"type":"string","enum":["None","Default"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The authentication mode which determines the source registry login scope. The credentials for the source registry\r\nwill be generated using the given scope. These credentials will be used to login to\r\nthe source registry during the run."}}},"_88AgentProperties":{"description":"The properties that determine the run agent configuration.","type":"object","properties":{"___cpu":{"oneOf":[{"type":"integer"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The CPU configuration in terms of number of cores required for the run."}}},"_88SetValue":{"description":"The properties of a overridable value that can be passed to a task template.","type":"object","properties":{"___name":{"description":"The name of the overridable value.","type":"string"},"___isSecret":{"oneOf":[{"default":false,"type":"boolean"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Flag to indicate whether the value represents a secret or not."},"___value":{"description":"The overridable value.","type":"string"}},"required":["name","value"]},"_88UserIdentityProperties":{"type":"object","properties":{"___principalId":{"description":"The principal id of user assigned identity.","type":"string"},"___clientId":{"description":"The client id of user assigned identity.","type":"string"}}},"_88TaskProperties":{"description":"The properties of a task.","type":"object","properties":{"___trigger":{"oneOf":[{"$eref":{"description":"The properties of a trigger.","type":"object","properties":{"___baseImageTrigger":{"oneOf":[{"$ref":"#\/definitions\/BaseImageTrigger"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The trigger based on base image dependency."},"___sourceTriggers":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/SourceTrigger"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The collection of triggers based on source code repository."},"___timerTriggers":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/TimerTrigger"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The collection of timer triggers."}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The properties of a trigger."},"___agentConfiguration":{"oneOf":[{"$eref":{"description":"The properties that determine the run agent configuration.","type":"object","properties":{"___cpu":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The CPU configuration in terms of number of cores required for the run."}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The properties that determine the run agent configuration."},"___platform":{"oneOf":[{"$eref":{"description":"The platform properties against which the run has to happen.","type":"object","properties":{"___architecture":{"oneOf":[{"type":"string","enum":["amd64","x86","arm"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The OS architecture."},"___os":{"oneOf":[{"type":"string","enum":["Windows","Linux"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The operating system type required for the run."},"___variant":{"oneOf":[{"type":"string","enum":["v6","v7","v8"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Variant of the CPU."}},"required":["os"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The platform properties against which the run has to happen."},"___status":{"oneOf":[{"type":"string","enum":["Disabled","Enabled"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The current status of task."},"___step":{"oneOf":[{"$eref":{"oneOf":[{"$ref":"#\/definitions\/DockerBuildStep"},{"$ref":"#\/definitions\/FileTaskStep"},{"$ref":"#\/definitions\/EncodedTaskStep"}],"description":"Base properties for any task step.","type":"object","properties":{"___contextAccessToken":{"description":"The token (git PAT or SAS token of storage account blob) associated with the context for a step.","type":"string"},"___contextPath":{"description":"The URL(absolute or relative) of the source context for the task step.","type":"string"}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Base properties for any task step."},"___timeout":{"oneOf":[{"default":"3600","maximum":28800,"type":"integer","minimum":300},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Run timeout in seconds."},"___credentials":{"oneOf":[{"$eref":{"description":"The parameters that describes a set of credentials that will be used when a run is invoked.","type":"object","properties":{"___customRegistries":{"oneOf":[{"additionalProperties":{"$ref":"#\/definitions\/CustomRegistryCredentials"},"type":"object","properties":{}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Describes the credential parameters for accessing other custom registries. The key\r\nfor the dictionary item will be the registry login server (myregistry.azurecr.io) and\r\nthe value of the item will be the registry credentials for accessing the registry."},"___sourceRegistry":{"oneOf":[{"$ref":"#\/definitions\/SourceRegistryCredentials"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Describes the credential parameters for accessing the source registry."}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The parameters that describes a set of credentials that will be used when a run is invoked."}},"required":["platform","step"]},"_88TimerTrigger":{"description":"The properties of a timer trigger.","type":"object","properties":{"___name":{"description":"The name of the trigger.","type":"string"},"___status":{"oneOf":[{"type":"string","enum":["Disabled","Enabled"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The current status of trigger."},"___schedule":{"description":"The CRON expression for the task schedule","type":"string"}},"required":["name","schedule"]},"_88IdentityProperties":{"description":"Managed identity for the resource.","type":"object","properties":{"___type":{"oneOf":[{"type":"string","enum":["SystemAssigned","UserAssigned","SystemAssigned, UserAssigned","None"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The identity type."},"___tenantId":{"description":"The tenant ID of resource.","type":"string"},"___principalId":{"description":"The principal ID of resource identity.","type":"string"},"___userAssignedIdentities":{"oneOf":[{"additionalProperties":{"$eref":{"type":"object","properties":{"___principalId":{"description":"The principal id of user assigned identity.","type":"string"},"___clientId":{"description":"The client id of user assigned identity.","type":"string"}}}},"type":"object","properties":{}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The list of user identities associated with the resource. The user identity \r\ndictionary key references will be ARM resource ids in the form: \r\n'\/subscriptions\/{subscriptionId}\/resourceGroups\/{resourceGroupName}\/\r\n    providers\/Microsoft.ManagedIdentity\/userAssignedIdentities\/{identityName}'."}}},"_88Argument":{"description":"The properties of a run argument.","type":"object","properties":{"___name":{"description":"The name of the argument.","type":"string"},"___isSecret":{"oneOf":[{"default":false,"type":"boolean"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Flag to indicate whether the argument represents a secret and want to be removed from build logs."},"___value":{"description":"The value of the argument.","type":"string"}},"required":["name","value"]}}}