{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"http:\/\/schemas.wbeme.com\/json-schema\/eme\/users\/node\/user\/1-0-0.json#","additionalProperties":false,"type":"object","definitions":{"_88address":{"anyOf":[{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"http:\/\/schemas.wbeme.com\/json-schema\/gdbots\/geo\/address\/1-0-0.json#","additionalProperties":false,"type":"object","properties":{"___street1":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":255},"____schema":{"default":"pbj:gdbots:geo::address:1-0-0","pattern":"^pbj:([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+):([0-9]+-[0-9]+-[0-9]+)$","type":"string"},"___po_box":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":20},"___continent":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":255},"___region_name":{"minLength":0,"pbj":{"rule":"single","type":"string"},"description":"The full name of the region, e.g. \"California\".","type":"string","maxLength":150},"___geo_hash":{"pattern":"^\\w+$","pbj":{"rule":"single","type":"string"},"type":"string"},"___is_verified":{"pbj":{"rule":"single","type":"boolean"},"type":"boolean"},"___postal_code":{"pattern":"^[\\w\\s-]+$","pbj":{"rule":"single","type":"string"},"type":"string"},"___street2":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":20},"___geo_point":{"pbj":{"rule":"single","type":"geo-point"},"additionalProperties":false,"type":"object","properties":{"___coordinates":{"type":"array","items":[{"maximum":180,"type":"number","minimum":-180,"required":true},{"maximum":90,"type":"number","minimum":-90,"required":true}]},"___type":{"pattern":"^Point$","type":"string"}},"required":["type","coordinates"]},"___country":{"pattern":"^[A-Z]{2}$","pbj":{"rule":"single","type":"string"},"type":"string"},"___city":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":100},"___region":{"pattern":"^[A-Z0-9]{2}$","description":"A two letter alpha or numeric code indicating the region, e.g. \"CA\". @link http:\/\/www.maxmind.com\/download\/geoip\/misc\/region_codes.csv","pbj":{"rule":"single","type":"string"},"type":"string"}},"required":["_schema"]}},{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"http:\/\/schemas.wbeme.com\/json-schema\/gdbots\/geo\/address\/1-0-1.json#","additionalProperties":false,"type":"object","properties":{"___verified":{"description":"Indicates if a verification has been run on this address.","pbj":{"rule":"single","type":"boolean"},"type":"boolean"},"___street1":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":255},"____schema":{"default":"pbj:gdbots:geo::address:1-0-1","pattern":"^pbj:([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+):([0-9]+-[0-9]+-[0-9]+)$","type":"string"},"___po_box":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":20},"___continent":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":255},"___region_name":{"minLength":0,"pbj":{"rule":"single","type":"string"},"description":"The full name of the region, e.g. \"California\".","type":"string","maxLength":150},"___geo_hash":{"pattern":"^\\w+$","pbj":{"rule":"single","type":"string"},"type":"string"},"___is_verified":{"description":"Indicates if this is a valid adddress or not. Generally only true if the verified field is also true.","pbj":{"rule":"single","type":"boolean"},"type":"boolean"},"___postal_code":{"pattern":"^[\\w\\s-]+$","pbj":{"rule":"single","type":"string"},"type":"string"},"___street2":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":20},"___geo_point":{"pbj":{"rule":"single","type":"geo-point"},"additionalProperties":false,"type":"object","properties":{"___coordinates":{"type":"array","items":[{"maximum":180,"type":"number","minimum":-180,"required":true},{"maximum":90,"type":"number","minimum":-90,"required":true}]},"___type":{"pattern":"^Point$","type":"string"}},"required":["type","coordinates"]},"___country":{"pattern":"^[A-Z]{2}$","pbj":{"rule":"single","type":"string"},"type":"string"},"___city":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":100},"___region":{"pattern":"^[A-Z0-9]{2}$","description":"A two letter alpha or numeric code indicating the region, e.g. \"CA\". @link http:\/\/www.maxmind.com\/download\/geoip\/misc\/region_codes.csv","pbj":{"rule":"single","type":"string"},"type":"string"}},"required":["_schema"]}},{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"http:\/\/schemas.wbeme.com\/json-schema\/gdbots\/geo\/address\/1-0-2.json#","additionalProperties":false,"type":"object","properties":{"___verified":{"description":"Indicates if a verification has been run on this address.","pbj":{"rule":"single","type":"boolean"},"type":"boolean"},"___street1":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":255},"____schema":{"default":"pbj:gdbots:geo::address:1-0-2","pattern":"^pbj:([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+):([0-9]+-[0-9]+-[0-9]+)$","type":"string"},"___po_box":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":20},"___continent":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":255},"___county":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":100},"___region_name":{"minLength":0,"pbj":{"rule":"single","type":"string"},"description":"The full name of the region, e.g. \"California\".","type":"string","maxLength":150},"___geo_hash":{"pattern":"^\\w+$","pbj":{"rule":"single","type":"string"},"type":"string"},"___is_verified":{"description":"Indicates if this is a valid adddress or not. Generally only true if the verified field is also true.","pbj":{"rule":"single","type":"boolean"},"type":"boolean"},"___postal_code":{"pattern":"^[\\w\\s-]+$","pbj":{"rule":"single","type":"string"},"type":"string"},"___street2":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":20},"___geo_point":{"pbj":{"rule":"single","type":"geo-point"},"additionalProperties":false,"type":"object","properties":{"___coordinates":{"type":"array","items":[{"maximum":180,"type":"number","minimum":-180,"required":true},{"maximum":90,"type":"number","minimum":-90,"required":true}]},"___type":{"pattern":"^Point$","type":"string"}},"required":["type","coordinates"]},"___country":{"pattern":"^[A-Z]{2}$","pbj":{"rule":"single","type":"string"},"type":"string"},"___city":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":100},"___region":{"pattern":"^[A-Z0-9]{2}$","description":"A two letter alpha or numeric code indicating the region, e.g. \"CA\". @link http:\/\/www.maxmind.com\/download\/geoip\/misc\/region_codes.csv","pbj":{"rule":"single","type":"string"},"type":"string"}},"required":["_schema"]}}],"type":"object"}},"properties":{"___status":{"default":"draft","pbj":{"rule":"single","type":"string-enum"},"type":"string","enum":["unknown","published","scheduled","pending","draft","expired","archived","deleted"]},"___roles":{"uniqueItems":true,"pbj":{"rule":"set","type":"string"},"description":"A user's roles determine what permissions they'll have when using the system.","additionalProperties":false,"type":"array","items":[{"pattern":"^[\\w_]+$","type":"string"}]},"___title":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":255},"___networks":{"patternProperties":{"___^[a-zA-Z_]{1}[\\w\\.:-]+$":{"pattern":"^[\\w\\.-]+$","type":"string"}},"pbj":{"rule":"map","type":"string"},"description":"Networks is a map that contains handles\/usernames on a social network. E.g. facebook:homer, twitter:stackoverflow, youtube:coltrane78.","additionalProperties":false,"type":"object"},"___hashtags":{"uniqueItems":true,"pbj":{"format":"hashtag","rule":"set","type":"string"},"additionalProperties":false,"type":"array","items":[{"minLength":0,"type":"string","maxLength":255}]},"___updater_ref":{"pbj":{"rule":"single","type":"message-ref"},"description":"A fully qualified reference to what updated this node. This is intentionally a message-ref and not a user id because it is often a program that updates nodes, not a user. E.g. \"acme:iam:node:app:cli-scheduler\" or \"acme:iam:node:user:60c71df0-fda8-11e5-bfb9-30342d363854\"","additionalProperties":false,"type":"object","properties":{"___curie":{"minLength":0,"pattern":"^([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+)$","type":"string","maxLength":146},"___id":{"minLength":0,"pattern":"^[A-Za-z0-9:_\\-]+$","type":"string","maxLength":255},"___tag":{"minLength":0,"pattern":"^([\\w\\\/-]|[\\w-][\\w\\\/-]*[\\w-])$","type":"string","maxLength":255}},"required":["curie","id"]},"____id":{"pattern":"^[\\w\\\/\\.:-]+$","pbj":{"rule":"single","type":"identifier"},"type":"string"},"___address":{"anyOf":[{"$eref":{"anyOf":[{"$ref":"http:\/\/schemas.wbeme.com\/json-schema\/gdbots\/geo\/address\/1-0-0.json#"},{"$ref":"http:\/\/schemas.wbeme.com\/json-schema\/gdbots\/geo\/address\/1-0-1.json#"},{"$ref":"http:\/\/schemas.wbeme.com\/json-schema\/gdbots\/geo\/address\/1-0-2.json#"}],"type":"object"}}],"pbj":{"rule":"single","type":"message"},"type":"object"},"___is_blocked":{"pbj":{"rule":"single","type":"boolean"},"type":"boolean"},"___dob":{"pattern":"^[0-9]{4}-[0-9]{2}-[0-9]{2}$","pbj":{"rule":"single","type":"date"},"type":"object"},"___email_domain":{"format":"hostname","pbj":{"format":"hostname","rule":"single","type":"string"},"type":"string"},"___creator_ref":{"pbj":{"rule":"single","type":"message-ref"},"description":"A fully qualified reference to what created this node. This is intentionally a message-ref and not a user id because it is often a program that creates nodes, not a user.","additionalProperties":false,"type":"object","properties":{"___curie":{"minLength":0,"pattern":"^([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+)$","type":"string","maxLength":146},"___id":{"minLength":0,"pattern":"^[A-Za-z0-9:_\\-]+$","type":"string","maxLength":255},"___tag":{"minLength":0,"pattern":"^([\\w\\\/-]|[\\w-][\\w\\\/-]*[\\w-])$","type":"string","maxLength":255}},"required":["curie","id"]},"___etag":{"pattern":"^[\\w\\.:-]+$","pbj":{"rule":"single","type":"string"},"type":"string"},"___email":{"format":"email","pbj":{"format":"email","rule":"single","type":"string"},"type":"string"},"___account_id":{"pattern":"^[\\w\\\/\\.:-]+$","description":"The EME account that this message is associated with.","pbj":{"rule":"single","type":"identifier"},"type":"string"},"___created_at":{"pattern":"^[1-9]{1}[0-9]{12,15}$","pbj":{"rule":"single","type":"microtime"},"type":"string"},"___last_event_ref":{"pbj":{"rule":"single","type":"message-ref"},"description":"A reference to the last event that changed the state of this node. E.g. \"acme:blog:event:article-published:60c71df0-fda8-11e5-bfb9-30342d363854\"","additionalProperties":false,"type":"object","properties":{"___curie":{"minLength":0,"pattern":"^([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+)$","type":"string","maxLength":146},"___id":{"minLength":0,"pattern":"^[A-Za-z0-9:_\\-]+$","type":"string","maxLength":255},"___tag":{"minLength":0,"pattern":"^([\\w\\\/-]|[\\w-][\\w\\\/-]*[\\w-])$","type":"string","maxLength":255}},"required":["curie","id"]},"___tags":{"patternProperties":{"___^[a-zA-Z_]{1}[\\w\\.:-]+$":{"pattern":"^[\\w\\\/\\.:-]+$","type":"string"}},"pbj":{"rule":"map","type":"string"},"description":"Tags is a map that categorizes data or tracks references in external systems. The tags names should be consistent and descriptive, e.g. fb_user_id:123, salesforce_customer_id:456.","additionalProperties":false,"type":"object"},"____schema":{"default":"pbj:eme:users:node:user:1-0-0","pattern":"^pbj:([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+):([0-9]+-[0-9]+-[0-9]+)$","type":"string"},"___first_name":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":255},"___gender":{"default":0,"pbj":{"rule":"single","type":"int-enum"},"type":"integer","enum":[0,1,2,9]},"___phone":{"patternProperties":{"___^[a-zA-Z_]{1}[\\w\\.:-]+$":{"pattern":"^\\+?[1-9]\\d{1,14}$","type":"string"}},"pbj":{"rule":"map","type":"string"},"description":"A general format for international telephone numbers. @link https:\/\/en.wikipedia.org\/wiki\/E.164","additionalProperties":false,"type":"object"},"___is_staff":{"description":"Indicates that the user is a staff member and has access to the dashboard.","pbj":{"rule":"single","type":"boolean"},"type":"boolean"},"___updated_at":{"pattern":"^[1-9]{1}[0-9]{12,15}$","pbj":{"useTypeDefault":false,"rule":"single","type":"microtime"},"type":"string"},"___last_name":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":255}},"required":["_schema","_id"]}