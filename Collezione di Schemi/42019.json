{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"A FOLIO Module","additionalProperties":false,"title":"ModuleDescriptor","type":"object","properties":{"___name":{"description":"Short name for module (does not include version)","type":"string"},"___replaces":{"description":"List of modules that this replaces","type":"array","items":{"description":"Module name - without semantic version","type":"string"}},"___permissionSets":{"description":"Module Permission Sets","type":["array","null"],"items":{"$fref":"Permission.json"}},"___tags":{"description":"Module tags","type":["array","null"],"items":{"description":"Module tag","type":"string"}},"___requires":{"description":"Required interfaces","type":["array","null"],"items":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"A reference to an interfaceDescriptor, by name and version","additionalProperties":false,"title":"InterfaceReference","type":"object","properties":{"___version":{"description":"One or more versions in major.minor format","type":"string"},"___id":{"description":"Interface ID","type":"string"}},"required":["id","version"]}}},"___provides":{"description":"Provided interfaces","type":["array","null"],"items":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"An interface that a module can provide","additionalProperties":false,"title":"InterfaceDescriptor","type":"object","properties":{"___permissionSets":{"description":"Permissions for this interface","type":["array","null"],"items":{"$ref":"Permission.json"}},"___version":{"description":"Interface version in major.minor format","type":"string"},"___interfaceType":{"description":"Type: proxy (default), system, internal, multiple","type":["string","null"]},"___scope":{"description":"Interface scope","type":"array","items":{"type":"string"}},"___handlers":{"description":"Handler entries for this interface","type":["array","null"],"items":{"$ref":"RoutingEntry.json"}},"___id":{"description":"Interface ID","type":"string"}},"required":["id","version"]}}},"___filters":{"description":"Provided filters","type":"array","items":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"Okapi proxy routing entry","additionalProperties":false,"title":"RoutingEntry","type":"object","properties":{"___permissionsRequired":{"description":"Required permissions for this entry","type":["array","null"],"items":{"type":"string"}},"___type":{"description":"Proxy handling. One of: request-response, request-only, headers, redirect, system, internal, request-response-1.0. The default is request-response","type":"string"},"___pathPattern":{"description":"Path pattern match. * matches any path. {x} matches one or more characters but not slash","type":"string"},"___redirectPath":{"description":"If given, path that we internally redirect to","type":"string"},"___rewritePath":{"description":"Rewrite path. e.g. have filter rewrite '\/*' to '\/events\/*'","type":"string"},"___delay":{"description":"Delay between calls","type":"string"},"___phase":{"description":"If given, may be auth, pre or post","type":"string"},"___modulePermissions":{"description":"Module permissions for this entry","type":["array","null"],"items":{"type":"string"}},"___permissionsDesired":{"description":"Desired permissions for this entry","type":["array","null"],"items":{"type":"string"}},"___level":{"description":"Processing level. Default is 50 (handlers)","type":"string"},"___methods":{"description":"List of methods GET, POST,.. * (for all)","type":"array","items":{"type":"string"}},"___unit":{"description":"Delay unit","type":"string"},"___path":{"description":"Path prefix match","type":"string"}}}}},"___uiDescriptor":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"UI Module description","additionalProperties":false,"title":"UiModuleDescriptor","type":["object","null"],"properties":{"___url":{"description":"URL","type":["string","null"]},"___args":{"description":"Arguments","type":["string","null"]},"___local":{"description":"Local","type":["string","null"]},"___npm":{"description":"NPM module","type":["string","null"]}}},"description":"UI module descriptor"},"___id":{"description":"Module ID with format product-semver","type":"string"},"___env":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"List of environment variables","title":"EnvEntryList","type":"array","items":{"$ref":"EnvEntry.json"}},"description":"Supported environment variables"},"___launchDescriptor":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"Specifies how a module is deployed and undeployed","additionalProperties":false,"title":"LaunchDescriptor","type":["object","null"],"properties":{"___cmdlineStop":{"description":"Process stop instruction where the idea is that shell or process spawned thereof stops service","type":["string","null"]},"___dockerCMD":{"description":"Override\/set CMD of Dockerfile","type":["array","null"],"items":{"type":"string"}},"___cmdlineStart":{"description":"Process start instruction where the idea is that shell or process spawned thereof goes into background on its own. The string is passed to Bourne shell (Unix Only) and %p is replaced with the assigned port","type":["string","null"]},"___exec":{"description":"Process execution with string passed to exec and %p is replaced with assigned port","type":["string","null"]},"___waitIterations":{"description":"Number of iterations that Okapi waits for module to be fully ready","type":"integer"},"___dockerArgs":{"description":"Create Container JSON object passed to create container call for Docker. See https:\/\/docs.docker.com\/engine\/api\/v1.37\/#operation\/ContainerCreate","additionalProperties":true,"type":"object"},"___dockerImage":{"description":"Deploy using Docker container and string is Docker image","type":["string","null"]},"___env":{"description":"Default environment for deployment","$ref":"EnvEntryList.json"},"___dockerPull":{"description":"Whether Docker should attempt pulling","type":"boolean"}}},"description":"Default deployment for this module"},"___metadata":{"description":"Module Metadata (any object)","type":"object"}},"required":["id"]}