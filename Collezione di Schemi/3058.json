{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"Schema for IOx application descriptor - version 2.2","additionalProperties":false,"type":"object","definitions":{"_88descriptorschema_2_2.Ports":{"additionalProperties":false,"type":"object","properties":{"___description":{"type":"string"},"___port":{"type":"string"}},"required":["port"]},"_88descriptorschema_2_2.StartupNotGenericLinux":{"additionalProperties":false,"type":"object","properties":{"___runtime-options":{"$eref":{"additionalProperties":true,"type":"object","properties":{"___classpath":{"type":"string"}},"required":["classpath"]}},"___target":{"pattern":"^[a-zA-Z]([^\/]+(\/)?)+$","type":"string"},"___runtime-version":{"oneOf":[{"type":"number"},{"type":"string"}]},"___runtime":{"not":{"type":"string","enum":["generic-linux"]}}},"required":["target","runtime-version"]},"_88descriptorschema_2_2.AppPaas":{"additionalProperties":false,"type":"object","properties":{"___cpuarch":{"type":"string"},"___type":{"type":"string","enum":["paas"]},"___depends-on":{"anyOf":[{"type":"object","properties":{"___cartridges":{"type":"array","items":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___version":{"type":"number"},"___id":{"type":"string"}},"required":["id","version"]}}}},"required":["cartridges"]},{"type":"object","properties":{"___services":{"type":"array","items":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___max-api-version":{"type":"number"},"___min-api-version":{"type":"number"},"___required":{"type":"boolean"},"___id":{"type":"string"},"___label":{"type":"string"}},"required":["id","label"]}}}},"required":["services"]}]},"___stop":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___target":{"pattern":"^[a-zA-Z]([^\/]+(\/)?)+$","type":"string"}},"required":["target"]}},"___env":{"additionalProperties":true,"type":"object","properties":{}},"___resources":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___chardev":{"type":"array","items":{"$ref":"#\/definitions\/descriptorschema_2_2.CharDev"}},"___broker":{"type":"array","items":{"type":"string","enum":["BrokerClient","Broker"]}},"___memory":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___cpu":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___disk":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___profile":{"type":"string"},"___cpu-topology":{"oneOf":[{"$ref":"#\/definitions\/descriptorschema_2_2.CpuTopologyParams"}]},"___graphics":{"$ref":"#\/definitions\/descriptorschema_2_2.Graphics"},"___vcpu":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___devices":{"type":"array","items":{"$ref":"#\/definitions\/descriptorschema_2_2.Devices"}},"___network":{"type":"array","items":{"$ref":"#\/definitions\/descriptorschema_2_2.Network"}},"___device-info":{"type":"array","items":{"type":"string","enum":["udi"]}},"___recommendations":{"type":"array","items":{"$ref":"#\/definitions\/descriptorschema_2_2.ResourcesRecommendations"}},"___oauth":{"type":"array","items":{"type":"string","enum":["OauthClient","OauthValidator"]}},"___platform-env":{"type":"array","items":{"type":"string"}}},"required":["profile"]}},"___startup":{"oneOf":[{"$eref":{"additionalProperties":false,"type":"object","properties":{"___target":{"pattern":"^[a-zA-Z]([^\/]+(\/)?)+$","type":"string"},"___runtime":{"type":"string","enum":["generic-linux"]}},"required":["runtime","target"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___runtime-options":{"$ref":"#\/definitions\/descriptorschema_2_2.RuntimeOptions"},"___target":{"pattern":"^[a-zA-Z]([^\/]+(\/)?)+$","type":"string"},"___runtime-version":{"oneOf":[{"type":"number"},{"type":"string"}]},"___runtime":{"not":{"type":"string","enum":["generic-linux"]}}},"required":["target","runtime-version"]}}]}},"required":["type","startup"]},"_88descriptorschema_2_2.RuntimeOptions":{"additionalProperties":true,"type":"object","properties":{"___classpath":{"type":"string"}},"required":["classpath"]},"_88descriptorschema_2_2.Stop":{"additionalProperties":false,"type":"object","properties":{"___target":{"pattern":"^[a-zA-Z]([^\/]+(\/)?)+$","type":"string"}},"required":["target"]},"_88descriptorschema_2_2.Resources":{"additionalProperties":false,"type":"object","properties":{"___chardev":{"type":"array","items":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___type":{"type":"string"},"___dev":{"type":"string"}},"required":["dev","type"]}}},"___broker":{"type":"array","items":{"type":"string","enum":["BrokerClient","Broker"]}},"___memory":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___cpu":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___disk":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___profile":{"type":"string"},"___cpu-topology":{"oneOf":[{"$eref":{"additionalProperties":false,"type":"object","properties":{"___sockets-per-core":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___cores":{"oneOf":[{"type":"string"},{"type":"integer"}]}},"required":["sockets-per-core","cores"]}}]},"___graphics":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___vnc":{"type":"boolean"}}}},"___vcpu":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___devices":{"type":"array","items":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___usage":{"type":"string"},"___type":{"type":"string"},"___device-id":{"type":"string"},"___label":{"type":"string"}},"required":["type","label"]}}},"___network":{"type":"array","items":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___interface-name":{"type":"string"},"___description":{"type":"string"},"___ports":{"anyOf":[{"type":"object","properties":{"___tcp":{"type":"array","items":[{"anyOf":[{"type":"string"},{"type":"integer"},{"$ref":"#\/definitions\/descriptorschema_2_2.Ports"}]}]}}},{"type":"object","properties":{"___udp":{"type":"array","items":[{"anyOf":[{"type":"string"},{"type":"integer"},{"$ref":"#\/definitions\/descriptorschema_2_2.Ports"}]}]}}}]}},"required":["interface-name"]}}},"___device-info":{"type":"array","items":{"type":"string","enum":["udi"]}},"___recommendations":{"type":"array","items":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___description":{"type":"string"},"___profile":{"type":"string"},"___label":{"type":"string"}},"required":["profile","label","description"]}}},"___oauth":{"type":"array","items":{"type":"string","enum":["OauthClient","OauthValidator"]}},"___platform-env":{"type":"array","items":{"type":"string"}}},"required":["profile"]},"_88descriptorschema_2_2.ResourcesRecommendations":{"additionalProperties":false,"type":"object","properties":{"___description":{"type":"string"},"___profile":{"type":"string"},"___label":{"type":"string"}},"required":["profile","label","description"]},"_88descriptorschema_2_2.Network":{"additionalProperties":false,"type":"object","properties":{"___interface-name":{"type":"string"},"___description":{"type":"string"},"___ports":{"anyOf":[{"type":"object","properties":{"___tcp":{"type":"array","items":[{"anyOf":[{"type":"string"},{"type":"integer"},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___description":{"type":"string"},"___port":{"type":"string"}},"required":["port"]}}]}]}}},{"type":"object","properties":{"___udp":{"type":"array","items":[{"anyOf":[{"type":"string"},{"type":"integer"},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___description":{"type":"string"},"___port":{"type":"string"}},"required":["port"]}}]}]}}}]}},"required":["interface-name"]},"_88descriptorschema_2_2.StartupDocker":{"additionalProperties":false,"type":"object","properties":{"___target":{"oneOf":[{"pattern":"^[\/a-zA-Z]([^\/]+(\/)?)+$","type":"string"},{"type":"array","items":{"type":"string"}}]},"___rootfs":{"type":"string"}},"required":["rootfs","target"]},"_88descriptorschema_2_2.CharDev":{"additionalProperties":false,"type":"object","properties":{"___type":{"type":"string"},"___dev":{"type":"string"}},"required":["dev","type"]},"_88descriptorschema_2_2.StartupVM_2_1_DISKS":{"additionalProperties":false,"type":"object","properties":{"___ostype":{"type":"string"},"___disks":{"type":"array","items":{"type":"object","properties":{"___target-dev":{"type":"string"},"___file":{"type":"string"}}}},"___qemu-guest-agent":{"type":"boolean"}},"required":["disks"]},"_88descriptorschema_2_2.AppInfo":{"additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___description":{"type":"string"},"___version":{"type":"string"},"___author-name":{"type":"string"},"___author-link":{"type":"string"}},"required":["name","version"]},"_88descriptorschema_2_2.Devices":{"additionalProperties":false,"type":"object","properties":{"___usage":{"type":"string"},"___type":{"type":"string"},"___device-id":{"type":"string"},"___label":{"type":"string"}},"required":["type","label"]},"_88descriptorschema_2_2.StartupLXC":{"additionalProperties":false,"type":"object","properties":{"___target":{"pattern":"^[\/a-zA-Z]([^\/]+(\/)?)+$","type":"string"},"___rootfs":{"type":"string"}},"required":["rootfs","target"]},"_88descriptorschema_2_2.CpuTopologyParams":{"additionalProperties":false,"type":"object","properties":{"___sockets-per-core":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___cores":{"oneOf":[{"type":"string"},{"type":"integer"}]}},"required":["sockets-per-core","cores"]},"_88descriptorschema_2_2.StartupGenericLinux":{"additionalProperties":false,"type":"object","properties":{"___target":{"pattern":"^[a-zA-Z]([^\/]+(\/)?)+$","type":"string"},"___runtime":{"type":"string","enum":["generic-linux"]}},"required":["runtime","target"]},"_88descriptorschema_2_2.AppLXC":{"additionalProperties":false,"type":"object","properties":{"___cpuarch":{"type":"string"},"___type":{"type":"string","enum":["lxc"]},"___kernel-version":{"type":"string"},"___depends-on":{"oneOf":[{"type":"object","properties":{"___services":{"type":"array","items":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___max-api-version":{"type":"number"},"___min-api-version":{"type":"number"},"___required":{"type":"boolean"},"___id":{"type":"string"},"___label":{"type":"string"}},"required":["id","label"]}}}},"required":["services"]}]},"___env":{"additionalProperties":true,"type":"object","properties":{}},"___resources":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___chardev":{"type":"array","items":{"$ref":"#\/definitions\/descriptorschema_2_2.CharDev"}},"___broker":{"type":"array","items":{"type":"string","enum":["BrokerClient","Broker"]}},"___memory":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___cpu":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___disk":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___profile":{"type":"string"},"___cpu-topology":{"oneOf":[{"$ref":"#\/definitions\/descriptorschema_2_2.CpuTopologyParams"}]},"___graphics":{"$ref":"#\/definitions\/descriptorschema_2_2.Graphics"},"___vcpu":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___devices":{"type":"array","items":{"$ref":"#\/definitions\/descriptorschema_2_2.Devices"}},"___network":{"type":"array","items":{"$ref":"#\/definitions\/descriptorschema_2_2.Network"}},"___device-info":{"type":"array","items":{"type":"string","enum":["udi"]}},"___recommendations":{"type":"array","items":{"$ref":"#\/definitions\/descriptorschema_2_2.ResourcesRecommendations"}},"___oauth":{"type":"array","items":{"type":"string","enum":["OauthClient","OauthValidator"]}},"___platform-env":{"type":"array","items":{"type":"string"}}},"required":["profile"]}},"___startup":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___target":{"pattern":"^[\/a-zA-Z]([^\/]+(\/)?)+$","type":"string"},"___rootfs":{"type":"string"}},"required":["rootfs","target"]}}},"required":["cpuarch","type","kernel-version","startup"]},"_88descriptorschema_2_2.AppVM":{"additionalProperties":false,"type":"object","properties":{"___cpuarch":{"type":"string"},"___type":{"type":"string","enum":["vm"]},"___depends-on":{"oneOf":[{"type":"object","properties":{"___services":{"type":"array","items":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___max-api-version":{"type":"number"},"___min-api-version":{"type":"number"},"___required":{"type":"boolean"},"___id":{"type":"string"},"___label":{"type":"string"}},"required":["id","label"]}}}},"required":["services"]}]},"___env":{"additionalProperties":true,"type":"object","properties":{}},"___resources":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___chardev":{"type":"array","items":{"$ref":"#\/definitions\/descriptorschema_2_2.CharDev"}},"___broker":{"type":"array","items":{"type":"string","enum":["BrokerClient","Broker"]}},"___memory":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___cpu":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___disk":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___profile":{"type":"string"},"___cpu-topology":{"oneOf":[{"$ref":"#\/definitions\/descriptorschema_2_2.CpuTopologyParams"}]},"___graphics":{"$ref":"#\/definitions\/descriptorschema_2_2.Graphics"},"___vcpu":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___devices":{"type":"array","items":{"$ref":"#\/definitions\/descriptorschema_2_2.Devices"}},"___network":{"type":"array","items":{"$ref":"#\/definitions\/descriptorschema_2_2.Network"}},"___device-info":{"type":"array","items":{"type":"string","enum":["udi"]}},"___recommendations":{"type":"array","items":{"$ref":"#\/definitions\/descriptorschema_2_2.ResourcesRecommendations"}},"___oauth":{"type":"array","items":{"type":"string","enum":["OauthClient","OauthValidator"]}},"___platform-env":{"type":"array","items":{"type":"string"}}},"required":["profile"]}},"___startup":{"oneOf":[{"$eref":{"additionalProperties":false,"type":"object","properties":{"___rootfs":{"type":"string"},"___ostype":{"type":"string"},"___qemu-guest-agent":{"type":"boolean"},"___kernel":{"type":"string"}},"required":["rootfs","kernel"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___ostype":{"type":"string"},"___disks":{"type":"array","items":{"type":"object","properties":{"___target-dev":{"type":"string"},"___file":{"type":"string"}}}},"___qemu-guest-agent":{"type":"boolean"}},"required":["disks"]}}]}},"required":["cpuarch","type","startup"]},"_88descriptorschema_2_2.StartupDocker_2":{"additionalProperties":false,"type":"object","properties":{"___target":{"oneOf":[{"pattern":"^[\/a-zA-Z]([^\/]+(\/)?)+$","type":"string"},{"type":"array","items":{"type":"string"}}]},"___image-name":{"type":"string"},"___tag":{"type":"string"}},"required":["image-name","tag","target"]},"_88descriptorschema_2_2.ServiceDependsOn":{"additionalProperties":false,"type":"object","properties":{"___max-api-version":{"type":"number"},"___min-api-version":{"type":"number"},"___required":{"type":"boolean"},"___id":{"type":"string"},"___label":{"type":"string"}},"required":["id","label"]},"_88descriptorschema_2_2.CartridgeDependsOn":{"additionalProperties":false,"type":"object","properties":{"___version":{"type":"number"},"___id":{"type":"string"}},"required":["id","version"]},"_88descriptorschema_2_2.AppDocker_2_2":{"additionalProperties":false,"type":"object","properties":{"___cpuarch":{"type":"string"},"___type":{"type":"string","enum":["docker"]},"___depends-on":{"oneOf":[{"type":"object","properties":{"___services":{"type":"array","items":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___max-api-version":{"type":"number"},"___min-api-version":{"type":"number"},"___required":{"type":"boolean"},"___id":{"type":"string"},"___label":{"type":"string"}},"required":["id","label"]}}}},"required":["services"]}]},"___env":{"additionalProperties":true,"type":"object","properties":{}},"___resources":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___chardev":{"type":"array","items":{"$ref":"#\/definitions\/descriptorschema_2_2.CharDev"}},"___broker":{"type":"array","items":{"type":"string","enum":["BrokerClient","Broker"]}},"___memory":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___cpu":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___disk":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___profile":{"type":"string"},"___cpu-topology":{"oneOf":[{"$ref":"#\/definitions\/descriptorschema_2_2.CpuTopologyParams"}]},"___graphics":{"$ref":"#\/definitions\/descriptorschema_2_2.Graphics"},"___vcpu":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___devices":{"type":"array","items":{"$ref":"#\/definitions\/descriptorschema_2_2.Devices"}},"___network":{"type":"array","items":{"$ref":"#\/definitions\/descriptorschema_2_2.Network"}},"___device-info":{"type":"array","items":{"type":"string","enum":["udi"]}},"___recommendations":{"type":"array","items":{"$ref":"#\/definitions\/descriptorschema_2_2.ResourcesRecommendations"}},"___oauth":{"type":"array","items":{"type":"string","enum":["OauthClient","OauthValidator"]}},"___platform-env":{"type":"array","items":{"type":"string"}}},"required":["profile"]}},"___startup":{"oneOf":[{"$eref":{"additionalProperties":false,"type":"object","properties":{"___target":{"oneOf":[{"pattern":"^[\/a-zA-Z]([^\/]+(\/)?)+$","type":"string"},{"type":"array","items":{"type":"string"}}]},"___rootfs":{"type":"string"}},"required":["rootfs","target"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___target":{"oneOf":[{"pattern":"^[\/a-zA-Z]([^\/]+(\/)?)+$","type":"string"},{"type":"array","items":{"type":"string"}}]},"___image-name":{"type":"string"},"___tag":{"type":"string"}},"required":["image-name","tag","target"]}}]}},"required":["cpuarch","type","startup"]},"_88descriptorschema_2_2.Graphics":{"additionalProperties":false,"type":"object","properties":{"___vnc":{"type":"boolean"}}},"_88descriptorschema_2_2.StartupVM_2_1_RFS":{"additionalProperties":false,"type":"object","properties":{"___rootfs":{"type":"string"},"___ostype":{"type":"string"},"___qemu-guest-agent":{"type":"boolean"},"___kernel":{"type":"string"}},"required":["rootfs","kernel"]}},"properties":{"___app":{"oneOf":[{"$eref":{"additionalProperties":false,"type":"object","properties":{"___cpuarch":{"type":"string"},"___type":{"type":"string","enum":["paas"]},"___depends-on":{"anyOf":[{"type":"object","properties":{"___cartridges":{"type":"array","items":{"$ref":"#\/definitions\/descriptorschema_2_2.CartridgeDependsOn"}}},"required":["cartridges"]},{"type":"object","properties":{"___services":{"type":"array","items":{"$ref":"#\/definitions\/descriptorschema_2_2.ServiceDependsOn"}}},"required":["services"]}]},"___stop":{"$ref":"#\/definitions\/descriptorschema_2_2.Stop"},"___env":{"additionalProperties":true,"type":"object","properties":{}},"___resources":{"$ref":"#\/definitions\/descriptorschema_2_2.Resources"},"___startup":{"oneOf":[{"$ref":"#\/definitions\/descriptorschema_2_2.StartupGenericLinux"},{"$ref":"#\/definitions\/descriptorschema_2_2.StartupNotGenericLinux"}]}},"required":["type","startup"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___cpuarch":{"type":"string"},"___type":{"type":"string","enum":["lxc"]},"___kernel-version":{"type":"string"},"___depends-on":{"oneOf":[{"type":"object","properties":{"___services":{"type":"array","items":{"$ref":"#\/definitions\/descriptorschema_2_2.ServiceDependsOn"}}},"required":["services"]}]},"___env":{"additionalProperties":true,"type":"object","properties":{}},"___resources":{"$ref":"#\/definitions\/descriptorschema_2_2.Resources"},"___startup":{"$ref":"#\/definitions\/descriptorschema_2_2.StartupLXC"}},"required":["cpuarch","type","kernel-version","startup"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___cpuarch":{"type":"string"},"___type":{"type":"string","enum":["vm"]},"___depends-on":{"oneOf":[{"type":"object","properties":{"___services":{"type":"array","items":{"$ref":"#\/definitions\/descriptorschema_2_2.ServiceDependsOn"}}},"required":["services"]}]},"___env":{"additionalProperties":true,"type":"object","properties":{}},"___resources":{"$ref":"#\/definitions\/descriptorschema_2_2.Resources"},"___startup":{"oneOf":[{"$ref":"#\/definitions\/descriptorschema_2_2.StartupVM_2_1_RFS"},{"$ref":"#\/definitions\/descriptorschema_2_2.StartupVM_2_1_DISKS"}]}},"required":["cpuarch","type","startup"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___cpuarch":{"type":"string"},"___type":{"type":"string","enum":["docker"]},"___depends-on":{"oneOf":[{"type":"object","properties":{"___services":{"type":"array","items":{"$ref":"#\/definitions\/descriptorschema_2_2.ServiceDependsOn"}}},"required":["services"]}]},"___env":{"additionalProperties":true,"type":"object","properties":{}},"___resources":{"$ref":"#\/definitions\/descriptorschema_2_2.Resources"},"___startup":{"oneOf":[{"$ref":"#\/definitions\/descriptorschema_2_2.StartupDocker"},{"$ref":"#\/definitions\/descriptorschema_2_2.StartupDocker_2"}]}},"required":["cpuarch","type","startup"]}}]},"___descriptor-schema-version":{"oneOf":[{"type":"string"},{"type":"number"}]},"___info":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___description":{"type":"string"},"___version":{"type":"string"},"___author-name":{"type":"string"},"___author-link":{"type":"string"}},"required":["name","version"]}}},"required":["descriptor-schema-version","info","app"]}