{"$schema":"http:\/\/json-schema.org\/draft-07\/schema#","description":"Content Patcher content file for mods","@documentationUrl":"https:\/\/github.com\/Pathoschild\/StardewMods\/tree\/develop\/ContentPatcher#readme","additionalProperties":false,"title":"Content Patcher content pack","type":"object","definitions":{"_88Condition":{"additionalProperties":{"type":["boolean","string"]},"type":"object"},"_88Rectangle":{"additionalProperties":false,"type":"object","properties":{"___Width":{"minimum:":0,"description":"The width of the area, measured in pixels for a texture or tiles for a map. This can contain tokens.","title":"Width","type":["integer","string"]},"___Height":{"minimum:":0,"description":"The height of the area, measured in pixels for a texture or tiles for a map. This can contain tokens.","title":"Height","type":["integer","string"]},"___X":{"minimum:":0,"description":"The X position of the area's top-left corner, measured in pixels for a texture or tiles for a map. This can contain tokens.","title":"X-Coordinate","type":["integer","string"]},"___Y":{"minimum:":0,"description":"The Y position of the area's top-left corner, measured in pixels for a texture or tiles for a map. This can contain tokens.","title":"Y-Coordinate","type":["integer","string"]}},"required":["X","Y","Width","Height"]}},"properties":{"___$schema":{"const":"https:\/\/smapi.io\/schemas\/content-patcher.json","description":"A reference to this JSON schema. Not part of the actual format, but useful for validation tools.","title":"Schema","type":"string"},"___ConfigSchema":{"description":"Defines the config.json format, to support more complex mods.","additionalProperties":{"allOf":[{"then":{"required":["Default"]},"if":{"properties":{"___AllowBlank":{"const":false}}}}],"type":"object","@errorMessages":{"allOf":"If 'AllowBlank' is false, the 'Default' field is required."},"properties":{"___Default":{"description":"The default values when the field is missing. Can contain multiple comma-delimited values if AllowMultiple is true. If omitted, blank fields are left blank.","title":"Default value","type":"string"},"___AllowMultiple":{"description":"Whether the player can specify multiple comma-delimited values. Default false.","title":"Allow multiple values","type":"boolean"},"___AllowValues":{"description":"The values the player can provide, as a comma-delimited string. If omitted, any value is allowed.\nTip: for a boolean flag, use \"true, false\".","title":"Allowed values","type":"string"},"___additionalProperties":false,"___AllowBlank":{"description":"Whether the field can be left blank. If false or omitted, blank fields will be replaced with the default value.","title":"Allow blank","type":"boolean"}}},"title":"Config schema","type":"object"},"___DynamicTokens":{"description":"Custom tokens that you can use.","title":"Dynamic tokens","type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___Name":{"description":"The name of the token to use for tokens & conditions.","title":"Name","type":"string"},"___Value":{"description":"The value(s) to set. This can be a comma-delimited value to give it multiple values. If any block for a token name has multiple values, it will only be usable in conditions. This field supports tokens, including dynamic tokens defined before this entry.","title":"Token value","type":"string"},"___When":{"$eref":{"additionalProperties":{"type":["boolean","string"]},"type":"object"},"description":"Only set the value if the given conditions match. If not specified, always matches.","title":"When"}},"required":["Name","Value"]}},"___Changes":{"description":"The changes you want to make. Each entry is called a patch, and describes a specific action to perform: replace this file, copy this image into the file, etc. You can list any number of patches.","title":"Changes","type":"array","items":{"allOf":[{"required":["Action"]},{"then":{"propertyNames":{"enum":["Action","Target","LogName","Enabled","When","FromFile"]},"required":["FromFile"]},"if":{"properties":{"___Action":{"const":"Load"}}}},{"then":{"propertyNames":{"enum":["Action","Target","LogName","Enabled","When","FromFile","FromArea","ToArea","PatchMode"]},"required":["FromFile"]},"if":{"properties":{"___Action":{"const":"EditImage"}}}},{"then":{"propertyNames":{"enum":["Action","Target","LogName","Enabled","When","FromFile","Fields","Entries","MoveEntries"]}},"if":{"properties":{"___Action":{"const":"EditData"}}}},{"then":{"propertyNames":{"enum":["Action","Target","LogName","Enabled","When","FromFile","FromArea","ToArea","MapProperties"]},"properties":{"___FromArea":{"description":"The part of the source map to copy. Defaults to the whole source map."},"___ToArea":{"description":"The part of the target map to replace."},"___FromFile":{"description":"The relative path to the map in your content pack folder from which to copy (like assets\/town.tbin). This can be a .tbin, .tmx, or .xnb file. This field supports tokens and capitalization doesn't matter.\nContent Patcher will handle tilesheets referenced by the FromFile map for you:\n - If a tilesheet isn't referenced by the target map, Content Patcher will add it for you (with a z_ ID prefix to avoid conflicts with hardcoded game logic). If the source map has a custom version of a tilesheet that's already referenced, it'll be added as a separate tilesheet only used by your tiles.\n - If you include the tilesheet file in your mod folder, Content Patcher will use that one automatically; otherwise it will be loaded from the game's Content\/Maps folder."}}},"if":{"properties":{"___Action":{"const":"EditMap"}}}}],"@errorMessages":{"allOf":"$transparent"},"properties":{"___Entries":{"description":"The entries in the data file you want to add, replace, or delete. If you only want to change a few fields, use Fields instead for best compatibility with other mods. To add an entry, just specify a key that doesn't exist; to delete an entry, set the value to null (like \"some key\": null). This field supports tokens in entry keys and values.\nCaution: some XNB files have extra fields at the end for translations; when adding or replacing an entry for all locales, make sure you include the extra fields to avoid errors for non-English players.","additionalProperties":{"type":["object","string"]},"title":"Entries","type":"object"},"___When":{"$eref":{"additionalProperties":{"type":["boolean","string"]},"type":"object"},"description":"Only apply the patch if the given conditions match.","title":"When"},"___Action":{"description":"The kind of change to make.","title":"Action","type":"string","enum":["Load","EditImage","EditData","EditMap"]},"___FromFile":{"allOf":[{"not":{"pattern":"\b\\.\\.[\/\\]"}},{"pattern":"\\.(json|png|tbin|tmx|xnb) *$"}],"description":"The relative file path in your content pack folder to load instead (like 'assets\/dinosaur.png'). This can be a .json (data), .png (image), .tbin or .tmx (map), or .xnb file. This field supports tokens and capitalization doesn't matter.","@errorMessages":{"allOf:indexes: 0":"Invalid value; must not contain directory climbing (like '..\/').","allOf:indexes: 1":"Invalid value; must be a file path ending with .json, .png, .tbin, .tmx, or .xnb."},"title":"Source file","type":"string"},"___PatchMode":{"default":"Replace","description":"How to apply FromArea to ToArea. Defaults to Replace.","title":"Patch mode","type":"string","enum":["Replace","Overlay"]},"___ToArea":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___Width":{"minimum:":0,"description":"The width of the area, measured in pixels for a texture or tiles for a map. This can contain tokens.","title":"Width","type":["integer","string"]},"___Height":{"minimum:":0,"description":"The height of the area, measured in pixels for a texture or tiles for a map. This can contain tokens.","title":"Height","type":["integer","string"]},"___X":{"minimum:":0,"description":"The X position of the area's top-left corner, measured in pixels for a texture or tiles for a map. This can contain tokens.","title":"X-Coordinate","type":["integer","string"]},"___Y":{"minimum:":0,"description":"The Y position of the area's top-left corner, measured in pixels for a texture or tiles for a map. This can contain tokens.","title":"Y-Coordinate","type":["integer","string"]}},"required":["X","Y","Width","Height"]},"description":"The part of the target image to replace. Defaults to the FromArea size starting from the top-left corner.","title":"Destination area"},"___FromArea":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___Width":{"minimum:":0,"description":"The width of the area, measured in pixels for a texture or tiles for a map. This can contain tokens.","title":"Width","type":["integer","string"]},"___Height":{"minimum:":0,"description":"The height of the area, measured in pixels for a texture or tiles for a map. This can contain tokens.","title":"Height","type":["integer","string"]},"___X":{"minimum:":0,"description":"The X position of the area's top-left corner, measured in pixels for a texture or tiles for a map. This can contain tokens.","title":"X-Coordinate","type":["integer","string"]},"___Y":{"minimum:":0,"description":"The Y position of the area's top-left corner, measured in pixels for a texture or tiles for a map. This can contain tokens.","title":"Y-Coordinate","type":["integer","string"]}},"required":["X","Y","Width","Height"]},"description":"The part of the source image to copy. Defaults to the whole source image.","title":"Source area"},"___MapProperties":{"description":"The map properties (not tile properties) to add, replace, or delete. To add an property, just specify a key that doesn't exist; to delete an entry, set the value to null (like \"some key\": null). This field supports tokens in property keys and values.","additionalProperties":{"type":"string"},"title":"Map properties","type":"object"},"___Fields":{"description":"The individual fields you want to change for existing entries. This field supports tokens in field keys and values. The key for each field is the field index (starting at zero) for a slash-delimited string, or the field name for an object.","additionalProperties":{"type":"object"},"title":"Fields","type":"object"},"___MoveEntries":{"description":"Change the entry order in a list asset like Data\/MoviesReactions. (Using this with a non-list asset will cause an error, since those have no order.)","title":"Move entries","type":"array","items":{"anyOf":[{"required":["BeforeID"]},{"required":["AfterID"]},{"required":["ToPosition"]}],"@errorMessages":{"dependencies:BeforeID":"If 'BeforeID' is specified, only 'ID' and 'BeforeID' fields are valid.","anyOf":"You must specify one of 'AfterID', 'BeforeID', or 'ToPosition'.","dependencies:ToPosition":"If 'ToPosition' is specified, only 'ID' and 'ToPosition' fields are valid.","dependencies:AfterID":"If 'AfterID' is specified, only 'ID' and 'AfterID' fields are valid."},"type":"object","properties":{"___AfterID":{"description":"Move entry so it's right after this ID","title":"After ID","type":"string"},"___ID":{"description":"The ID of the entry to move","title":"ID","type":"string"},"___BeforeID":{"description":"Move entry so it's right before this ID","title":"Before ID","type":"string"},"___ToPosition":{"description":"Move entry so it's right at this position","title":"To position","enum":["Top","Bottom"]}},"required":["ID"],"dependencies":{"AfterID":{"propertyNames":{"enum":["ID","AfterID"]}},"ToPosition":{"propertyNames":{"enum":["ID","ToPosition"]}},"BeforeID":{"propertyNames":{"enum":["ID","BeforeID"]}}}}},"___Target":{"not":{"pattern":"^ *[cC][oO][nN][tT][eE][nN][tT]\/|\\.[xX][nN][bB] *$|\\.[a-zA-Z][a-zA-Z]-[a-zA-Z][a-zA-Z](?:.xnb)? *$"},"description":"The game asset you want to patch (or multiple comma-delimited assets). This is the file path inside your game's Content folder, without the file extension or language (like Animals\/Dinosaur to edit Content\/Animals\/Dinosaur.xnb). This field supports tokens and capitalization doesn't matter. Your changes are applied in all languages unless you specify a language condition.","@errorMessages":{"not":"Invalid target; it shouldn't include the 'Content\/' folder, '.xnb' extension, or locale code."},"title":"Target asset","type":"string"},"___LogName":{"description":"A name for this patch shown in log messages. This is very useful for understanding errors; if not specified, will default to a name like 'entry #14 (EditImage Animals\/Dinosaurs)'.","title":"Patch log name","type":"string"},"___Enabled":{"description":"Whether to apply this patch. Default true. This fields supports immutable tokens (e.g. config tokens) if they return true\/false.","anyOf":[{"type":"string","enum":["true","false"]},{"pattern":"\\{\\{[^{}]+\\}\\}","type":"string"},{"type":"boolean"}],"title":"Enabled","@errorMessages":{"anyOf":"Invalid value; must be true, false, or a single token which evaluates to true or false."}}},"required":["Action","Target"]}},"___Format":{"const":"1.11.0","description":"The format version. You should always use the latest version to enable the latest features and avoid obsolete behavior.","@errorMessages":{"const":"Incorrect value '@value'. This should be set to the latest format version, currently '1.11.0'."},"title":"Format version","type":"string"}},"required":["Format","Changes"],"$id":"https:\/\/smapi.io\/schemas\/content-patcher.json"}