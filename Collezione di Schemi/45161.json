{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"http:\/\/paasta.readthedocs.io\/en\/latest\/yelpsoa_configs.html#marathon-clustername-yaml","additionalProperties":{"allOf":[{"oneOf":[{"properties":{"___healthcheck_mode":{"enum":["tcp","http"]}}},{"properties":{"___healthcheck_mode":{"enum":["cmd"]},"___healthcheck_cmd":{"type":"string"}},"required":["healthcheck_cmd"]}]},{"oneOf":[{"properties":{"___drain_method":{"enum":["noop","hacheck","test"]}}},{"properties":{"___drain_method":{"enum":["http"]},"___drain_method_params":{"type":"object","properties":{"___is_draining":{"type":"object"},"___is_safe_to_kill":{"type":"object"},"___drain":{"type":"object"},"___stop_draining":{"type":"object"}},"required":["drain","stop_draining","is_draining","is_safe_to_kill"]}},"required":["drain_method_params"]}]}],"additionalProperties":false,"type":"object","properties":{"___constraints":{"uniqueItems":true,"type":"array","items":{"type":"array"}},"___healthcheck_interval_seconds":{"default":10,"type":"number"},"___autoscaling":{"type":"object"},"___nerve_ns":{"type":"string"},"___bounce_method_params":{"type":"object","properties":{"___check_haproxy":{"default":true,"type":"boolean"},"___min_task_uptime":{"type":"number"}}},"___monitoring":{"type":"object"},"___ulimit":{"additionalProperties":{"additionalProperties":false,"type":"object","properties":{"___soft":{"type":"number"},"___hard":{"type":"number"}},"required":["soft"]},"type":"object"},"___deploy_group":{"type":"string"},"___bounce_health_params":{"type":"object","properties":{"___check_haproxy":{"default":true,"type":"boolean"}}},"___env":{"additionalProperties":{"type":"string"},"type":"object"},"___healthcheck_cmd":{"default":"\/bin\/true","type":"string"},"___cap_add":{"type":"array","items":{"type":"string"}},"___healthcheck_timeout_seconds":{"default":10,"type":"number"},"___deploy_blacklist":{"type":"array"},"___replication_threshold":{"type":"integer","minimum":0},"___instances":{"type":"integer","exclusiveMinimum":false,"minimum":0},"___cmd":{"type":"string"},"___extra_volumes":{"uniqueItems":true,"type":"array","items":{"type":"object"}},"___healthcheck_mode":{"enum":["cmd","tcp","http"]},"___monitoring_blacklist":{"type":"array"},"___pool":{"type":"string"},"___max_instances":{"type":"integer","exclusiveMinimum":false,"minimum":0},"___deploy_whitelist":{"type":"array"},"___healthcheck_grace_period_seconds":{"default":60,"type":"number"},"___extra_constraints":{"uniqueItems":true,"type":"array","items":{"type":"array"}},"___args":{"type":"array","items":{"type":"string"}},"___disk":{"default":1024,"type":"number","exclusiveMinimum":true,"minimum":0},"___bounce_margin_factor":{"default":1,"type":"number"},"___drain_method_params":{"type":"object"},"___min_instances":{"type":"integer","exclusiveMinimum":false,"minimum":0},"___mem":{"default":1024,"type":"number","exclusiveMinimum":true,"minimum":0},"___drain_method":{"default":"noop","enum":["noop","hacheck","http","test"]},"___registration_namespaces":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___bounce_method":{"type":"string"},"___net":{"type":"string"},"___healthcheck_max_consecutive_failures":{"default":6,"type":"integer"},"___cpus":{"default":0.25,"type":"number","exclusiveMinimum":true,"minimum":0}},"minProperties":1},"type":"object","minProperties":1}