{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"All paths are required to be in **Unix format** (foo\/bar), the build system normalizes them for other platforms internally","additionalProperties":false,"title":"BuckleScript build configuration","type":"object","definitions":{"_88rule-generator":{"description":"The shell command is running in *dev* time, and you generated could should be checked in, the depedency is tracked properly during dev time,example: `{ \"name\" : \"ocamllex\", \"command\" : \"ocamllex.opt $in -o $out\"}`","type":"object","properties":{"___name":{"type":"string"},"___command":{"type":"string"}}},"_88package-specs":{"oneOf":[{"type":"array","items":{"$eref":{"oneOf":[{"$ref":"#\/definitions\/module-format"},{"$ref":"#\/definitions\/module-format-object"}]}}},{"$eref":{"oneOf":[{"$ref":"#\/definitions\/module-format"},{"$ref":"#\/definitions\/module-format-object"}]}}]},"_88dependencies":{"type":"array","items":{"$eref":{"type":"string","title":"dependency"}}},"_88refmt-specs":{"oneOf":[{"description":"Reason syntax version to use. Prefer 3. Default: 2, for backward-compatiblity","type":"number","enum":[2,3]},{"description":"(Usually not needed) Alternative path to `refmt`, the Reason syntax binary. Default: path to the `refmt.exe` BuckleScript provides out of the box","type":"string"}]},"_88reason-specs":{"type":"object","properties":{"___react-jsx":{"$eref":{"description":"backward compatible mode, true means on with the default to be version 1 (the default value is subject to change)","title":"jsx-version","type":"number"},"description":"Whether to apply the [Reason-React](https:\/\/github.com\/reasonml\/reason-react)-specific JSX PPX transformation."}}},"_88entries":{"description":"A list of buildable targets","type":"array","items":{"$eref":{"type":"object","properties":{"___main":{"description":"Name of the main module used as entry point for this target. 'entry-point' isn't used when this project is built as a dependency.","type":"string"},"___kind":{"description":"The compiler to use for the target","enum":["native","bytecode","js"]}}}}},"_88targetItems":{"type":"object","properties":{"___main":{"description":"Name of the main module used as entry point for this target. 'entry-point' isn't used when this project is built as a dependency.","type":"string"},"___kind":{"description":"The compiler to use for the target","enum":["native","bytecode","js"]}}},"_88build-generator":{"description":"Note that we will add the directory path accordingly","type":"object","properties":{"___name":{"type":"string"},"___edge":{"type":"array","items":{"type":"string"}}}},"_88bsc-flags":{"oneOf":[{"description":"Default: `[\"-no-alias-deps\"]`","type":"array","items":{"type":"string"}},{"description":"(Not implemented yet)","type":"object","properties":{"___flags":{"type":"array","items":{"type":"string"}},"___kind":{"enum":["reset","prefix","append"]}}}]},"_88sources":{"oneOf":[{"description":"A list of source items","type":"array","items":{"$eref":{"oneOf":[{"type":"object","properties":{"___files":{"oneOf":[{"description":"if files are empty, the build system will populate it automatically. Useful for initial build","type":"array","items":{"type":"string"}},{"type":"object","properties":{"___slow-re":{"description":"Regex to glob the patterns, syntax is documented [here](http:\/\/caml.inria.fr\/pub\/docs\/manual-ocaml\/libref\/Str.html), for better incremental build performance, we'd suggest listing files explicitly","type":"string"},"___excludes":{"description":"Files to be excluded","type":"array","items":{"type":"string"}}}}]},"___type":{"enum":["dev","lib"]},"___public":{"oneOf":[{"description":"Selected modules, for example, [Module_a, Module_b] ","type":"array","items":{"type":"string"}},{"enum":["all"]}],"description":"Default: export all modules. It is recommended for library developers to hide some files\/interfaces"},"___subdirs":{"oneOf":[{"description":"More source directories","$ref":"#\/definitions\/sources"},{"description":"true means traverse to all subdirs","type":"boolean"}],"title":"Sub directories"},"___internal-depends":{"type":"array","items":{"description":"internal dependencies, if unspecified, all existing listed source files are considered potential dependencies","type":"string"}},"___group":{"oneOf":[{"description":"A _unique_ name for each directory to refer as an internal dependency later","type":"string"},{"type":"object","properties":{"___name":{"type":"string"},"___hierachy":{"description":"When true, all subdirs are considered as a whole as dependency","type":"boolean"}}}],"description":"Not implemented yet"},"___dir":{"description":"name of the directory","type":"string"},"___generators":{"description":"(WIP) Files generated in dev time","type":"array","items":{"$ref":"#\/definitions\/build-generator"}},"___resources":{"type":"array","items":{"type":"string"}}},"required":["dir"]},{"title":"Single non-nested directory","type":"string"}],"title":"sourceItem"}}},{"$eref":{"oneOf":[{"type":"object","properties":{"___files":{"oneOf":[{"description":"if files are empty, the build system will populate it automatically. Useful for initial build","type":"array","items":{"type":"string"}},{"type":"object","properties":{"___slow-re":{"description":"Regex to glob the patterns, syntax is documented [here](http:\/\/caml.inria.fr\/pub\/docs\/manual-ocaml\/libref\/Str.html), for better incremental build performance, we'd suggest listing files explicitly","type":"string"},"___excludes":{"description":"Files to be excluded","type":"array","items":{"type":"string"}}}}]},"___type":{"enum":["dev","lib"]},"___public":{"oneOf":[{"description":"Selected modules, for example, [Module_a, Module_b] ","type":"array","items":{"type":"string"}},{"enum":["all"]}],"description":"Default: export all modules. It is recommended for library developers to hide some files\/interfaces"},"___subdirs":{"oneOf":[{"description":"More source directories","$ref":"#\/definitions\/sources"},{"description":"true means traverse to all subdirs","type":"boolean"}],"title":"Sub directories"},"___internal-depends":{"type":"array","items":{"description":"internal dependencies, if unspecified, all existing listed source files are considered potential dependencies","type":"string"}},"___group":{"oneOf":[{"description":"A _unique_ name for each directory to refer as an internal dependency later","type":"string"},{"type":"object","properties":{"___name":{"type":"string"},"___hierachy":{"description":"When true, all subdirs are considered as a whole as dependency","type":"boolean"}}}],"description":"Not implemented yet"},"___dir":{"description":"name of the directory","type":"string"},"___generators":{"description":"(WIP) Files generated in dev time","type":"array","items":{"$ref":"#\/definitions\/build-generator"}},"___resources":{"type":"array","items":{"type":"string"}}},"required":["dir"]},{"title":"Single non-nested directory","type":"string"}],"title":"sourceItem"},"description":"A single source item"}],"description":"Example: `\"src\"` or `[\"src\", \"test\"]` or `[{\"dir\": \"src\", \"subdirs\": [...]}]`"},"_88react-jsx-version":{"description":"backward compatible mode, true means on with the default to be version 1 (the default value is subject to change)","title":"jsx-version","type":"number"},"_88module-format":{"description":"es6-global generate relative `require` paths instead of relying on NodeJS' module resolution. Default: commonjs.","enum":["commonjs","es6","es6-global"]},"_88sourceItem":{"oneOf":[{"type":"object","properties":{"___files":{"oneOf":[{"description":"if files are empty, the build system will populate it automatically. Useful for initial build","type":"array","items":{"type":"string"}},{"type":"object","properties":{"___slow-re":{"description":"Regex to glob the patterns, syntax is documented [here](http:\/\/caml.inria.fr\/pub\/docs\/manual-ocaml\/libref\/Str.html), for better incremental build performance, we'd suggest listing files explicitly","type":"string"},"___excludes":{"description":"Files to be excluded","type":"array","items":{"type":"string"}}}}]},"___type":{"enum":["dev","lib"]},"___public":{"oneOf":[{"description":"Selected modules, for example, [Module_a, Module_b] ","type":"array","items":{"type":"string"}},{"enum":["all"]}],"description":"Default: export all modules. It is recommended for library developers to hide some files\/interfaces"},"___subdirs":{"oneOf":[{"$eref":{"oneOf":[{"description":"A list of source items","type":"array","items":{"$ref":"#\/definitions\/sourceItem"}},{"description":"A single source item","$ref":"#\/definitions\/sourceItem"}],"description":"Example: `\"src\"` or `[\"src\", \"test\"]` or `[{\"dir\": \"src\", \"subdirs\": [...]}]`"},"description":"More source directories"},{"description":"true means traverse to all subdirs","type":"boolean"}],"title":"Sub directories"},"___internal-depends":{"type":"array","items":{"description":"internal dependencies, if unspecified, all existing listed source files are considered potential dependencies","type":"string"}},"___group":{"oneOf":[{"description":"A _unique_ name for each directory to refer as an internal dependency later","type":"string"},{"type":"object","properties":{"___name":{"type":"string"},"___hierachy":{"description":"When true, all subdirs are considered as a whole as dependency","type":"boolean"}}}],"description":"Not implemented yet"},"___dir":{"description":"name of the directory","type":"string"},"___generators":{"description":"(WIP) Files generated in dev time","type":"array","items":{"$eref":{"description":"Note that we will add the directory path accordingly","type":"object","properties":{"___name":{"type":"string"},"___edge":{"type":"array","items":{"type":"string"}}}}}},"___resources":{"type":"array","items":{"type":"string"}}},"required":["dir"]},{"title":"Single non-nested directory","type":"string"}],"title":"sourceItem"},"_88ppx-specs":{"type":"array","items":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]}},"_88bs-dependency":{"type":"string","title":"dependency"},"_88gentype-specs":{"description":"path to gentype, path resolution is similar to reason","type":"object","properties":{"___path":{"type":"string"}}},"_88js-post-build":{"type":"object","properties":{"___cmd":{"type":"string"}}},"_88module-format-object":{"type":"object","properties":{"___in-source":{"description":"Default: false.","type":"boolean"},"___module":{"$eref":{"description":"es6-global generate relative `require` paths instead of relying on NodeJS' module resolution. Default: commonjs.","enum":["commonjs","es6","es6-global"]}}},"required":["module"]},"_88namespace-spec":{"oneOf":[{"description":"true to use the package name as namespace, false to not use","type":"boolean"},{"description":"provide customized namespace name","type":"string"}]},"_88package-spec":{"oneOf":[{"$eref":{"description":"es6-global generate relative `require` paths instead of relying on NodeJS' module resolution. Default: commonjs.","enum":["commonjs","es6","es6-global"]}},{"$eref":{"type":"object","properties":{"___in-source":{"description":"Default: false.","type":"boolean"},"___module":{"$ref":"#\/definitions\/module-format"}},"required":["module"]}}]},"_88pp-specs":{"type":"string"}},"properties":{"___warnings":{"description":"warning numbers and whether to turn it into error or not","type":"object","properties":{"___number":{"description":"Default: -40+6+7+27+32..39+44+45 [Here](https:\/\/caml.inria.fr\/pub\/docs\/manual-ocaml\/comp.html#sec270) for the meanings of the warning flags","type":"string"},"___error":{"oneOf":[{"description":"True means warn is error(default)","type":"boolean"},{"description":"Same as warning number but different set","type":"string"}]}}},"___package-specs":{"$eref":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/package-spec"}},{"$ref":"#\/definitions\/package-spec"}]},"description":"BuckleScript can currently output to [Commonjs](https:\/\/en.wikipedia.org\/wiki\/CommonJS), and [ES6 modules](https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/JavaScript\/Reference\/Statements\/import)"},"___cut-generators":{"description":"Ignore generators, cut the dependency on generator tools","type":"boolean"},"___pp-flags":{"$eref":{"type":"string"},"description":"preprocessors to pass to compiler. The syntax is package_name\/binary, for example: `pp\/syntax.exe`. Currenly searches in `node_modules`"},"___bsc-flags":{"$eref":{"oneOf":[{"description":"Default: `[\"-no-alias-deps\"]`","type":"array","items":{"type":"string"}},{"description":"(Not implemented yet)","type":"object","properties":{"___flags":{"type":"array","items":{"type":"string"}},"___kind":{"enum":["reset","prefix","append"]}}}]},"description":"Flags passed to bsc.exe"},"___bs-external-includes":{"description":"(Not needed usually) external include directories, which will be applied `-I` to all compilation units","type":"array","items":{"type":"string"}},"___entries":{"$eref":{"description":"A list of buildable targets","type":"array","items":{"$ref":"#\/definitions\/targetItems"}},"description":"(internal) Used by bsb to build to different targets: native (ocamlopt), bytecode (ocamlc) or JS (bsc)"},"___reason":{"$eref":{"type":"object","properties":{"___react-jsx":{"description":"Whether to apply the [Reason-React](https:\/\/github.com\/reasonml\/reason-react)-specific JSX PPX transformation.","$ref":"#\/definitions\/react-jsx-version"}}},"description":"BuckleScript comes with [Reason](http:\/\/reasonml.github.io\/) by default. Specific configurations here."},"___refmt-flags":{"description":"(Not needed usually) arguments to pass to `refmt` above. Default: `[\"--print\", \"binary\"]`.","type":"array","items":{"type":"string"}},"___refmt":{"$eref":{"oneOf":[{"description":"Reason syntax version to use. Prefer 3. Default: 2, for backward-compatiblity","type":"number","enum":[2,3]},{"description":"(Usually not needed) Alternative path to `refmt`, the Reason syntax binary. Default: path to the `refmt.exe` BuckleScript provides out of the box","type":"string"}]},"description":"Reason syntax configuration"},"___generate-merlin":{"description":"Whether to generate the `.merlin` file for [Merlin](https:\/\/github.com\/ocaml\/merlin). Default: true","type":"boolean"},"___gentypeconfig":{"$eref":{"description":"path to gentype, path resolution is similar to reason","type":"object","properties":{"___path":{"type":"string"}}},"description":"gentype config, see cristianoc\/genType for more details"},"___sources":{"$eref":{"oneOf":[{"description":"A list of source items","type":"array","items":{"$ref":"#\/definitions\/sourceItem"}},{"description":"A single source item","$ref":"#\/definitions\/sourceItem"}],"description":"Example: `\"src\"` or `[\"src\", \"test\"]` or `[{\"dir\": \"src\", \"subdirs\": [...]}]`"},"description":"Source code location"},"___js-post-build":{"$eref":{"type":"object","properties":{"___cmd":{"type":"string"}}},"description":"(Experimental) post-processing hook. bsb will invoke `cmd ${file}` whenever a `${file}` is changed"},"___name":{"description":"Package name","type":"string"},"___use-stdlib":{"description":"(Experimental) whether to use the OCaml standard library. Default: true","type":"boolean"},"___suffix":{"description":"suffix of generated js files, default to [.js] ","enum":[".js",".bs.js"]},"___namespace":{"$eref":{"oneOf":[{"description":"true to use the package name as namespace, false to not use","type":"boolean"},{"description":"provide customized namespace name","type":"string"}]},"description":"can be true\/false or a customized name"},"___version":{"description":"The semantic version of the OCaml library","type":"string"},"___ppx-flags":{"$eref":{"type":"array","items":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]}},"description":"PPX macros to pass to compiler. The syntax is package_name\/binary, for example: `reason\/reactjs_jsx_ppx_3.native`. Currenly searches in `node_modules`"},"___bs-dev-dependencies":{"$eref":{"type":"array","items":{"$ref":"#\/definitions\/bs-dependency"}},"description":"OCaml\/Reason dev dependencies of the library, like in package.json. Currently searches in `node_modules`"},"___bs-dependencies":{"$eref":{"type":"array","items":{"$ref":"#\/definitions\/bs-dependency"}},"description":"OCaml\/Reason dependencies of the library, like in package.json. Currently searches in `node_modules`"},"___generators":{"description":"(WIP) Pre defined rules","type":"array","items":{"$eref":{"description":"The shell command is running in *dev* time, and you generated could should be checked in, the depedency is tracked properly during dev time,example: `{ \"name\" : \"ocamllex\", \"command\" : \"ocamllex.opt $in -o $out\"}`","type":"object","properties":{"___name":{"type":"string"},"___command":{"type":"string"}}}}},"___ignored-dirs":{"description":"a list of directories that bsb will not look into","type":"array","items":{"type":"string"}}},"required":["name","sources"]}