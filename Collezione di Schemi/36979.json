{"patternProperties":{"___^x-":{}},"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"config_schema_v3.8.json","additionalProperties":false,"type":"object","definitions":{"_88string_or_list":{"oneOf":[{"type":"string"},{"$eref":{"uniqueItems":true,"type":"array","items":{"type":"string"}}}]},"_88secret":{"patternProperties":{"___^x-":{}},"id":"#\/definitions\/secret","additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___driver_opts":{"patternProperties":{"___^.+$":{"type":["string","number"]}},"type":"object"},"___driver":{"type":"string"},"___external":{"type":["boolean","object"],"properties":{"___name":{"type":"string"}}},"___labels":{"$eref":{"oneOf":[{"patternProperties":{"___.+":{"type":["string","number","null"]}},"additionalProperties":false,"type":"object"},{"uniqueItems":true,"type":"array","items":{"type":"string"}}]}},"___file":{"type":"string"},"___template_driver":{"type":"string"}}},"_88generic_resources":{"id":"#\/definitions\/generic_resources","type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___discrete_resource_spec":{"additionalProperties":false,"type":"object","properties":{"___kind":{"type":"string"},"___value":{"type":"number"}}}}}},"_88config":{"patternProperties":{"___^x-":{}},"id":"#\/definitions\/config","additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___external":{"type":["boolean","object"],"properties":{"___name":{"type":"string"}}},"___labels":{"$eref":{"oneOf":[{"patternProperties":{"___.+":{"type":["string","number","null"]}},"additionalProperties":false,"type":"object"},{"uniqueItems":true,"type":"array","items":{"type":"string"}}]}},"___file":{"type":"string"},"___template_driver":{"type":"string"}}},"_88network":{"patternProperties":{"___^x-":{}},"id":"#\/definitions\/network","additionalProperties":false,"type":["object","null"],"properties":{"___name":{"type":"string"},"___driver_opts":{"patternProperties":{"___^.+$":{"type":["string","number"]}},"type":"object"},"___attachable":{"type":"boolean"},"___driver":{"type":"string"},"___external":{"additionalProperties":false,"type":["boolean","object"],"properties":{"___name":{"type":"string"}}},"___internal":{"type":"boolean"},"___ipam":{"additionalProperties":false,"type":"object","properties":{"___config":{"type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___subnet":{"type":"string"}}}},"___driver":{"type":"string"}}},"___labels":{"$eref":{"oneOf":[{"patternProperties":{"___.+":{"type":["string","number","null"]}},"additionalProperties":false,"type":"object"},{"uniqueItems":true,"type":"array","items":{"type":"string"}}]}}}},"_88list_of_strings":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"_88volume":{"patternProperties":{"___^x-":{}},"id":"#\/definitions\/volume","additionalProperties":false,"type":["object","null"],"properties":{"___name":{"type":"string"},"___driver_opts":{"patternProperties":{"___^.+$":{"type":["string","number"]}},"type":"object"},"___driver":{"type":"string"},"___external":{"additionalProperties":false,"type":["boolean","object"],"properties":{"___name":{"type":"string"}}},"___labels":{"$eref":{"oneOf":[{"patternProperties":{"___.+":{"type":["string","number","null"]}},"additionalProperties":false,"type":"object"},{"uniqueItems":true,"type":"array","items":{"type":"string"}}]}}}},"_88constraints":{"service":{"anyOf":[{"required":["build"]},{"required":["image"]}],"id":"#\/definitions\/constraints\/service","properties":{"___build":{"required":["context"]}}}},"_88service":{"patternProperties":{"___^x-":{}},"id":"#\/definitions\/service","additionalProperties":false,"type":"object","properties":{"___env_file":{"$eref":{"oneOf":[{"type":"string"},{"$ref":"#\/definitions\/list_of_strings"}]}},"___shm_size":{"type":["number","string"]},"___sysctls":{"$eref":{"oneOf":[{"patternProperties":{"___.+":{"type":["string","number","null"]}},"additionalProperties":false,"type":"object"},{"uniqueItems":true,"type":"array","items":{"type":"string"}}]}},"___ports":{"uniqueItems":true,"type":"array","items":{"oneOf":[{"format":"ports","type":"number"},{"format":"ports","type":"string"},{"additionalProperties":false,"type":"object","properties":{"___target":{"type":"integer"},"___mode":{"type":"string"},"___protocol":{"type":"string"},"___published":{"type":"integer"}}}]}},"___depends_on":{"$eref":{"uniqueItems":true,"type":"array","items":{"type":"string"}}},"___labels":{"$eref":{"oneOf":[{"patternProperties":{"___.+":{"type":["string","number","null"]}},"additionalProperties":false,"type":"object"},{"uniqueItems":true,"type":"array","items":{"type":"string"}}]}},"___expose":{"uniqueItems":true,"type":"array","items":{"format":"expose","type":["string","number"]}},"___mac_address":{"type":"string"},"___external_links":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___environment":{"$eref":{"oneOf":[{"patternProperties":{"___.+":{"type":["string","number","null"]}},"additionalProperties":false,"type":"object"},{"uniqueItems":true,"type":"array","items":{"type":"string"}}]}},"___restart":{"type":"string"},"___stdin_open":{"type":"boolean"},"___stop_signal":{"type":"string"},"___hostname":{"type":"string"},"___logging":{"additionalProperties":false,"type":"object","properties":{"___options":{"patternProperties":{"___^.+$":{"type":["string","number","null"]}},"type":"object"},"___driver":{"type":"string"}}},"___tty":{"type":"boolean"},"___links":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___image":{"type":"string"},"___dns_search":{"$eref":{"oneOf":[{"type":"string"},{"$ref":"#\/definitions\/list_of_strings"}]}},"___pid":{"type":["string","null"]},"___entrypoint":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"___working_dir":{"type":"string"},"___user":{"type":"string"},"___tmpfs":{"$eref":{"oneOf":[{"type":"string"},{"$ref":"#\/definitions\/list_of_strings"}]}},"___command":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"___security_opt":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___cgroup_parent":{"type":"string"},"___read_only":{"type":"boolean"},"___ipc":{"type":"string"},"___network_mode":{"type":"string"},"___secrets":{"type":"array","items":{"oneOf":[{"type":"string"},{"type":"object","properties":{"___gid":{"type":"string"},"___target":{"type":"string"},"___uid":{"type":"string"},"___mode":{"type":"number"},"___source":{"type":"string"}}}]}},"___stop_grace_period":{"format":"duration","type":"string"},"___dns":{"$eref":{"oneOf":[{"type":"string"},{"$ref":"#\/definitions\/list_of_strings"}]}},"___networks":{"oneOf":[{"$eref":{"uniqueItems":true,"type":"array","items":{"type":"string"}}},{"patternProperties":{"___^[a-zA-Z0-9._-]+$":{"oneOf":[{"additionalProperties":false,"type":"object","properties":{"___ipv4_address":{"type":"string"},"___aliases":{"$eref":{"uniqueItems":true,"type":"array","items":{"type":"string"}}},"___ipv6_address":{"type":"string"}}},{"type":"null"}]}},"additionalProperties":false,"type":"object"}]},"___cap_add":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___devices":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___healthcheck":{"$eref":{"id":"#\/definitions\/healthcheck","additionalProperties":false,"type":"object","properties":{"___interval":{"format":"duration","type":"string"},"___timeout":{"format":"duration","type":"string"},"___retries":{"type":"number"},"___disable":{"type":"boolean"},"___start_period":{"format":"duration","type":"string"},"___test":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]}}}},"___ulimits":{"patternProperties":{"___^[a-z]+$":{"oneOf":[{"type":"integer"},{"additionalProperties":false,"type":"object","properties":{"___soft":{"type":"integer"},"___hard":{"type":"integer"}},"required":["soft","hard"]}]}},"type":"object"},"___container_name":{"type":"string"},"___volumes":{"type":"array","items":{"oneOf":[{"type":"string"},{"additionalProperties":false,"type":"object","properties":{"___target":{"type":"string"},"___type":{"type":"string"},"___tmpfs":{"type":"object","properties":{"___size":{"type":"integer","minimum":0}}},"___consistency":{"type":"string"},"___volume":{"type":"object","properties":{"___nocopy":{"type":"boolean"}}},"___bind":{"type":"object","properties":{"___propagation":{"type":"string"}}},"___read_only":{"type":"boolean"},"___source":{"type":"string"}},"required":["type"]}],"uniqueItems":true}},"___isolation":{"type":"string"},"___domainname":{"type":"string"},"___privileged":{"type":"boolean"},"___credential_spec":{"additionalProperties":false,"type":"object","properties":{"___config":{"type":"string"},"___file":{"type":"string"},"___registry":{"type":"string"}}},"___cap_drop":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___userns_mode":{"type":"string"},"___deploy":{"$eref":{"id":"#\/definitions\/deployment","additionalProperties":false,"type":["object","null"],"properties":{"___endpoint_mode":{"type":"string"},"___update_config":{"additionalProperties":false,"type":"object","properties":{"___max_failure_ratio":{"type":"number"},"___order":{"type":"string","enum":["start-first","stop-first"]},"___delay":{"format":"duration","type":"string"},"___parallelism":{"type":"integer"},"___failure_action":{"type":"string"},"___monitor":{"format":"duration","type":"string"}}},"___rollback_config":{"additionalProperties":false,"type":"object","properties":{"___max_failure_ratio":{"type":"number"},"___order":{"type":"string","enum":["start-first","stop-first"]},"___delay":{"format":"duration","type":"string"},"___parallelism":{"type":"integer"},"___failure_action":{"type":"string"},"___monitor":{"format":"duration","type":"string"}}},"___mode":{"type":"string"},"___replicas":{"type":"integer"},"___labels":{"$ref":"#\/definitions\/list_or_dict"},"___resources":{"additionalProperties":false,"type":"object","properties":{"___reservations":{"additionalProperties":false,"type":"object","properties":{"___generic_resources":{"$ref":"#\/definitions\/generic_resources"},"___memory":{"type":"string"},"___cpus":{"type":"string"}}},"___limits":{"additionalProperties":false,"type":"object","properties":{"___memory":{"type":"string"},"___cpus":{"type":"string"}}}}},"___placement":{"additionalProperties":false,"type":"object","properties":{"___constraints":{"type":"array","items":{"type":"string"}},"___max_replicas_per_node":{"type":"integer"},"___preferences":{"type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___spread":{"type":"string"}}}}}},"___restart_policy":{"additionalProperties":false,"type":"object","properties":{"___max_attempts":{"type":"integer"},"___delay":{"format":"duration","type":"string"},"___condition":{"type":"string"},"___window":{"format":"duration","type":"string"}}}}}},"___extra_hosts":{"$eref":{"oneOf":[{"patternProperties":{"___.+":{"type":["string","number","null"]}},"additionalProperties":false,"type":"object"},{"uniqueItems":true,"type":"array","items":{"type":"string"}}]}},"___configs":{"type":"array","items":{"oneOf":[{"type":"string"},{"type":"object","properties":{"___gid":{"type":"string"},"___target":{"type":"string"},"___uid":{"type":"string"},"___mode":{"type":"number"},"___source":{"type":"string"}}}]}},"___init":{"type":"boolean"},"___build":{"oneOf":[{"type":"string"},{"additionalProperties":false,"type":"object","properties":{"___shm_size":{"type":["integer","string"]},"___target":{"type":"string"},"___args":{"$eref":{"oneOf":[{"patternProperties":{"___.+":{"type":["string","number","null"]}},"additionalProperties":false,"type":"object"},{"uniqueItems":true,"type":"array","items":{"type":"string"}}]}},"___network":{"type":"string"},"___cache_from":{"$eref":{"uniqueItems":true,"type":"array","items":{"type":"string"}}},"___labels":{"$eref":{"oneOf":[{"patternProperties":{"___.+":{"type":["string","number","null"]}},"additionalProperties":false,"type":"object"},{"uniqueItems":true,"type":"array","items":{"type":"string"}}]}},"___context":{"type":"string"},"___dockerfile":{"type":"string"}}}]}}},"_88deployment":{"id":"#\/definitions\/deployment","additionalProperties":false,"type":["object","null"],"properties":{"___endpoint_mode":{"type":"string"},"___update_config":{"additionalProperties":false,"type":"object","properties":{"___max_failure_ratio":{"type":"number"},"___order":{"type":"string","enum":["start-first","stop-first"]},"___delay":{"format":"duration","type":"string"},"___parallelism":{"type":"integer"},"___failure_action":{"type":"string"},"___monitor":{"format":"duration","type":"string"}}},"___rollback_config":{"additionalProperties":false,"type":"object","properties":{"___max_failure_ratio":{"type":"number"},"___order":{"type":"string","enum":["start-first","stop-first"]},"___delay":{"format":"duration","type":"string"},"___parallelism":{"type":"integer"},"___failure_action":{"type":"string"},"___monitor":{"format":"duration","type":"string"}}},"___mode":{"type":"string"},"___replicas":{"type":"integer"},"___labels":{"$eref":{"oneOf":[{"patternProperties":{"___.+":{"type":["string","number","null"]}},"additionalProperties":false,"type":"object"},{"uniqueItems":true,"type":"array","items":{"type":"string"}}]}},"___resources":{"additionalProperties":false,"type":"object","properties":{"___reservations":{"additionalProperties":false,"type":"object","properties":{"___generic_resources":{"$eref":{"id":"#\/definitions\/generic_resources","type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___discrete_resource_spec":{"additionalProperties":false,"type":"object","properties":{"___kind":{"type":"string"},"___value":{"type":"number"}}}}}}},"___memory":{"type":"string"},"___cpus":{"type":"string"}}},"___limits":{"additionalProperties":false,"type":"object","properties":{"___memory":{"type":"string"},"___cpus":{"type":"string"}}}}},"___placement":{"additionalProperties":false,"type":"object","properties":{"___constraints":{"type":"array","items":{"type":"string"}},"___max_replicas_per_node":{"type":"integer"},"___preferences":{"type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___spread":{"type":"string"}}}}}},"___restart_policy":{"additionalProperties":false,"type":"object","properties":{"___max_attempts":{"type":"integer"},"___delay":{"format":"duration","type":"string"},"___condition":{"type":"string"},"___window":{"format":"duration","type":"string"}}}}},"_88healthcheck":{"id":"#\/definitions\/healthcheck","additionalProperties":false,"type":"object","properties":{"___interval":{"format":"duration","type":"string"},"___timeout":{"format":"duration","type":"string"},"___retries":{"type":"number"},"___disable":{"type":"boolean"},"___start_period":{"format":"duration","type":"string"},"___test":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]}}},"_88list_or_dict":{"oneOf":[{"patternProperties":{"___.+":{"type":["string","number","null"]}},"additionalProperties":false,"type":"object"},{"uniqueItems":true,"type":"array","items":{"type":"string"}}]}},"properties":{"___secrets":{"patternProperties":{"___^[a-zA-Z0-9._-]+$":{"$eref":{"patternProperties":{"___^x-":{}},"id":"#\/definitions\/secret","additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___driver_opts":{"patternProperties":{"___^.+$":{"type":["string","number"]}},"type":"object"},"___driver":{"type":"string"},"___external":{"type":["boolean","object"],"properties":{"___name":{"type":"string"}}},"___labels":{"$ref":"#\/definitions\/list_or_dict"},"___file":{"type":"string"},"___template_driver":{"type":"string"}}}}},"id":"#\/properties\/secrets","additionalProperties":false,"type":"object"},"___version":{"type":"string"},"___configs":{"patternProperties":{"___^[a-zA-Z0-9._-]+$":{"$eref":{"patternProperties":{"___^x-":{}},"id":"#\/definitions\/config","additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___external":{"type":["boolean","object"],"properties":{"___name":{"type":"string"}}},"___labels":{"$ref":"#\/definitions\/list_or_dict"},"___file":{"type":"string"},"___template_driver":{"type":"string"}}}}},"id":"#\/properties\/configs","additionalProperties":false,"type":"object"},"___services":{"patternProperties":{"___^[a-zA-Z0-9._-]+$":{"$eref":{"patternProperties":{"___^x-":{}},"id":"#\/definitions\/service","additionalProperties":false,"type":"object","properties":{"___env_file":{"$ref":"#\/definitions\/string_or_list"},"___shm_size":{"type":["number","string"]},"___sysctls":{"$ref":"#\/definitions\/list_or_dict"},"___ports":{"uniqueItems":true,"type":"array","items":{"oneOf":[{"format":"ports","type":"number"},{"format":"ports","type":"string"},{"additionalProperties":false,"type":"object","properties":{"___target":{"type":"integer"},"___mode":{"type":"string"},"___protocol":{"type":"string"},"___published":{"type":"integer"}}}]}},"___depends_on":{"$ref":"#\/definitions\/list_of_strings"},"___labels":{"$ref":"#\/definitions\/list_or_dict"},"___expose":{"uniqueItems":true,"type":"array","items":{"format":"expose","type":["string","number"]}},"___mac_address":{"type":"string"},"___external_links":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___environment":{"$ref":"#\/definitions\/list_or_dict"},"___restart":{"type":"string"},"___stdin_open":{"type":"boolean"},"___stop_signal":{"type":"string"},"___hostname":{"type":"string"},"___logging":{"additionalProperties":false,"type":"object","properties":{"___options":{"patternProperties":{"___^.+$":{"type":["string","number","null"]}},"type":"object"},"___driver":{"type":"string"}}},"___tty":{"type":"boolean"},"___links":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___image":{"type":"string"},"___dns_search":{"$ref":"#\/definitions\/string_or_list"},"___pid":{"type":["string","null"]},"___entrypoint":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"___working_dir":{"type":"string"},"___user":{"type":"string"},"___tmpfs":{"$ref":"#\/definitions\/string_or_list"},"___command":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"___security_opt":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___cgroup_parent":{"type":"string"},"___read_only":{"type":"boolean"},"___ipc":{"type":"string"},"___network_mode":{"type":"string"},"___secrets":{"type":"array","items":{"oneOf":[{"type":"string"},{"type":"object","properties":{"___gid":{"type":"string"},"___target":{"type":"string"},"___uid":{"type":"string"},"___mode":{"type":"number"},"___source":{"type":"string"}}}]}},"___stop_grace_period":{"format":"duration","type":"string"},"___dns":{"$ref":"#\/definitions\/string_or_list"},"___networks":{"oneOf":[{"$ref":"#\/definitions\/list_of_strings"},{"patternProperties":{"___^[a-zA-Z0-9._-]+$":{"oneOf":[{"additionalProperties":false,"type":"object","properties":{"___ipv4_address":{"type":"string"},"___aliases":{"$ref":"#\/definitions\/list_of_strings"},"___ipv6_address":{"type":"string"}}},{"type":"null"}]}},"additionalProperties":false,"type":"object"}]},"___cap_add":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___devices":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___healthcheck":{"$ref":"#\/definitions\/healthcheck"},"___ulimits":{"patternProperties":{"___^[a-z]+$":{"oneOf":[{"type":"integer"},{"additionalProperties":false,"type":"object","properties":{"___soft":{"type":"integer"},"___hard":{"type":"integer"}},"required":["soft","hard"]}]}},"type":"object"},"___container_name":{"type":"string"},"___volumes":{"type":"array","items":{"oneOf":[{"type":"string"},{"additionalProperties":false,"type":"object","properties":{"___target":{"type":"string"},"___type":{"type":"string"},"___tmpfs":{"type":"object","properties":{"___size":{"type":"integer","minimum":0}}},"___consistency":{"type":"string"},"___volume":{"type":"object","properties":{"___nocopy":{"type":"boolean"}}},"___bind":{"type":"object","properties":{"___propagation":{"type":"string"}}},"___read_only":{"type":"boolean"},"___source":{"type":"string"}},"required":["type"]}],"uniqueItems":true}},"___isolation":{"type":"string"},"___domainname":{"type":"string"},"___privileged":{"type":"boolean"},"___credential_spec":{"additionalProperties":false,"type":"object","properties":{"___config":{"type":"string"},"___file":{"type":"string"},"___registry":{"type":"string"}}},"___cap_drop":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___userns_mode":{"type":"string"},"___deploy":{"$ref":"#\/definitions\/deployment"},"___extra_hosts":{"$ref":"#\/definitions\/list_or_dict"},"___configs":{"type":"array","items":{"oneOf":[{"type":"string"},{"type":"object","properties":{"___gid":{"type":"string"},"___target":{"type":"string"},"___uid":{"type":"string"},"___mode":{"type":"number"},"___source":{"type":"string"}}}]}},"___init":{"type":"boolean"},"___build":{"oneOf":[{"type":"string"},{"additionalProperties":false,"type":"object","properties":{"___shm_size":{"type":["integer","string"]},"___target":{"type":"string"},"___args":{"$ref":"#\/definitions\/list_or_dict"},"___network":{"type":"string"},"___cache_from":{"$ref":"#\/definitions\/list_of_strings"},"___labels":{"$ref":"#\/definitions\/list_or_dict"},"___context":{"type":"string"},"___dockerfile":{"type":"string"}}}]}}}}},"id":"#\/properties\/services","additionalProperties":false,"type":"object"},"___networks":{"patternProperties":{"___^[a-zA-Z0-9._-]+$":{"$eref":{"patternProperties":{"___^x-":{}},"id":"#\/definitions\/network","additionalProperties":false,"type":["object","null"],"properties":{"___name":{"type":"string"},"___driver_opts":{"patternProperties":{"___^.+$":{"type":["string","number"]}},"type":"object"},"___attachable":{"type":"boolean"},"___driver":{"type":"string"},"___external":{"additionalProperties":false,"type":["boolean","object"],"properties":{"___name":{"type":"string"}}},"___internal":{"type":"boolean"},"___ipam":{"additionalProperties":false,"type":"object","properties":{"___config":{"type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___subnet":{"type":"string"}}}},"___driver":{"type":"string"}}},"___labels":{"$ref":"#\/definitions\/list_or_dict"}}}}},"id":"#\/properties\/networks","type":"object"},"___volumes":{"patternProperties":{"___^[a-zA-Z0-9._-]+$":{"$eref":{"patternProperties":{"___^x-":{}},"id":"#\/definitions\/volume","additionalProperties":false,"type":["object","null"],"properties":{"___name":{"type":"string"},"___driver_opts":{"patternProperties":{"___^.+$":{"type":["string","number"]}},"type":"object"},"___driver":{"type":"string"},"___external":{"additionalProperties":false,"type":["boolean","object"],"properties":{"___name":{"type":"string"}}},"___labels":{"$ref":"#\/definitions\/list_or_dict"}}}}},"id":"#\/properties\/volumes","additionalProperties":false,"type":"object"}},"required":["version"]}