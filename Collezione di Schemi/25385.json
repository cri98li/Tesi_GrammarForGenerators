{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"Microsoft Devices Resource Types","id":"http:\/\/schema.management.azure.com\/schemas\/2016-02-03\/Microsoft.Devices.json#","title":"Microsoft.Devices","resourceDefinitions":{"IotHubs":{"description":"Microsoft.Devices\/IotHubs","type":"object","properties":{"___name":{"oneOf":[{"minLength":3,"pattern":"^(?![0-9]+$)(?!-)[a-zA-Z0-9-]{2,49}[a-zA-Z0-9]$","description":"The Resource name with the following regex pattern for the name ^(?![0-9]+$)(?!-)[a-zA-Z0-9-]{2,49}[a-zA-Z0-9]$","type":"string","maxLength":50},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}]},"___type":{"description":"The Resource type.","type":"string","enum":["Microsoft.Devices\/IotHubs"]},"___tags":{"description":"The Resource tags.","additionalProperties":{"type":"string"},"type":"object"},"___properties":{"oneOf":[{"$eref":{"description":"The Iot Hub properties","type":"object","properties":{"___cloudToDevice":{"oneOf":[{"$ref":"#\/definitions\/CloudToDeviceProperties"},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}]},"___eventHubEndpoints":{"oneOf":[{"additionalProperties":{"$ref":"#\/definitions\/EventHubProperties"},"type":"object"},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The event hub endpoint properties."},"___enableFileUploadNotifications":{"oneOf":[{"type":"boolean"},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The flag which indicates whether file upload notification should be enabled. This is optional at iot hub level. When enabled upload notifications will be available."},"___storageEndpoints":{"oneOf":[{"additionalProperties":{"$ref":"#\/definitions\/StorageEndpointProperties"},"type":"object"},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The list of storage end points where files can be uploaded. Currently only one storage account can be configured."},"___authorizationPolicies":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/SharedAccessSignatureAuthorizationRule"}},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The authorization rules."},"___features":{"oneOf":[{"type":"string","enum":["None","DeviceManagement"]},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The Capabilities\/Features that need to be enabled for the Hub. Possible values include: 'None', 'DeviceManagement'"}}}},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}]},"___sku":{"oneOf":[{"$eref":{"description":"The Sku related information for the hub.","type":"object","properties":{"___name":{"oneOf":[{"type":"string","enum":["F1","S1","S2","S3"]},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The name of the Sku. Possible values include: 'F1', 'S1', 'S2', 'S3'"},"___capacity":{"oneOf":[{"type":"integer"},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The number of units being provisioned. Range of values [For F1: 1-1, S1: 1-200, S2: 1-200, S3: 1-10]. To go above this range, call support."}}}},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}]},"___apiVersion":{"type":"string","enum":["2016-02-03"]}},"required":["type","apiVersion","properties","sku","location","name"]}},"definitions":{"_88StorageEndpointProperties":{"description":"The properties of the Storage Endpoint provided by the customer for file upload","type":"object","properties":{"___sasTtlAsIso8601":{"description":"SAS time to live. Range: 1 Min (PT1M) - 1 Day (P1D)","type":"string"},"___connectionString":{"description":"The account key credentials for storage account selected by customer for uploading files","type":"string"},"___containerName":{"description":"The root container name where all files will be uploaded","type":"string"}}},"_88SharedAccessSignatureAuthorizationRule":{"description":"The properties that describe the keys to access the IotHub artifacts.","type":"object","properties":{"___primaryKey":{"description":"The primary key.","type":"string"},"___keyName":{"description":"The name of the key.","type":"string"},"___secondaryKey":{"description":"The secondary key.","type":"string"},"___rights":{"description":"The access rights.","enum":["RegistryRead","RegistryWrite","ServiceConnect","DeviceConnect","RegistryRead, RegistryWrite","RegistryRead, ServiceConnect","RegistryRead, DeviceConnect","RegistryWrite, ServiceConnect","RegistryWrite, DeviceConnect","ServiceConnect, DeviceConnect","RegistryRead, RegistryWrite, ServiceConnect","RegistryRead, RegistryWrite, DeviceConnect","RegistryRead, ServiceConnect, DeviceConnect","RegistryWrite, ServiceConnect, DeviceConnect","RegistryRead, RegistryWrite, ServiceConnect, DeviceConnect"]}}},"_88IotHubProperties":{"description":"The Iot Hub properties","type":"object","properties":{"___cloudToDevice":{"oneOf":[{"$eref":{"description":"The Iot Hub Cloud-To-Device messaging properties","type":"object","properties":{"___maxDeliveryCount":{"oneOf":[{"maximum":100,"type":"integer","minimum":1},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The max delivery count for the device queue. Range: 1-100"},"___defaultTtlAsIso8601":{"description":"The default time to live for the device queue. Range: 1 Min (PT1M) - 2 Days (P1D)","type":"string"},"___feedback":{"oneOf":[{"$ref":"#\/definitions\/FeedbackProperties"},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}]}}}},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}]},"___eventHubEndpoints":{"oneOf":[{"additionalProperties":{"$eref":{"description":"The properties of the provisioned event hub used by the Iot Hub","type":"object","properties":{"___retentionTimeInDays":{"oneOf":[{"type":"integer"},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The retention time in days. Range of values [For F1: 1-1, S1: 1-7, S2: 1-7, S3: 1-7]."},"___partitionCount":{"oneOf":[{"type":"integer"},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The partition count. Range of values [For F1: 2-2, S1: 2-128, S2: 2-128, S3: 2-128]."}}}},"type":"object"},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The event hub endpoint properties."},"___enableFileUploadNotifications":{"oneOf":[{"type":"boolean"},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The flag which indicates whether file upload notification should be enabled. This is optional at iot hub level. When enabled upload notifications will be available."},"___storageEndpoints":{"oneOf":[{"additionalProperties":{"$eref":{"description":"The properties of the Storage Endpoint provided by the customer for file upload","type":"object","properties":{"___sasTtlAsIso8601":{"description":"SAS time to live. Range: 1 Min (PT1M) - 1 Day (P1D)","type":"string"},"___connectionString":{"description":"The account key credentials for storage account selected by customer for uploading files","type":"string"},"___containerName":{"description":"The root container name where all files will be uploaded","type":"string"}}}},"type":"object"},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The list of storage end points where files can be uploaded. Currently only one storage account can be configured."},"___authorizationPolicies":{"oneOf":[{"type":"array","items":{"$eref":{"description":"The properties that describe the keys to access the IotHub artifacts.","type":"object","properties":{"___primaryKey":{"description":"The primary key.","type":"string"},"___keyName":{"description":"The name of the key.","type":"string"},"___secondaryKey":{"description":"The secondary key.","type":"string"},"___rights":{"description":"The access rights.","enum":["RegistryRead","RegistryWrite","ServiceConnect","DeviceConnect","RegistryRead, RegistryWrite","RegistryRead, ServiceConnect","RegistryRead, DeviceConnect","RegistryWrite, ServiceConnect","RegistryWrite, DeviceConnect","ServiceConnect, DeviceConnect","RegistryRead, RegistryWrite, ServiceConnect","RegistryRead, RegistryWrite, DeviceConnect","RegistryRead, ServiceConnect, DeviceConnect","RegistryWrite, ServiceConnect, DeviceConnect","RegistryRead, RegistryWrite, ServiceConnect, DeviceConnect"]}}}}},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The authorization rules."},"___features":{"oneOf":[{"type":"string","enum":["None","DeviceManagement"]},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The Capabilities\/Features that need to be enabled for the Hub. Possible values include: 'None', 'DeviceManagement'"}}},"_88FeedbackProperties":{"description":"The Iot Hub Feedback Queue properties","type":"object","properties":{"___ttlAsIso8601":{"description":"The time to live for the feedback queue. Range: 1 Min (PT1M) - 2 Days (P2D)","type":"string"},"___maxDeliveryCount":{"oneOf":[{"maximum":100,"type":"integer","minimum":1},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The max delivery count. Range : 1-100"},"___lockDurationAsIso8601":{"description":"The lock duration for the feedback queue. Range: 5 Sec (PT5S) - 5 Min (PT5M)","type":"string"}}},"_88EventHubProperties":{"description":"The properties of the provisioned event hub used by the Iot Hub","type":"object","properties":{"___retentionTimeInDays":{"oneOf":[{"type":"integer"},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The retention time in days. Range of values [For F1: 1-1, S1: 1-7, S2: 1-7, S3: 1-7]."},"___partitionCount":{"oneOf":[{"type":"integer"},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The partition count. Range of values [For F1: 2-2, S1: 2-128, S2: 2-128, S3: 2-128]."}}},"_88CloudToDeviceProperties":{"description":"The Iot Hub Cloud-To-Device messaging properties","type":"object","properties":{"___maxDeliveryCount":{"oneOf":[{"maximum":100,"type":"integer","minimum":1},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The max delivery count for the device queue. Range: 1-100"},"___defaultTtlAsIso8601":{"description":"The default time to live for the device queue. Range: 1 Min (PT1M) - 2 Days (P1D)","type":"string"},"___feedback":{"oneOf":[{"$eref":{"description":"The Iot Hub Feedback Queue properties","type":"object","properties":{"___ttlAsIso8601":{"description":"The time to live for the feedback queue. Range: 1 Min (PT1M) - 2 Days (P2D)","type":"string"},"___maxDeliveryCount":{"oneOf":[{"maximum":100,"type":"integer","minimum":1},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The max delivery count. Range : 1-100"},"___lockDurationAsIso8601":{"description":"The lock duration for the feedback queue. Range: 5 Sec (PT5S) - 5 Min (PT5M)","type":"string"}}}},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}]}}},"_88IotHubSkuInfo":{"description":"The Sku related information for the hub.","type":"object","properties":{"___name":{"oneOf":[{"type":"string","enum":["F1","S1","S2","S3"]},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The name of the Sku. Possible values include: 'F1', 'S1', 'S2', 'S3'"},"___capacity":{"oneOf":[{"type":"integer"},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The number of units being provisioned. Range of values [For F1: 1-1, S1: 1-200, S2: 1-200, S3: 1-10]. To go above this range, call support."}}}}}