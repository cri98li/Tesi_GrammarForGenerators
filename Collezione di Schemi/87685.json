{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"Microsoft ContainerRegistry Resource Types","id":"https:\/\/schema.management.azure.com\/schemas\/2018-09-01\/Microsoft.ContainerRegistry.json#","title":"Microsoft.ContainerRegistry","resourceDefinitions":{"registries_tasks":{"description":"Microsoft.ContainerRegistry\/registries\/tasks","type":"object","properties":{"___location":{"description":"The location of the resource. This cannot be changed after the resource is created.","type":"string"},"___name":{"oneOf":[{"pattern":"^[a-zA-Z0-9-_]*$","type":"string"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The name of the container registry task."},"___type":{"type":"string","enum":["Microsoft.ContainerRegistry\/registries\/tasks"]},"___tags":{"oneOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The tags of the resource."},"___properties":{"oneOf":[{"$eref":{"description":"The properties of a task.","type":"object","properties":{"___trigger":{"oneOf":[{"$ref":"#\/definitions\/TriggerProperties"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The properties that describe all triggers for the task."},"___agentConfiguration":{"oneOf":[{"$ref":"#\/definitions\/AgentProperties"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The machine configuration of the run agent."},"___platform":{"oneOf":[{"$ref":"#\/definitions\/PlatformProperties"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The platform properties against which the run has to happen."},"___status":{"oneOf":[{"type":"string","enum":["Disabled","Enabled"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The current status of task."},"___step":{"oneOf":[{"$ref":"#\/definitions\/TaskStepProperties"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The properties of a task step."},"___timeout":{"oneOf":[{"default":"3600","maximum":28800,"type":"integer","minimum":300},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Run timeout in seconds."}},"required":["platform","step"]}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The properties of a task."},"___apiVersion":{"type":"string","enum":["2018-09-01"]}},"required":["name","type","apiVersion","location","properties"]}},"definitions":{"_88TriggerProperties":{"description":"The properties of a trigger.","type":"object","properties":{"___baseImageTrigger":{"oneOf":[{"$eref":{"description":"The trigger based on base image dependency.","type":"object","properties":{"___name":{"description":"The name of the trigger.","type":"string"},"___status":{"oneOf":[{"type":"string","enum":["Disabled","Enabled"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The current status of trigger."},"___baseImageTriggerType":{"oneOf":[{"type":"string","enum":["All","Runtime"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The type of the auto trigger for base image dependency updates."}},"required":["baseImageTriggerType","name"]}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The trigger based on base image dependencies."},"___sourceTriggers":{"oneOf":[{"type":"array","items":{"$eref":{"description":"The properties of a source based trigger.","type":"object","properties":{"___name":{"description":"The name of the trigger.","type":"string"},"___sourceTriggerEvents":{"oneOf":[{"type":"array","items":{"type":"string","enum":["commit","pullrequest"]}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The source event corresponding to the trigger."},"___status":{"oneOf":[{"type":"string","enum":["Disabled","Enabled"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The current status of trigger."},"___sourceRepository":{"oneOf":[{"$ref":"#\/definitions\/SourceProperties"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The properties that describes the source(code) for the task."}},"required":["sourceRepository","sourceTriggerEvents","name"]}}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The collection of triggers based on source code repository."}}},"_88SourceTrigger":{"description":"The properties of a source based trigger.","type":"object","properties":{"___name":{"description":"The name of the trigger.","type":"string"},"___sourceTriggerEvents":{"oneOf":[{"type":"array","items":{"type":"string","enum":["commit","pullrequest"]}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The source event corresponding to the trigger."},"___status":{"oneOf":[{"type":"string","enum":["Disabled","Enabled"]},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The current status of trigger."},"___sourceRepository":{"oneOf":[{"$eref":{"description":"The properties of the source code repository.","type":"object","properties":{"___branch":{"description":"The branch name of the source code.","type":"string"},"___repositoryUrl":{"description":"The full URL to the source code respository","type":"string"},"___sourceControlAuthProperties":{"oneOf":[{"$ref":"#\/definitions\/AuthInfo"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The authorization properties for accessing the source code repository and to set up\r\nwebhooks for notifications."},"___sourceControlType":{"oneOf":[{"type":"string","enum":["Github","VisualStudioTeamService"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The type of source control service."}},"required":["sourceControlType","repositoryUrl"]}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The properties that describes the source(code) for the task."}},"required":["sourceRepository","sourceTriggerEvents","name"]},"_88EncodedTask":{"allOf":[{"properties":{"___encodedTaskContent":{"description":"Base64 encoded value of the template\/definition file content.","type":"string"},"___encodedValuesContent":{"description":"Base64 encoded value of the parameters\/values file content.","type":"string"},"___values":{"oneOf":[{"type":"array","items":{"$eref":{"description":"The properties of a overridable value that can be passed to a task template.","type":"object","properties":{"___name":{"description":"The name of the overridable value.","type":"string"},"___isSecret":{"oneOf":[{"default":false,"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Flag to indicate whether the value represents a secret or not."},"___value":{"description":"The overridable value.","type":"string"}},"required":["name","value"]}}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The collection of overridable values that can be passed when running a task."}},"required":["encodedTaskContent"]}],"description":"The properties of a encoded task step.","type":"object"},"_88Docker":{"allOf":[{"properties":{"___isPushEnabled":{"oneOf":[{"default":true,"type":"boolean"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The value of this property indicates whether the image built should be pushed to the registry or not."},"___dockerFilePath":{"description":"The Docker file path relative to the source context.","type":"string"},"___noCache":{"oneOf":[{"default":false,"type":"boolean"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The value of this property indicates whether the image cache is enabled or not."},"___imageNames":{"oneOf":[{"type":"array","items":{"type":"string"}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The fully qualified image names including the repository and tag."},"___arguments":{"oneOf":[{"type":"array","items":{"$eref":{"description":"The properties of a run argument.","type":"object","properties":{"___name":{"description":"The name of the argument.","type":"string"},"___isSecret":{"oneOf":[{"default":false,"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Flag to indicate whether the argument represents a secret and want to be removed from build logs."},"___value":{"description":"The value of the argument.","type":"string"}},"required":["name","value"]}}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The collection of override arguments to be used when executing this build step."}},"required":["dockerFilePath"]}],"description":"The Docker build step.","type":"object"},"_88BaseImageTrigger":{"description":"The trigger based on base image dependency.","type":"object","properties":{"___name":{"description":"The name of the trigger.","type":"string"},"___status":{"oneOf":[{"type":"string","enum":["Disabled","Enabled"]},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The current status of trigger."},"___baseImageTriggerType":{"oneOf":[{"type":"string","enum":["All","Runtime"]},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The type of the auto trigger for base image dependency updates."}},"required":["baseImageTriggerType","name"]},"_88FileTask":{"allOf":[{"properties":{"___valuesFilePath":{"description":"The task values\/parameters file path relative to the source context.","type":"string"},"___values":{"oneOf":[{"type":"array","items":{"$eref":{"description":"The properties of a overridable value that can be passed to a task template.","type":"object","properties":{"___name":{"description":"The name of the overridable value.","type":"string"},"___isSecret":{"oneOf":[{"default":false,"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Flag to indicate whether the value represents a secret or not."},"___value":{"description":"The overridable value.","type":"string"}},"required":["name","value"]}}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The collection of overridable values that can be passed when running a task."},"___taskFilePath":{"description":"The task template\/definition file path relative to the source context.","type":"string"}},"required":["taskFilePath"]}],"description":"The properties of a task step.","type":"object"},"_88AuthInfo":{"description":"The authorization properties for accessing the source code repository.","type":"object","properties":{"___refreshToken":{"description":"The refresh token used to refresh the access token.","type":"string"},"___token":{"description":"The access token used to access the source control provider.","type":"string"},"___scope":{"description":"The scope of the access token.","type":"string"},"___tokenType":{"oneOf":[{"type":"string","enum":["PAT","OAuth"]},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The type of Auth token."},"___expiresIn":{"oneOf":[{"type":"integer"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Time in seconds that the token remains valid"}},"required":["tokenType","token"]},"_88PlatformProperties":{"description":"The platform properties against which the run has to happen.","type":"object","properties":{"___os":{"oneOf":[{"type":"string","enum":["Windows","Linux"]},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The operating system type required for the run."},"___architecture":{"oneOf":[{"type":"string","enum":["amd64","x86","arm"]},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The OS architecture."},"___variant":{"oneOf":[{"type":"string","enum":["v6","v7","v8"]},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Variant of the CPU."}},"required":["os"]},"_88SourceProperties":{"description":"The properties of the source code repository.","type":"object","properties":{"___branch":{"description":"The branch name of the source code.","type":"string"},"___repositoryUrl":{"description":"The full URL to the source code respository","type":"string"},"___sourceControlAuthProperties":{"oneOf":[{"$eref":{"description":"The authorization properties for accessing the source code repository.","type":"object","properties":{"___refreshToken":{"description":"The refresh token used to refresh the access token.","type":"string"},"___token":{"description":"The access token used to access the source control provider.","type":"string"},"___scope":{"description":"The scope of the access token.","type":"string"},"___tokenType":{"oneOf":[{"type":"string","enum":["PAT","OAuth"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The type of Auth token."},"___expiresIn":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Time in seconds that the token remains valid"}},"required":["tokenType","token"]}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The authorization properties for accessing the source code repository and to set up\r\nwebhooks for notifications."},"___sourceControlType":{"oneOf":[{"type":"string","enum":["Github","VisualStudioTeamService"]},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The type of source control service."}},"required":["sourceControlType","repositoryUrl"]},"_88TaskStepProperties":{"allOf":[{"properties":{"___contextPath":{"description":"The URL(absolute or relative) of the source context for the task step.","type":"string"},"___type":{"type":"string","enum":["TaskStepProperties","Docker","FileTask","EncodedTask"]}}},{"anyOf":[{"$eref":{"allOf":[{"properties":{"___isPushEnabled":{"oneOf":[{"default":true,"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The value of this property indicates whether the image built should be pushed to the registry or not."},"___dockerFilePath":{"description":"The Docker file path relative to the source context.","type":"string"},"___noCache":{"oneOf":[{"default":false,"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The value of this property indicates whether the image cache is enabled or not."},"___imageNames":{"oneOf":[{"type":"array","items":{"type":"string"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The fully qualified image names including the repository and tag."},"___arguments":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/Argument"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The collection of override arguments to be used when executing this build step."}},"required":["dockerFilePath"]}],"description":"The Docker build step.","type":"object"}},{"$eref":{"allOf":[{"properties":{"___valuesFilePath":{"description":"The task values\/parameters file path relative to the source context.","type":"string"},"___values":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/SetValue"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The collection of overridable values that can be passed when running a task."},"___taskFilePath":{"description":"The task template\/definition file path relative to the source context.","type":"string"}},"required":["taskFilePath"]}],"description":"The properties of a task step.","type":"object"}},{"$eref":{"allOf":[{"properties":{"___encodedTaskContent":{"description":"Base64 encoded value of the template\/definition file content.","type":"string"},"___encodedValuesContent":{"description":"Base64 encoded value of the parameters\/values file content.","type":"string"},"___values":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/SetValue"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The collection of overridable values that can be passed when running a task."}},"required":["encodedTaskContent"]}],"description":"The properties of a encoded task step.","type":"object"}}]}],"description":"Base properties for any task step.","type":"object"},"_88AgentProperties":{"description":"The properties that determine the run agent configuration.","type":"object","properties":{"___cpu":{"oneOf":[{"type":"integer"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The CPU configuration in terms of number of cores required for the run."}}},"_88SetValue":{"description":"The properties of a overridable value that can be passed to a task template.","type":"object","properties":{"___name":{"description":"The name of the overridable value.","type":"string"},"___isSecret":{"oneOf":[{"default":false,"type":"boolean"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Flag to indicate whether the value represents a secret or not."},"___value":{"description":"The overridable value.","type":"string"}},"required":["name","value"]},"_88TaskProperties":{"description":"The properties of a task.","type":"object","properties":{"___trigger":{"oneOf":[{"$eref":{"description":"The properties of a trigger.","type":"object","properties":{"___baseImageTrigger":{"oneOf":[{"$ref":"#\/definitions\/BaseImageTrigger"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The trigger based on base image dependencies."},"___sourceTriggers":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/SourceTrigger"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The collection of triggers based on source code repository."}}}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The properties that describe all triggers for the task."},"___agentConfiguration":{"oneOf":[{"$eref":{"description":"The properties that determine the run agent configuration.","type":"object","properties":{"___cpu":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The CPU configuration in terms of number of cores required for the run."}}}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The machine configuration of the run agent."},"___platform":{"oneOf":[{"$eref":{"description":"The platform properties against which the run has to happen.","type":"object","properties":{"___os":{"oneOf":[{"type":"string","enum":["Windows","Linux"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The operating system type required for the run."},"___architecture":{"oneOf":[{"type":"string","enum":["amd64","x86","arm"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The OS architecture."},"___variant":{"oneOf":[{"type":"string","enum":["v6","v7","v8"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Variant of the CPU."}},"required":["os"]}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The platform properties against which the run has to happen."},"___status":{"oneOf":[{"type":"string","enum":["Disabled","Enabled"]},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The current status of task."},"___step":{"oneOf":[{"$eref":{"allOf":[{"properties":{"___contextPath":{"description":"The URL(absolute or relative) of the source context for the task step.","type":"string"},"___type":{"type":"string","enum":["TaskStepProperties","Docker","FileTask","EncodedTask"]}}},{"anyOf":[{"$ref":"#\/definitions\/Docker"},{"$ref":"#\/definitions\/FileTask"},{"$ref":"#\/definitions\/EncodedTask"}]}],"description":"Base properties for any task step.","type":"object"}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The properties of a task step."},"___timeout":{"oneOf":[{"default":"3600","maximum":28800,"type":"integer","minimum":300},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Run timeout in seconds."}},"required":["platform","step"]},"_88Argument":{"description":"The properties of a run argument.","type":"object","properties":{"___name":{"description":"The name of the argument.","type":"string"},"___isSecret":{"oneOf":[{"default":false,"type":"boolean"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Flag to indicate whether the argument represents a secret and want to be removed from build logs."},"___value":{"description":"The value of the argument.","type":"string"}},"required":["name","value"]}}}