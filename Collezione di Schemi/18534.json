{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"Infra Topology for openstack","title":"Infra Topology","type":"object","definitions":{"_88email":{"type":"string"}},"properties":{"___site":{"description":"site of provisioning ","type":"string"},"___date":{"description":"Date of creation","type":"string"},"___infra_type":{"description":"type of infrastructure ","enum":["aws","openstack","gce","beaker_bm"]},"___resources":{"description":"contains list of resources ","type":"array","additionalitems":false,"items":{"additionalProperties":true,"properties":{"___resource_name":{"type":"string"},"___res_def":{"oneOf":[{"properties":{"___count":{"type":"number"},"___tags":{"type":"array","items":{"type":"string"}},"___image":{"type":"string"},"___networks":{"type":"array","items":{"type":"string"}},"___keypair":{"type":"string"},"___flavor":{"type":"string"}},"required":["flavor","image","keypair","networks"]},{"title":"resource_def for a sample resource","properties":{"___sample_name":{"type":"string"}},"required":["name"]}]},"___count":{"type":"number"},"___associated_creds":{"description":"contains creds file associated to this resource","type":"string"}},"required":["resource_name","res_def","count"]},"minimum":1},"___topology_name":{"description":"The unique identifier for topology","type":"string"},"___credentials":{"description":"contains various credential_vaults names","type":"array","minimum":1,"items":{"type":"string"}}},"required":["topology_name","infra_type","site","credentials"]}