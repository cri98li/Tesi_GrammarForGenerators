{"patternProperties":{"___^\\$schema$":{"const":"https:\/\/raw.githubusercontent.com\/OpenLightingProject\/open-fixture-library\/master\/schemas\/fixture.json"}},"allOf":[{"then":{"required":["rdm"]},"if":{"properties":{"___modes":{"contains":{"required":["rdmPersonalityIndex"]}}}}},{"anyOf":[{"required":["availableChannels"]},{"required":["templateChannels"]}]}],"$schema":"http:\/\/json-schema.org\/draft-07\/schema#","additionalProperties":false,"type":"object","version":"12.2.0","properties":{"___modes":{"minItems":1,"type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___name":{"$eref":{"allOf":[{"$ref":"#\/nonEmptyString"},{"pattern":"^((?!mode)(?!Mode).)*$"}]}},"___physical":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___dimensions":{"$ref":"definitions.json#\/dimensionsXYZ"},"___weight":{"$comment":"in kg","type":"number","exclusiveMinimum":0},"___DMXconnector":{"$comment":"additions are welcome","enum":["3-pin","3-pin (swapped +\/-)","3-pin XLR IP65","5-pin","5-pin XLR IP65","3-pin and 5-pin","3.5mm stereo jack"]},"___lens":{"additionalProperties":false,"type":"object","properties":{"___name":{"$comment":"e.g. 'PC', 'Fresnel'","$ref":"definitions.json#\/nonEmptyString"},"___degreesMinMax":{"minItems":2,"maxItems":2,"type":"array","items":{"maximum":360,"type":"number","minimum":0}}},"minProperties":1},"___power":{"$comment":"in W","type":"number","exclusiveMinimum":0},"___matrixPixels":{"type":"object","properties":{"___dimensions":{"$ref":"definitions.json#\/dimensionsXYZ"},"___spacing":{"$ref":"definitions.json#\/dimensionsXYZ"}},"minProperties":1},"___bulb":{"additionalProperties":false,"type":"object","properties":{"___lumens":{"type":"number","exclusiveMinimum":0},"___type":{"$comment":"e.g. 'LED'","$ref":"definitions.json#\/nonEmptyString"},"___colorTemperature":{"$comment":"in K","type":"number","exclusiveMinimum":0}},"minProperties":1}},"minProperties":1}},"___rdmPersonalityIndex":{"type":"integer","minimum":1},"___channels":{"minItems":1,"type":"array","items":{"oneOf":[{"$comment":"for unused channels","type":"null"},{"$eref":{"pattern":"^[^$\n]+$","type":"string"},"$comment":"normal channel keys, resolved template channel keys or channel alias keys"},{"additionalProperties":false,"$comment":"matrix channel insert block","type":"object","properties":{"___repeatFor":{"oneOf":[{"enum":["eachPixelABC","eachPixelXYZ","eachPixelXZY","eachPixelYXZ","eachPixelYZX","eachPixelZXY","eachPixelZYX","eachPixelGroup"]},{"minItems":1,"uniqueItems":true,"type":"array","items":{"$eref":{"pattern":"^[^$\n]+$","type":"string"},"$comment":"pixel key or pixel group key"}}]},"___templateChannels":{"minItems":1,"type":"array","items":{"oneOf":[{"$comment":"for unused channels","type":"null"},{"$eref":{"pattern":"\\$pixelKey","type":"string"},"$comment":"template channel key or template channel alias key"}]}},"___channelOrder":{"enum":["perPixel","perChannel"]},"___insert":{"const":"matrixChannels"}},"required":["insert","repeatFor","channelOrder","templateChannels"]}]}},"___shortName":{"$eref":{"allOf":[{"$ref":"#\/nonEmptyString"},{"pattern":"^((?!mode)(?!Mode).)*$"}]}}},"required":["name","channels"]}},"___links":{"anyOf":[{"required":["manual"]},{"required":["productPage"]},{"required":["video"]},{"required":["other"]}],"additionalProperties":false,"type":"object","properties":{"___productPage":{"$eref":{"minItems":1,"uniqueItems":true,"type":"array","items":{"$ref":"#\/urlString"}}},"___video":{"$eref":{"minItems":1,"uniqueItems":true,"type":"array","items":{"$ref":"#\/urlString"}}},"___manual":{"$eref":{"minItems":1,"uniqueItems":true,"type":"array","items":{"$ref":"#\/urlString"}}},"___other":{"$eref":{"minItems":1,"uniqueItems":true,"type":"array","items":{"$ref":"#\/urlString"}}}}},"___physical":{"additionalProperties":false,"type":"object","properties":{"___dimensions":{"$eref":{"minItems":3,"maxItems":3,"$comment":"width, height, depth (in mm)","type":"array","items":{"type":"number","minimum":0}}},"___weight":{"$comment":"in kg","type":"number","exclusiveMinimum":0},"___DMXconnector":{"$comment":"additions are welcome","enum":["3-pin","3-pin (swapped +\/-)","3-pin XLR IP65","5-pin","5-pin XLR IP65","3-pin and 5-pin","3.5mm stereo jack"]},"___lens":{"additionalProperties":false,"type":"object","properties":{"___name":{"$eref":{"pattern":"^[^\n]+$","type":"string"},"$comment":"e.g. 'PC', 'Fresnel'"},"___degreesMinMax":{"minItems":2,"maxItems":2,"type":"array","items":{"maximum":360,"type":"number","minimum":0}}},"minProperties":1},"___power":{"$comment":"in W","type":"number","exclusiveMinimum":0},"___matrixPixels":{"type":"object","properties":{"___dimensions":{"$eref":{"minItems":3,"maxItems":3,"$comment":"width, height, depth (in mm)","type":"array","items":{"type":"number","minimum":0}}},"___spacing":{"$eref":{"minItems":3,"maxItems":3,"$comment":"width, height, depth (in mm)","type":"array","items":{"type":"number","minimum":0}}}},"minProperties":1},"___bulb":{"additionalProperties":false,"type":"object","properties":{"___lumens":{"type":"number","exclusiveMinimum":0},"___type":{"$eref":{"pattern":"^[^\n]+$","type":"string"},"$comment":"e.g. 'LED'"},"___colorTemperature":{"$comment":"in K","type":"number","exclusiveMinimum":0}},"minProperties":1}},"minProperties":1},"___availableChannels":{"propertyNames":{"$eref":{"pattern":"^[^$\n]+$","type":"string"},"$comment":"channel keys"},"additionalProperties":{"$eref":{"allOf":[{"then":{"$comment":"defaultValue must be set and all capabilities have to set switchChannels","properties":{"___capabilities":{"items":{"required":["switchChannels"]}}},"required":["defaultValue"]},"if":{"$comment":"one capability sets switchChannels","properties":{"___capabilities":{"contains":{"required":["switchChannels"]}}},"required":["capabilities"]}},{"then":{"not":{"required":["fineChannelAliases"]},"$comment":"fineChannelAliases must not be set"},"if":{"$comment":"channel contains only one NoFunction capability","properties":{"___capability":{"properties":{"___type":{"const":"NoFunction"}}}},"required":["capability"]}}],"oneOf":[{"not":{"required":["capabilities"]},"required":["capability"]},{"not":{"required":["capability"]},"required":["capabilities"]}],"$schema":"http:\/\/json-schema.org\/draft-07\/schema#","additionalProperties":false,"$comment":"This file is used by another schema file and should not be used directly as a JSON schema.","type":"object","properties":{"___name":{"$comment":"if not set: use channel key","$ref":"definitions.json#\/nonEmptyString"},"___fineChannelAliases":{"minItems":1,"uniqueItems":true,"type":"array","items":{"oneOf":[{"$ref":"definitions.json#\/noVariablesString"},{"$comment":"only in template channels","$ref":"definitions.json#\/variablePixelKeyString"}]}},"___capability":{"allOf":[{"$ref":"capability.json#"}],"not":{"anyOf":[{"required":["dmxRange"]},{"required":["switchChannels"]}]}},"___precedence":{"enum":["LTP","HTP"]},"___highlightValue":{"oneOf":[{"$ref":"definitions.json#\/units\/dmxValue"},{"$ref":"definitions.json#\/units\/dmxValuePercent"}]},"___capabilities":{"minItems":2,"uniqueItems":true,"type":"array","items":{"allOf":[{"$ref":"capability.json#"}],"required":["dmxRange"]}},"___dmxValueResolution":{"enum":["8bit","16bit","24bit"]},"___defaultValue":{"oneOf":[{"$ref":"definitions.json#\/units\/dmxValue"},{"$ref":"definitions.json#\/units\/dmxValuePercent"}]},"___constant":{"type":"boolean"}},"$id":"https:\/\/raw.githubusercontent.com\/OpenLightingProject\/open-fixture-library\/master\/schemas\/channel.json","dependencies":{"dmxValueResolution":["fineChannelAliases"]}}},"type":"object","minProperties":1},"___wheels":{"propertyNames":{"$eref":{"pattern":"^[^\n]+$","type":"string"},"$comment":"wheel names"},"additionalProperties":{"additionalProperties":false,"type":"object","properties":{"___slots":{"minItems":2,"type":"array","items":{"$eref":{"allOf":[{"then":{"additionalProperties":false,"properties":{"___type":{}}},"if":{"properties":{"___type":{"const":"Open"}}}},{"then":{"additionalProperties":false,"properties":{"___type":{}}},"if":{"properties":{"___type":{"const":"Closed"}}}},{"then":{"additionalProperties":false,"properties":{"___name":{"$ref":"definitions.json#\/nonEmptyString"},"___type":{},"___colorTemperature":{"$ref":"definitions.json#\/entities\/colorTemperature"},"___colors":{"minItems":1,"type":"array","items":{"$ref":"definitions.json#\/colorString"}}}},"if":{"properties":{"___type":{"const":"Color"}}}},{"then":{"additionalProperties":false,"properties":{"___name":{"$ref":"definitions.json#\/nonEmptyString"},"___type":{},"___resource":{"$ref":"definitions.json#\/goboResourceString"}}},"if":{"properties":{"___type":{"const":"Gobo"}}}},{"then":{"additionalProperties":false,"properties":{"___name":{"$ref":"definitions.json#\/nonEmptyString"},"___facets":{"type":"integer","minimum":2},"___type":{}}},"if":{"properties":{"___type":{"const":"Prism"}}}},{"then":{"additionalProperties":false,"properties":{"___type":{},"___openPercent":{"$ref":"definitions.json#\/entities\/irisPercent"}}},"if":{"properties":{"___type":{"const":"Iris"}}}},{"then":{"additionalProperties":false,"properties":{"___frostIntensity":{"$ref":"definitions.json#\/entities\/percent"},"___type":{}}},"if":{"properties":{"___type":{"const":"Frost"}}}},{"then":{"additionalProperties":false,"properties":{"___name":{"$ref":"definitions.json#\/nonEmptyString"},"___type":{}}},"if":{"properties":{"___type":{"const":"AnimationGoboStart"}}}},{"then":{"additionalProperties":false,"properties":{"___type":{}}},"if":{"properties":{"___type":{"const":"AnimationGoboEnd"}}}}],"$schema":"http:\/\/json-schema.org\/draft-07\/schema#","$comment":"This file is used by another schema file and should not be used directly as a JSON schema.","type":"object","properties":{"___type":{"enum":["Open","Closed","Color","Gobo","Prism","Iris","Frost","AnimationGoboStart","AnimationGoboEnd"]}},"required":["type"],"$id":"https:\/\/raw.githubusercontent.com\/OpenLightingProject\/open-fixture-library\/master\/schemas\/wheel-slot.json"}}},"___direction":{"enum":["CW","CCW"]}},"required":["slots"]},"type":"object","minProperties":1},"___categories":{"minItems":1,"uniqueItems":true,"$comment":"most important category first","type":"array","items":{"enum":["Barrel Scanner","Blinder","Color Changer","Dimmer","Effect","Fan","Flower","Hazer","Laser","Matrix","Moving Head","Pixel Bar","Scanner","Smoke","Stand","Strobe","Other"]}},"___shortName":{"$eref":{"pattern":"^[^\n]+$","type":"string"},"$comment":"unique globally; if not set: use name"},"___name":{"$eref":{"pattern":"^[^\n]+$","type":"string"},"$comment":"unique in manufacturer"},"___matrix":{"$eref":{"oneOf":[{"required":["pixelCount"]},{"required":["pixelKeys"]}],"$schema":"http:\/\/json-schema.org\/draft-07\/schema#","additionalProperties":false,"$comment":"This file is used by another schema file and should not be used directly as a JSON schema.","type":"object","definitions":{"_88pixelNumberConstraintArray":{"minItems":1,"uniqueItems":true,"type":"array","items":{"$ref":"#\/definitions\/pixelNumberConstraint"}},"_88pixelNumberConstraint":{"oneOf":[{"pattern":"^=[1-9][0-9]*$","$comment":"exact position"},{"pattern":"^>=[1-9][0-9]*$","$comment":"minimum position"},{"pattern":"^<=[1-9][0-9]*$","$comment":"maximum position"},{"pattern":"^[1-9][0-9]*n$","$comment":"position divisible by number"},{"pattern":"^[1-9][0-9]*n\\+[1-9][0-9]*$","$comment":"position divisible by number with remainder"},{"const":"even"},{"const":"odd"}],"type":"string"}},"properties":{"___pixelCount":{"minItems":3,"maxItems":3,"$comment":"amount of pixels in X, Y and Z directions","type":"array","items":{"type":"integer","minimum":1}},"___pixelKeys":{"minItems":1,"$comment":"pixelKeys in a structure of arrays for the Z, Y and X directions","type":"array","items":{"minItems":1,"type":"array","items":{"minItems":1,"type":"array","items":{"oneOf":[{"$ref":"definitions.json#\/noVariablesString"},{"type":"null"}]}}}},"___pixelGroups":{"propertyNames":{"$comment":"pixel group keys","$ref":"definitions.json#\/noVariablesString"},"additionalProperties":{"oneOf":[{"minItems":1,"uniqueItems":true,"$comment":"specify pixel keys directly","type":"array","items":{"$ref":"definitions.json#\/noVariablesString"}},{"const":"all"},{"$comment":"pixel key constraints","type":"object","properties":{"___name":{"minItems":1,"uniqueItems":true,"type":"array","items":{"minLength":1,"format":"regex","$comment":"pattern that pixel keys should match","type":"string"}},"___x":{"$ref":"#\/definitions\/pixelNumberConstraintArray"},"___y":{"$ref":"#\/definitions\/pixelNumberConstraintArray"},"___z":{"$ref":"#\/definitions\/pixelNumberConstraintArray"}},"minProperties":1}]},"type":"object","minProperties":1}},"$id":"https:\/\/raw.githubusercontent.com\/OpenLightingProject\/open-fixture-library\/master\/schemas\/matrix.json"}},"___helpWanted":{"$eref":{"pattern":"^[^\n]+$","type":"string"}},"___rdm":{"additionalProperties":false,"type":"object","properties":{"___modelId":{"maximum":65535,"type":"integer","minimum":0},"___softwareVersion":{"$eref":{"pattern":"^[^\n]+$","type":"string"}}},"required":["modelId"]},"___templateChannels":{"propertyNames":{"$eref":{"pattern":"\\$pixelKey","type":"string"},"$comment":"template channel keys"},"additionalProperties":{"$eref":{"allOf":[{"then":{"$comment":"defaultValue must be set and all capabilities have to set switchChannels","properties":{"___capabilities":{"items":{"required":["switchChannels"]}}},"required":["defaultValue"]},"if":{"$comment":"one capability sets switchChannels","properties":{"___capabilities":{"contains":{"required":["switchChannels"]}}},"required":["capabilities"]}},{"then":{"not":{"required":["fineChannelAliases"]},"$comment":"fineChannelAliases must not be set"},"if":{"$comment":"channel contains only one NoFunction capability","properties":{"___capability":{"properties":{"___type":{"const":"NoFunction"}}}},"required":["capability"]}}],"oneOf":[{"not":{"required":["capabilities"]},"required":["capability"]},{"not":{"required":["capability"]},"required":["capabilities"]}],"$schema":"http:\/\/json-schema.org\/draft-07\/schema#","additionalProperties":false,"$comment":"This file is used by another schema file and should not be used directly as a JSON schema.","type":"object","properties":{"___name":{"$comment":"if not set: use channel key","$ref":"definitions.json#\/nonEmptyString"},"___fineChannelAliases":{"minItems":1,"uniqueItems":true,"type":"array","items":{"oneOf":[{"$ref":"definitions.json#\/noVariablesString"},{"$comment":"only in template channels","$ref":"definitions.json#\/variablePixelKeyString"}]}},"___capability":{"allOf":[{"$ref":"capability.json#"}],"not":{"anyOf":[{"required":["dmxRange"]},{"required":["switchChannels"]}]}},"___precedence":{"enum":["LTP","HTP"]},"___highlightValue":{"oneOf":[{"$ref":"definitions.json#\/units\/dmxValue"},{"$ref":"definitions.json#\/units\/dmxValuePercent"}]},"___capabilities":{"minItems":2,"uniqueItems":true,"type":"array","items":{"allOf":[{"$ref":"capability.json#"}],"required":["dmxRange"]}},"___dmxValueResolution":{"enum":["8bit","16bit","24bit"]},"___defaultValue":{"oneOf":[{"$ref":"definitions.json#\/units\/dmxValue"},{"$ref":"definitions.json#\/units\/dmxValuePercent"}]},"___constant":{"type":"boolean"}},"$id":"https:\/\/raw.githubusercontent.com\/OpenLightingProject\/open-fixture-library\/master\/schemas\/channel.json","dependencies":{"dmxValueResolution":["fineChannelAliases"]}}},"type":"object","minProperties":1},"___comment":{"$eref":{"minLength":1,"type":"string"}},"___meta":{"additionalProperties":false,"type":"object","properties":{"___authors":{"minItems":1,"uniqueItems":true,"type":"array","items":{"$eref":{"pattern":"^[^\n]+$","type":"string"}}},"___createDate":{"$eref":{"pattern":"^[0-9]{4}-[0-9]{2}-[0-9]{2}$","format":"date","type":"string"}},"___lastModifyDate":{"$eref":{"pattern":"^[0-9]{4}-[0-9]{2}-[0-9]{2}$","format":"date","type":"string"}},"___importPlugin":{"additionalProperties":false,"type":"object","properties":{"___date":{"$eref":{"pattern":"^[0-9]{4}-[0-9]{2}-[0-9]{2}$","format":"date","type":"string"}},"___comment":{"$eref":{"minLength":1,"type":"string"}},"___plugin":{"$eref":{"pattern":"^[^\n]+$","type":"string"}}},"required":["plugin","date"]}},"required":["authors","createDate","lastModifyDate"]}},"required":["$schema","name","categories","meta","modes"],"$id":"https:\/\/raw.githubusercontent.com\/OpenLightingProject\/open-fixture-library\/master\/schemas\/fixture.json","dependencies":{"templateChannels":["matrix"],"matrix":["templateChannels"]}}