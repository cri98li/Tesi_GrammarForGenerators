{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"https:\/\/github.com\/ibm-watson-iot\/blockchain-samples\/contracts\/platform\/iotcontractminimalsample\/minimal.json","definitions":{"_88API":{"readAllAssetsSurgicalKit":{"description":"Returns the state of all surgicalkits, supports filters","type":"object","properties":{"___function":{"type":"string","enum":["readAllAssetsSurgicalKit"]},"___args":{"minItems":0,"maxItems":1,"type":"array","items":{"type":"object","properties":{"___filter":{"$fref":"#\/definitions\/Model\/stateFilter"}}}},"___method":"query","___result":{"$eref":{"minItems":0,"description":"Array of surgicalkit states, can mix asset classes","type":"array","items":{"$ref":"#\/definitions\/Model\/surgicalkitstateexternal"}}}}},"deleteAssetSurgicalKit":{"description":"Delete a surgicalkit from world state, transactions remain on the blockchain","type":"object","properties":{"___function":{"type":"string","enum":["deleteAssetSurgicalKit"]},"___args":{"minItems":1,"maxItems":1,"type":"array","items":{"type":"object","properties":{"___$ref":"#\/definitions\/Model\/surgicalkitKey"}}},"___method":"invoke"}},"deletePropertiesFromAssetSurgicalKit":{"description":"Delete one or more properties from a surgicalkit's state, an example being temperature, which is only relevant for sensitive (as in frozen) shipments","type":"object","properties":{"___function":{"type":"string","enum":["deletePropertiesFromAssetSurgicalKit"]},"___args":{"minItems":1,"maxItems":1,"type":"array","items":{"type":"object","properties":{"___qprops":{"description":"Qualified property names, e.g. surgicalkit.skitID","type":"array","items":{"type":"string"}},"___$ref":"#\/definitions\/Model\/surgicalkitKey"}}},"___method":"invoke"}},"deleteAllAssetsSurgicalKit":{"description":"Delete all surgicalkits from world state, supports filters","type":"object","properties":{"___function":{"type":"string","enum":["deleteAllAssetsSurgicalKit"]},"___args":{"minItems":0,"maxItems":1,"type":"array","items":{"type":"object","properties":{"___filter":{"$fref":"#\/definitions\/Model\/stateFilter"}}}},"___method":"invoke"}},"readAssetSurgicalKit":{"description":"Returns the state a surgicalkit","type":"object","properties":{"___function":{"type":"string","enum":["readAssetSurgicalKit"]},"___args":{"minItems":1,"maxItems":1,"type":"array","items":{"type":"object","properties":{"___$ref":"#\/definitions\/Model\/surgicalkitKey"}}},"___method":"query","___result":{"$eref":{"description":"A surgicalkit's complete state","type":"object","properties":{"___txnid":{"description":"Transaction UUID matching the blockchain","type":"string"},"___AssetKey":{"description":"This surgicalkit's world state surgicalkit ID","type":"string"},"___compliant":{"description":"This surgicalkit has no active alerts","type":"boolean"},"___state":{"description":"Properties that have been received or calculated for this surgicalkit","type":"object","properties":{"___distanceFromCenter":{"description":"calculated distance from the fence center, can be compared to fence radius","type":"number"},"___surgicalkit":{"$ref":"#\/definitions\/Model\/surgicalkit"}}},"___class":{"$ref":"#\/definitions\/Model\/assetClass"},"___alerts":{"$ref":"#\/definitions\/Model\/alertNameArray"},"___eventin":{"description":"The contract event that created this state, for example updateAssetSurgicalKit","type":"object","properties":{"___surgicalkit":{"$ref":"#\/definitions\/Model\/surgicalkit"}}},"___eventout":{"description":"The chaincode event emitted on invoke exit, if any","type":"object","properties":{"___surgicalkit":{"$ref":"#\/definitions\/Model\/invokeevent"}}},"___txnts":{"description":"Transaction timestamp matching the blockchain","type":"string"}}}}}},"$fref":"github.com\/ibm-watson-iot\/blockchain-samples\/contracts\/platform\/iotcontractplatform\/schema\/IOTCPschema.json\/#definitions\/API","readAssetStateHistorySurgicalKit":{"description":"Returns history states for a surgicalkit","type":"object","properties":{"___function":{"type":"string","enum":["readAssetStateHistorySurgicalKit"]},"___args":{"minItems":1,"maxItems":1,"type":"array","items":{"type":"object","properties":{"___$ref":"#\/definitions\/Model\/surgicalkitKey","___daterange":{"$fref":"#\/definitions\/Model\/dateRange"},"___filter":{"$fref":"#\/definitions\/Model\/stateFilter"}},"required":["surgicalkit"]}},"___method":"query","___result":{"$eref":{"minItems":0,"description":"Array of surgicalkit states, can mix asset classes","type":"array","items":{"$ref":"#\/definitions\/Model\/surgicalkitstateexternal"}}}}},"replaceAssetSurgicalKit":{"description":"Replaces a surgicalkit's state (e.g. put existing)","type":"object","properties":{"___function":{"type":"string","enum":["replaceAssetSurgicalKit"]},"___args":{"minItems":1,"maxItems":1,"type":"array","items":{"type":"object","properties":{"___surgicalkit":{"$eref":{"description":"The changeable properties for a surgicalkit, also considered its 'event' as a partial state","type":"object","properties":{"___hospital":{"$ref":"#\/definitions\/Model\/hospital"},"___status":{"$ref":"#\/definitions\/Model\/status"},"___sensors":{"$ref":"#\/definitions\/Model\/sensors"},"___common":{"$ref":"#\/definitions\/Model\/ioteventcommon"},"___skitID":{"$ref":"#\/definitions\/Model\/skitID"},"___transit":{"$ref":"#\/definitions\/Model\/transit"}},"required":["skitID"]}}}}},"___method":"invoke"}},"deleteAssetStateHistorySurgicalKit":{"description":"Delete a surgicalkit's history from world state, transactions remain on the blockchain","type":"object","properties":{"___function":{"type":"string","enum":["deleteAssetStateHistorySurgicalKit"]},"___args":{"minItems":1,"maxItems":1,"type":"array","items":{"type":"object","properties":{"___$ref":"#\/definitions\/Model\/surgicalkitKey"}}},"___method":"invoke"}},"createAssetSurgicalKit":{"description":"Creates a new surgicalkit (e.g. put new)","type":"object","properties":{"___function":{"type":"string","enum":["createAssetSurgicalKit"]},"___args":{"minItems":1,"maxItems":1,"type":"array","items":{"type":"object","properties":{"___surgicalkit":{"$eref":{"description":"The changeable properties for a surgicalkit, also considered its 'event' as a partial state","type":"object","properties":{"___hospital":{"$ref":"#\/definitions\/Model\/hospital"},"___status":{"$ref":"#\/definitions\/Model\/status"},"___sensors":{"$ref":"#\/definitions\/Model\/sensors"},"___common":{"$ref":"#\/definitions\/Model\/ioteventcommon"},"___skitID":{"$ref":"#\/definitions\/Model\/skitID"},"___transit":{"$ref":"#\/definitions\/Model\/transit"}},"required":["skitID"]}}}}},"___method":"invoke"}},"updateAssetSurgicalKit":{"description":"Update a contaner's state with one or more property changes (e.g. patch existing)","type":"object","properties":{"___function":{"type":"string","enum":["updateAssetSurgicalKit"]},"___args":{"minItems":1,"maxItems":1,"type":"array","items":{"type":"object","properties":{"___surgicalkit":{"$eref":{"description":"The changeable properties for a surgicalkit, also considered its 'event' as a partial state","type":"object","properties":{"___hospital":{"$ref":"#\/definitions\/Model\/hospital"},"___status":{"$ref":"#\/definitions\/Model\/status"},"___sensors":{"$ref":"#\/definitions\/Model\/sensors"},"___common":{"$ref":"#\/definitions\/Model\/ioteventcommon"},"___skitID":{"$ref":"#\/definitions\/Model\/skitID"},"___transit":{"$ref":"#\/definitions\/Model\/transit"}},"required":["skitID"]}}}}},"___method":"invoke"}}},"_88Model":{"surgicalkitstateexternal":{"patternProperties":{"___^CON":{"$eref":{"description":"A surgicalkit's complete state","type":"object","properties":{"___txnid":{"description":"Transaction UUID matching the blockchain","type":"string"},"___AssetKey":{"description":"This surgicalkit's world state surgicalkit ID","type":"string"},"___compliant":{"description":"This surgicalkit has no active alerts","type":"boolean"},"___state":{"description":"Properties that have been received or calculated for this surgicalkit","type":"object","properties":{"___distanceFromCenter":{"description":"calculated distance from the fence center, can be compared to fence radius","type":"number"},"___surgicalkit":{"$ref":"#\/definitions\/Model\/surgicalkit"}}},"___class":{"$ref":"#\/definitions\/Model\/assetClass"},"___alerts":{"$ref":"#\/definitions\/Model\/alertNameArray"},"___eventin":{"description":"The contract event that created this state, for example updateAssetSurgicalKit","type":"object","properties":{"___surgicalkit":{"$ref":"#\/definitions\/Model\/surgicalkit"}}},"___eventout":{"description":"The chaincode event emitted on invoke exit, if any","type":"object","properties":{"___surgicalkit":{"$ref":"#\/definitions\/Model\/invokeevent"}}},"___txnts":{"description":"Transaction timestamp matching the blockchain","type":"string"}}},"description":"The external state of one surgicalkit asset, named by its world state ID","type":"object"}},"type":"object"},"sensors":{"description":"sensor readings for the surgical kit","type":"object","properties":{"___maxtilt":{"description":"The highest (in degrees from horizontal) tilt that the kit experienced during the sample","type":"number"},"___maxgforce":{"description":"The highest (in Gs) force that the kit experienced during the sample","type":"number"},"___currtilt":{"description":"The current tilt that the kit is experiencing","type":"number"},"___begin":{"format":"date-time","description":"timestamp formatted yyyy-mm-dd hh:mm:ss","type":"string","sample":"yyyy-mm-dd hh:mm:ss"},"___endlocation":{"$fref":"#\/definitions\/Model\/geo"},"___startlocation":{"$fref":"#\/definitions\/Model\/geo"},"___end":{"format":"date-time","description":"timestamp formatted yyyy-mm-dd hh:mm:ss","type":"string","sample":"yyyy-mm-dd hh:mm:ss"}}},"surgicalkitstate":{"description":"A surgicalkit's complete state","type":"object","properties":{"___txnid":{"description":"Transaction UUID matching the blockchain","type":"string"},"___AssetKey":{"description":"This surgicalkit's world state surgicalkit ID","type":"string"},"___compliant":{"description":"This surgicalkit has no active alerts","type":"boolean"},"___state":{"description":"Properties that have been received or calculated for this surgicalkit","type":"object","properties":{"___distanceFromCenter":{"description":"calculated distance from the fence center, can be compared to fence radius","type":"number"},"___surgicalkit":{"$eref":{"description":"The changeable properties for a surgicalkit, also considered its 'event' as a partial state","type":"object","properties":{"___hospital":{"$ref":"#\/definitions\/Model\/hospital"},"___status":{"$ref":"#\/definitions\/Model\/status"},"___sensors":{"$ref":"#\/definitions\/Model\/sensors"},"___common":{"$ref":"#\/definitions\/Model\/ioteventcommon"},"___skitID":{"$ref":"#\/definitions\/Model\/skitID"},"___transit":{"$ref":"#\/definitions\/Model\/transit"}},"required":["skitID"]}}}},"___class":{"$fref":"#\/definitions\/Model\/assetClass"},"___alerts":{"$fref":"#\/definitions\/Model\/alertNameArray"},"___eventin":{"description":"The contract event that created this state, for example updateAssetSurgicalKit","type":"object","properties":{"___surgicalkit":{"$eref":{"description":"The changeable properties for a surgicalkit, also considered its 'event' as a partial state","type":"object","properties":{"___hospital":{"$ref":"#\/definitions\/Model\/hospital"},"___status":{"$ref":"#\/definitions\/Model\/status"},"___sensors":{"$ref":"#\/definitions\/Model\/sensors"},"___common":{"$ref":"#\/definitions\/Model\/ioteventcommon"},"___skitID":{"$ref":"#\/definitions\/Model\/skitID"},"___transit":{"$ref":"#\/definitions\/Model\/transit"}},"required":["skitID"]}}}},"___eventout":{"description":"The chaincode event emitted on invoke exit, if any","type":"object","properties":{"___surgicalkit":{"$fref":"#\/definitions\/Model\/invokeevent"}}},"___txnts":{"description":"Transaction timestamp matching the blockchain","type":"string"}}},"surgicalkitKey":{"surgicalkit":{"type":"object","properties":{"___skitID":{"$eref":{"description":"A surgicalkit's ID","type":"string"}}}}},"transit":{"description":"shipping data during transit periods","type":"object","properties":{"___endtransit":{"format":"date-time","description":"timestamp formatted yyyy-mm-dd hh:mm:ss","type":"string","sample":"yyyy-mm-dd hh:mm:ss"},"___begintransit":{"format":"date-time","description":"timestamp formatted yyyy-mm-dd hh:mm:ss","type":"string","sample":"yyyy-mm-dd hh:mm:ss"},"___shipper":{"$eref":{"description":"current kit status as a named entity in possession of the kit","type":"string","enum":["","oem","warehouse","dealer","retailer","hospital","scrapped"]}},"___carrier":{"type":"string"},"___receiver":{"$eref":{"description":"current kit status as a named entity in possession of the kit","type":"string","enum":["","oem","warehouse","dealer","retailer","hospital","scrapped"]}}}},"surgicalkitstatearray":{"minItems":0,"description":"Array of surgicalkit states, can mix asset classes","type":"array","items":{"$eref":{"patternProperties":{"___^CON":{"description":"The external state of one surgicalkit asset, named by its world state ID","type":"object","$ref":"#\/definitions\/Model\/surgicalkitstate"}},"type":"object"}}},"$fref":"github.com\/ibm-watson-iot\/blockchain-samples\/contracts\/platform\/iotcontractplatform\/schema\/IOTCPschema.json\/#definitions\/Model","hospital":{"description":"the hospital within which the surgical kit is used, and within which it is geofenced","type":"object","properties":{"___name":{"type":"string"},"___address":{"type":"object","properties":{"___postcode":{"type":"string"},"___country":{"type":"string"},"___streetandnumber":{"type":"string"},"___city":{"type":"string"}}},"___fence":{"type":"object","properties":{"___radius":{"type":"number"},"___center":{"$fref":"#\/definitions\/Model\/geo"}}}}},"skitID":{"description":"A surgicalkit's ID","type":"string"},"surgicalkit":{"description":"The changeable properties for a surgicalkit, also considered its 'event' as a partial state","type":"object","properties":{"___hospital":{"$eref":{"description":"the hospital within which the surgical kit is used, and within which it is geofenced","type":"object","properties":{"___name":{"type":"string"},"___address":{"type":"object","properties":{"___postcode":{"type":"string"},"___country":{"type":"string"},"___streetandnumber":{"type":"string"},"___city":{"type":"string"}}},"___fence":{"type":"object","properties":{"___radius":{"type":"number"},"___center":{"$ref":"#\/definitions\/Model\/geo"}}}}}},"___status":{"$eref":{"description":"current kit status as a named entity in possession of the kit","type":"string","enum":["","oem","warehouse","dealer","retailer","hospital","scrapped"]}},"___sensors":{"$eref":{"description":"sensor readings for the surgical kit","type":"object","properties":{"___maxtilt":{"description":"The highest (in degrees from horizontal) tilt that the kit experienced during the sample","type":"number"},"___maxgforce":{"description":"The highest (in Gs) force that the kit experienced during the sample","type":"number"},"___currtilt":{"description":"The current tilt that the kit is experiencing","type":"number"},"___begin":{"format":"date-time","description":"timestamp formatted yyyy-mm-dd hh:mm:ss","type":"string","sample":"yyyy-mm-dd hh:mm:ss"},"___endlocation":{"$ref":"#\/definitions\/Model\/geo"},"___startlocation":{"$ref":"#\/definitions\/Model\/geo"},"___end":{"format":"date-time","description":"timestamp formatted yyyy-mm-dd hh:mm:ss","type":"string","sample":"yyyy-mm-dd hh:mm:ss"}}}},"___common":{"$fref":"#\/definitions\/Model\/ioteventcommon"},"___skitID":{"$eref":{"description":"A surgicalkit's ID","type":"string"}},"___transit":{"$eref":{"description":"shipping data during transit periods","type":"object","properties":{"___endtransit":{"format":"date-time","description":"timestamp formatted yyyy-mm-dd hh:mm:ss","type":"string","sample":"yyyy-mm-dd hh:mm:ss"},"___begintransit":{"format":"date-time","description":"timestamp formatted yyyy-mm-dd hh:mm:ss","type":"string","sample":"yyyy-mm-dd hh:mm:ss"},"___shipper":{"$ref":"#\/definitions\/Model\/status"},"___carrier":{"type":"string"},"___receiver":{"$ref":"#\/definitions\/Model\/status"}}}}},"required":["skitID"]},"status":{"description":"current kit status as a named entity in possession of the kit","type":"string","enum":["","oem","warehouse","dealer","retailer","hospital","scrapped"]}}}}