{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"Data captured by an agent representing an event occurring in a monitored app","anyOf":[{"required":["exception"]},{"required":["log"]}],"type":"object","properties":{"___timestamp":{"format":"date-time","pattern":"Z$","description":"Recorded time of the error, UTC based and formatted as YYYY-MM-DDTHH:mm:ss.sssZ","type":"string"},"___culprit":{"description":"Function call which was the primary perpetrator of this event.","type":["string","null"]},"___log":{"type":["object","null"],"properties":{"___logger_name":{"default":"default","description":"The name of the logger which created the record.","type":["string","null"],"maxLength":1024},"___param_message":{"description":"A parametrized message. E.g. Could not connect to %s. The property message is still required, and should be equal to the param_message, but with placeholders replaced. In some situations the param_message is used to group errors together. The string is not interpreted, so feel free to use whichever placeholders makes sense in the client languange.","type":["string","null"],"maxLength":1024},"___message":{"description":"The exception's error message.","type":"string"},"___level":{"default":"error","description":"The record severity.","type":["string","null"],"enum":["debug","info","warning","error","fatal",null],"maxLength":1024},"___stacktrace":{"minItems":0,"type":["array","null"],"items":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"A stacktrace frame, contains various bits (most optional) describing the context of the frame","title":"Stacktrace","type":"object","properties":{"___colno":{"description":"Column number","type":["number","null"]},"___abs_path":{"description":"The absolute path of the file involved in the stack frame","type":["string","null"]},"___function":{"description":"The function involved in the stack frame","type":["string","null"]},"___vars":{"description":"Local variables for this stack frame","type":["object","null"],"properties":{}},"___pre_context":{"minItems":0,"description":"The lines of code before the stack frame","type":["array","null"]},"___context_line":{"description":"The line of code part of the stack frame","type":["string","null"]},"___in_app":{"type":["boolean","null"]},"___module":{"description":"The module to which frame belongs to","type":["string","null"]},"___post_context":{"minItems":0,"description":"The lines of code after the stack frame","type":["array","null"]},"___filename":{"description":"The relative filename of the code involved in the stack frame, used e.g. to do error checksumming","type":"string"},"___lineno":{"description":"The line number of code part of the stack frame, used e.g. to do error checksumming","type":"number"}},"required":["filename","lineno"],"$id":"docs\/spec\/stacktrace.json"}}}},"required":["message"]},"___exception":{"description":"A standard exception.","type":["object","null"],"properties":{"___attributes":{"type":["object","null"]},"___type":{"type":["string","null"],"maxLength":1024},"___message":{"description":"The exception's error message.","type":"string"},"___code":{"type":["string","number","null"],"maxLength":1024},"___module":{"description":"Describes the exception type's module namespace.","type":["string","null"],"maxLength":1024},"___uncaught":{"type":["boolean","null"]},"___stacktrace":{"minItems":0,"type":["array","null"],"items":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"A stacktrace frame, contains various bits (most optional) describing the context of the frame","title":"Stacktrace","type":"object","properties":{"___colno":{"description":"Column number","type":["number","null"]},"___abs_path":{"description":"The absolute path of the file involved in the stack frame","type":["string","null"]},"___function":{"description":"The function involved in the stack frame","type":["string","null"]},"___vars":{"description":"Local variables for this stack frame","type":["object","null"],"properties":{}},"___pre_context":{"minItems":0,"description":"The lines of code before the stack frame","type":["array","null"]},"___context_line":{"description":"The line of code part of the stack frame","type":["string","null"]},"___in_app":{"type":["boolean","null"]},"___module":{"description":"The module to which frame belongs to","type":["string","null"]},"___post_context":{"minItems":0,"description":"The lines of code after the stack frame","type":["array","null"]},"___filename":{"description":"The relative filename of the code involved in the stack frame, used e.g. to do error checksumming","type":"string"},"___lineno":{"description":"The line number of code part of the stack frame, used e.g. to do error checksumming","type":"number"}},"required":["filename","lineno"],"$id":"docs\/spec\/stacktrace.json"}}}},"required":["message"]},"___context":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"Any arbitrary contextual information regarding the event, captured by the agent, optionally provided by the user","title":"Context","type":["object","null"],"properties":{"___request":{"$ref":"request.json"},"___user":{"$ref":"user.json"},"___tags":{"patternProperties":{"___^[^.*\"]*$":{"type":"string","maxLength":1024}},"additionalProperties":false,"type":["object","null"],"regexProperties":true},"___response":{"type":["object","null"],"properties":{"___status_code":{"type":["number","null"]},"___headers_sent":{"type":["boolean","null"]},"___headers":{"type":["object","null"],"properties":{"___content-type":{"type":["string","null"]}}},"___finished":{"type":["boolean","null"]}}},"___custom":{"patternProperties":{"___^[^.*\"]*$":{}},"description":"An arbitrary mapping of additional metadata to store with the event.","additionalProperties":false,"regexProperties":true,"type":["object","null"]}},"$id":"doc\/spec\/context.json"}},"___id":{"pattern":"^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$","description":"UUID for the error","type":["string","null"]}},"required":["timestamp"],"$id":"docs\/spec\/errors\/error.json"}