{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","limited":false,"configFile":{"path":"\/etc\/wb-rules\/alarms.conf","service":"wb-rules"},"strictProps":false,"description":"Lists alarms","title":"Alarm Configuration","type":"object","definitions":{"_88minMaxValueAlarm":{"allOf":[{"$eref":{"type":"object","properties":{"___noAlarmDelayMs":{"default":0,"propertyOrder":8,"description":"If set, the alarm condition must be met for the specified time interval (in ms) for the alarm to be cleared","title":"Alarm Deactivation Delay","type":"integer","minimum":0},"___alarmMessage":{"propertyOrder":3,"description":"{} will be replaced by target cell value","type":"string","title":"Alarm activation message"},"___name":{"propertyOrder":1,"minLength":1,"type":"string","title":"Alarm name"},"___maxCount":{"propertyOrder":6,"description":"Maximum number of messages to send while the alarm is active","type":"integer","title":"Maximum number of messages"},"___interval":{"propertyOrder":5,"description":"If specified, alarm messages will be repeated while the alarm is active","type":"integer","title":"Alarm interval in seconds"},"___alarmDelayMs":{"default":0,"propertyOrder":7,"description":"If set, the alarm condition must be violated for the specified time interval (in ms) for the alarm to be triggered","title":"Alarm Activation Delay","type":"integer","minimum":0},"___cell":{"propertyOrder":2,"minLength":3,"pattern":"^[^\/+#]+\/[^\/+#]+$","description":"Use the following format: device\/control","title":"Cell","type":"string"},"___noAlarmMessage":{"propertyOrder":4,"description":"{} will be replaced by target cell value","type":"string","title":"Alarm deactivation message"}}}},{"properties":{"___maxValue":{"propertyOrder":11,"$eref":{"description":"Alarm activates when cell value is greater than the maximum value","type":"number","title":"Maximum value"}},"___minValue":{"propertyOrder":10,"$eref":{"description":"Alarm activates when cell value is less than the minimum value","type":"number","title":"Minimum value"}}},"required":["name","cell","minValue","maxValue"]}],"defaultProperties":["name","cell","alarmMessage","noAlarmMessage","minValue","maxValue"],"title":"Minimum&Maximum Value Alarm"},"_88minValueAlarm":{"allOf":[{"$eref":{"type":"object","properties":{"___noAlarmDelayMs":{"default":0,"propertyOrder":8,"description":"If set, the alarm condition must be met for the specified time interval (in ms) for the alarm to be cleared","title":"Alarm Deactivation Delay","type":"integer","minimum":0},"___alarmMessage":{"propertyOrder":3,"description":"{} will be replaced by target cell value","type":"string","title":"Alarm activation message"},"___name":{"propertyOrder":1,"minLength":1,"type":"string","title":"Alarm name"},"___maxCount":{"propertyOrder":6,"description":"Maximum number of messages to send while the alarm is active","type":"integer","title":"Maximum number of messages"},"___interval":{"propertyOrder":5,"description":"If specified, alarm messages will be repeated while the alarm is active","type":"integer","title":"Alarm interval in seconds"},"___alarmDelayMs":{"default":0,"propertyOrder":7,"description":"If set, the alarm condition must be violated for the specified time interval (in ms) for the alarm to be triggered","title":"Alarm Activation Delay","type":"integer","minimum":0},"___cell":{"propertyOrder":2,"minLength":3,"pattern":"^[^\/+#]+\/[^\/+#]+$","description":"Use the following format: device\/control","title":"Cell","type":"string"},"___noAlarmMessage":{"propertyOrder":4,"description":"{} will be replaced by target cell value","type":"string","title":"Alarm deactivation message"}}}},{"properties":{"___minValue":{"propertyOrder":10,"$eref":{"description":"Alarm activates when cell value is less than the minimum value","type":"number","title":"Minimum value"}}},"required":["name","cell","minValue"]},{"not":{"required":["maxValue"]}}],"defaultProperties":["name","cell","alarmMessage","noAlarmMessage","alarmDelayMs","minValue"],"title":"Minimum Value Alarm"},"_88alarmBase":{"type":"object","properties":{"___noAlarmDelayMs":{"default":0,"propertyOrder":8,"description":"If set, the alarm condition must be met for the specified time interval (in ms) for the alarm to be cleared","title":"Alarm Deactivation Delay","type":"integer","minimum":0},"___alarmMessage":{"propertyOrder":3,"description":"{} will be replaced by target cell value","type":"string","title":"Alarm activation message"},"___name":{"propertyOrder":1,"minLength":1,"type":"string","title":"Alarm name"},"___maxCount":{"propertyOrder":6,"description":"Maximum number of messages to send while the alarm is active","type":"integer","title":"Maximum number of messages"},"___interval":{"propertyOrder":5,"description":"If specified, alarm messages will be repeated while the alarm is active","type":"integer","title":"Alarm interval in seconds"},"___alarmDelayMs":{"default":0,"propertyOrder":7,"description":"If set, the alarm condition must be violated for the specified time interval (in ms) for the alarm to be triggered","title":"Alarm Activation Delay","type":"integer","minimum":0},"___cell":{"propertyOrder":2,"minLength":3,"pattern":"^[^\/+#]+\/[^\/+#]+$","description":"Use the following format: device\/control","title":"Cell","type":"string"},"___noAlarmMessage":{"propertyOrder":4,"description":"{} will be replaced by target cell value","type":"string","title":"Alarm deactivation message"}}},"_88expectedValueAlarm":{"allOf":[{"$eref":{"type":"object","properties":{"___noAlarmDelayMs":{"default":0,"propertyOrder":8,"description":"If set, the alarm condition must be met for the specified time interval (in ms) for the alarm to be cleared","title":"Alarm Deactivation Delay","type":"integer","minimum":0},"___alarmMessage":{"propertyOrder":3,"description":"{} will be replaced by target cell value","type":"string","title":"Alarm activation message"},"___name":{"propertyOrder":1,"minLength":1,"type":"string","title":"Alarm name"},"___maxCount":{"propertyOrder":6,"description":"Maximum number of messages to send while the alarm is active","type":"integer","title":"Maximum number of messages"},"___interval":{"propertyOrder":5,"description":"If specified, alarm messages will be repeated while the alarm is active","type":"integer","title":"Alarm interval in seconds"},"___alarmDelayMs":{"default":0,"propertyOrder":7,"description":"If set, the alarm condition must be violated for the specified time interval (in ms) for the alarm to be triggered","title":"Alarm Activation Delay","type":"integer","minimum":0},"___cell":{"propertyOrder":2,"minLength":3,"pattern":"^[^\/+#]+\/[^\/+#]+$","description":"Use the following format: device\/control","title":"Cell","type":"string"},"___noAlarmMessage":{"propertyOrder":4,"description":"{} will be replaced by target cell value","type":"string","title":"Alarm deactivation message"}}}},{"properties":{"___expectedValue":{"description":"Alarm activates when cell value differs from the expected value","title":"Expected value"}},"required":["name","cell","expectedValue"]}],"defaultProperties":["name","cell","alarmMessage","noAlarmMessage","alarmDelayMs","expectedValue"],"title":"Expected Value Alarm"},"_88maxValueAlarm":{"allOf":[{"$eref":{"type":"object","properties":{"___noAlarmDelayMs":{"default":0,"propertyOrder":8,"description":"If set, the alarm condition must be met for the specified time interval (in ms) for the alarm to be cleared","title":"Alarm Deactivation Delay","type":"integer","minimum":0},"___alarmMessage":{"propertyOrder":3,"description":"{} will be replaced by target cell value","type":"string","title":"Alarm activation message"},"___name":{"propertyOrder":1,"minLength":1,"type":"string","title":"Alarm name"},"___maxCount":{"propertyOrder":6,"description":"Maximum number of messages to send while the alarm is active","type":"integer","title":"Maximum number of messages"},"___interval":{"propertyOrder":5,"description":"If specified, alarm messages will be repeated while the alarm is active","type":"integer","title":"Alarm interval in seconds"},"___alarmDelayMs":{"default":0,"propertyOrder":7,"description":"If set, the alarm condition must be violated for the specified time interval (in ms) for the alarm to be triggered","title":"Alarm Activation Delay","type":"integer","minimum":0},"___cell":{"propertyOrder":2,"minLength":3,"pattern":"^[^\/+#]+\/[^\/+#]+$","description":"Use the following format: device\/control","title":"Cell","type":"string"},"___noAlarmMessage":{"propertyOrder":4,"description":"{} will be replaced by target cell value","type":"string","title":"Alarm deactivation message"}}}},{"properties":{"___maxValue":{"propertyOrder":10,"$eref":{"description":"Alarm activates when cell value is greater than the maximum value","type":"number","title":"Maximum value"}}},"required":["name","cell","maxValue"]},{"not":{"required":["minValue"]}}],"defaultProperties":["name","cell","alarmMessage","noAlarmMessage","alarmDelayMs","maxValue"],"title":"Maximum Value Alarm"},"_88alarm":{"oneOf":[{"$eref":{"allOf":[{"$ref":"#\/definitions\/alarmBase"},{"properties":{"___expectedValue":{"description":"Alarm activates when cell value differs from the expected value","title":"Expected value"}},"required":["name","cell","expectedValue"]}],"defaultProperties":["name","cell","alarmMessage","noAlarmMessage","alarmDelayMs","expectedValue"],"title":"Expected Value Alarm"}},{"$eref":{"allOf":[{"$ref":"#\/definitions\/alarmBase"},{"properties":{"___minValue":{"propertyOrder":10,"$ref":"#\/definitions\/minValue"}},"required":["name","cell","minValue"]},{"not":{"required":["maxValue"]}}],"defaultProperties":["name","cell","alarmMessage","noAlarmMessage","alarmDelayMs","minValue"],"title":"Minimum Value Alarm"}},{"$eref":{"allOf":[{"$ref":"#\/definitions\/alarmBase"},{"properties":{"___maxValue":{"propertyOrder":10,"$ref":"#\/definitions\/maxValue"}},"required":["name","cell","maxValue"]},{"not":{"required":["minValue"]}}],"defaultProperties":["name","cell","alarmMessage","noAlarmMessage","alarmDelayMs","maxValue"],"title":"Maximum Value Alarm"}},{"$eref":{"allOf":[{"$ref":"#\/definitions\/alarmBase"},{"properties":{"___maxValue":{"propertyOrder":11,"$ref":"#\/definitions\/maxValue"},"___minValue":{"propertyOrder":10,"$ref":"#\/definitions\/minValue"}},"required":["name","cell","minValue","maxValue"]}],"defaultProperties":["name","cell","alarmMessage","noAlarmMessage","minValue","maxValue"],"title":"Minimum&Maximum Value Alarm"}}],"options":{"remove_empty_properties":true,"disable_collapse":true},"headerTemplate":"Alarm{{: |self.name}}"},"_88smsRecipient":{"title":"SMS recipient","type":"object","properties":{"___type":{"default":"sms","propertyOrder":1,"options":{"hidden":true},"title":"Type","type":"string","enum":["sms"]},"___command":{"propertyOrder":3,"type":"string","title":"Command"},"___to":{"propertyOrder":2,"minLength":1,"type":"string","title":"Phone number"}},"required":["type","to"]},"_88minValue":{"description":"Alarm activates when cell value is less than the minimum value","type":"number","title":"Minimum value"},"_88emailRecipient":{"title":"E-mail recipient","type":"object","properties":{"___type":{"default":"email","propertyOrder":1,"options":{"hidden":true},"title":"Type","type":"string","enum":["email"]},"___to":{"propertyOrder":2,"minLength":1,"type":"string","title":"E-mail address"},"___subject":{"propertyOrder":3,"description":"{} will be replaced with alarm message text","type":"string","title":"Subject"}},"required":["type","to"]},"_88maxValue":{"description":"Alarm activates when cell value is greater than the maximum value","type":"number","title":"Maximum value"},"_88recipient":{"oneOf":[{"$eref":{"title":"E-mail recipient","type":"object","properties":{"___type":{"default":"email","propertyOrder":1,"options":{"hidden":true},"title":"Type","type":"string","enum":["email"]},"___to":{"propertyOrder":2,"minLength":1,"type":"string","title":"E-mail address"},"___subject":{"propertyOrder":3,"description":"{} will be replaced with alarm message text","type":"string","title":"Subject"}},"required":["type","to"]}},{"$eref":{"title":"SMS recipient","type":"object","properties":{"___type":{"default":"sms","propertyOrder":1,"options":{"hidden":true},"title":"Type","type":"string","enum":["sms"]},"___command":{"propertyOrder":3,"type":"string","title":"Command"},"___to":{"propertyOrder":2,"minLength":1,"type":"string","title":"Phone number"}},"required":["type","to"]}}],"options":{"disable_collapse":true},"title":"Recipient"}},"properties":{"___deviceTitle":{"propertyOrder":2,"type":"string","title":"Alarm device title"},"___deviceName":{"propertyOrder":1,"minLength":1,"pattern":"^[^\\s\/]+$","description":"Device name to be used in MQTT topics for logging & alarm cells","title":"Alarm device name","type":"string"},"___alarms":{"propertyOrder":4,"options":{"disable_array_reorder":true,"disable_collapse":true},"title":"Alarms","type":"array","items":{"$eref":{"oneOf":[{"$ref":"#\/definitions\/expectedValueAlarm"},{"$ref":"#\/definitions\/minValueAlarm"},{"$ref":"#\/definitions\/maxValueAlarm"},{"$ref":"#\/definitions\/minMaxValueAlarm"}],"options":{"remove_empty_properties":true,"disable_collapse":true},"headerTemplate":"Alarm{{: |self.name}}"}}},"___recipients":{"propertyOrder":3,"options":{"disable_array_reorder":true},"title":"Recipients","type":"array","items":{"$eref":{"oneOf":[{"$ref":"#\/definitions\/emailRecipient"},{"$ref":"#\/definitions\/smsRecipient"}],"options":{"disable_collapse":true},"title":"Recipient"}}}},"required":["deviceName","recipients","alarms"]}