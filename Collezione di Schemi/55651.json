{"$schema":"http:\/\/json-schema.org\/draft-04\/hyper-schema","description":"Risu API v1 Alpha Document","links":[{"rel":"self","href":"https:\/\/<your-risu-server>.com","title":"Risu API v1 Alpha"}],"id":"risu","type":["object"],"definitions":{"_88build":{"$schema":"http:\/\/json-schema.org\/draft-04\/hyper-schema","description":"A build represents an individual build job for docker image","links":[{"schema":{"type":["object"],"properties":{"___source_branch":{"$eref":{"default":"master","description":"git branch to use for build.","type":["string"],"required":"true,","example":"master"}},"___image_name":{"$eref":{"description":"a repository name (and optionally a tag) to apply to the resulting image in case of success.","type":["string"],"required":"true,","example":"quay.io\/wantedly\/risu:latest"}},"___cache_directories":{"$eref":{"description":"directory paths that you want to cache","type":["array"],"items":{"type":["object"]},"required":true,"example":[{"container":"\/app\/vendor\/bundle","source":"vendor\/bundle"},{"container":"\/app\/vendor\/assets","source":"vendor\/assets"}]}},"___source_repo":{"$eref":{"description":"source github repositry to build. It must includes Dockerfile","type":["string"],"required":"true,","example":"wantedly\/risu"}},"___dockerfile":{"$eref":{"default":"Dockerfile","description":"path within the build context to the Dockerfile","type":["string"],"example":"Dockerfile.dev"}}}},"method":"POST","rel":"create","description":"Create a new build.","href":"\/builds","title":"Create"},{"method":"GET","rel":"self","description":"Info for existing build.","href":"\/builds\/{(%23%2Fdefinitions%2Fbuild%2Fdefinitions%2Fidentity)}","title":"Info"},{"method":"GET","rel":"instances","description":"List existing builds.","href":"\/builds","title":"List"}],"strictProperties":true,"title":"Build","type":["object"],"definitions":{"_88updated_at":{"format":"date-time","description":"when build was updated","readOnly":true,"type":["string"]},"_88status":{"description":"status of build. one of \"failed\" or \"building\" or \"succeeded\"","readOnly":true,"type":["string"],"example":"succeeded"},"_88source_repo":{"description":"source github repositry to build. It must includes Dockerfile","type":["string"],"required":"true,","example":"wantedly\/risu"},"_88identity":{"anyOf":[{"$eref":{"format":"uuid","description":"unique identifier of build","readOnly":true,"type":["string"],"example":"01234567-89ab-cdef-0123-456789abcdef"}}]},"_88dockerfile":{"default":"Dockerfile","description":"path within the build context to the Dockerfile","type":["string"],"example":"Dockerfile.dev"},"_88cache_directories":{"description":"directory paths that you want to cache","type":["array"],"items":{"type":["object"]},"required":true,"example":[{"container":"\/app\/vendor\/bundle","source":"vendor\/bundle"},{"container":"\/app\/vendor\/assets","source":"vendor\/assets"}]},"_88source_branch":{"default":"master","description":"git branch to use for build.","type":["string"],"required":"true,","example":"master"},"_88image_name":{"description":"a repository name (and optionally a tag) to apply to the resulting image in case of success.","type":["string"],"required":"true,","example":"quay.io\/wantedly\/risu:latest"},"_88created_at":{"format":"date-time","description":"when build was created","readOnly":true,"type":["string"]},"_88id":{"format":"uuid","description":"unique identifier of build","readOnly":true,"type":["string"],"example":"01234567-89ab-cdef-0123-456789abcdef"}},"properties":{"___source_branch":{"$eref":{"default":"master","description":"git branch to use for build.","type":["string"],"required":"true,","example":"master"}},"___status":{"$eref":{"description":"status of build. one of \"failed\" or \"building\" or \"succeeded\"","readOnly":true,"type":["string"],"example":"succeeded"}},"___created_at":{"$eref":{"format":"date-time","description":"when build was created","readOnly":true,"type":["string"]}},"___image_name":{"$eref":{"description":"a repository name (and optionally a tag) to apply to the resulting image in case of success.","type":["string"],"required":"true,","example":"quay.io\/wantedly\/risu:latest"}},"___cache_directories":{"$eref":{"description":"directory paths that you want to cache","type":["array"],"items":{"type":["object"]},"required":true,"example":[{"container":"\/app\/vendor\/bundle","source":"vendor\/bundle"},{"container":"\/app\/vendor\/assets","source":"vendor\/assets"}]}},"___source_repo":{"$eref":{"description":"source github repositry to build. It must includes Dockerfile","type":["string"],"required":"true,","example":"wantedly\/risu"}},"___updated_at":{"$eref":{"format":"date-time","description":"when build was updated","readOnly":true,"type":["string"]}},"___id":{"$eref":{"format":"uuid","description":"unique identifier of build","readOnly":true,"type":["string"],"example":"01234567-89ab-cdef-0123-456789abcdef"}},"___dockerfile":{"$eref":{"default":"Dockerfile","description":"path within the build context to the Dockerfile","type":["string"],"example":"Dockerfile.dev"}}},"stability":"prototype"}},"properties":{"___build":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/hyper-schema","description":"A build represents an individual build job for docker image","links":[{"schema":{"type":["object"],"properties":{"___source_branch":{"$ref":"#\/definitions\/build\/definitions\/source_branch"},"___image_name":{"$ref":"#\/definitions\/build\/definitions\/image_name"},"___cache_directories":{"$ref":"#\/definitions\/build\/definitions\/cache_directories"},"___source_repo":{"$ref":"#\/definitions\/build\/definitions\/source_repo"},"___dockerfile":{"$ref":"#\/definitions\/build\/definitions\/dockerfile"}}},"method":"POST","rel":"create","description":"Create a new build.","href":"\/builds","title":"Create"},{"method":"GET","rel":"self","description":"Info for existing build.","href":"\/builds\/{(%23%2Fdefinitions%2Fbuild%2Fdefinitions%2Fidentity)}","title":"Info"},{"method":"GET","rel":"instances","description":"List existing builds.","href":"\/builds","title":"List"}],"strictProperties":true,"title":"Build","type":["object"],"definitions":{"_88updated_at":{"format":"date-time","description":"when build was updated","readOnly":true,"type":["string"]},"_88status":{"description":"status of build. one of \"failed\" or \"building\" or \"succeeded\"","readOnly":true,"type":["string"],"example":"succeeded"},"_88source_repo":{"description":"source github repositry to build. It must includes Dockerfile","type":["string"],"required":"true,","example":"wantedly\/risu"},"_88identity":{"anyOf":[{"$ref":"#\/definitions\/build\/definitions\/id"}]},"_88dockerfile":{"default":"Dockerfile","description":"path within the build context to the Dockerfile","type":["string"],"example":"Dockerfile.dev"},"_88cache_directories":{"description":"directory paths that you want to cache","type":["array"],"items":{"type":["object"]},"required":true,"example":[{"container":"\/app\/vendor\/bundle","source":"vendor\/bundle"},{"container":"\/app\/vendor\/assets","source":"vendor\/assets"}]},"_88source_branch":{"default":"master","description":"git branch to use for build.","type":["string"],"required":"true,","example":"master"},"_88image_name":{"description":"a repository name (and optionally a tag) to apply to the resulting image in case of success.","type":["string"],"required":"true,","example":"quay.io\/wantedly\/risu:latest"},"_88created_at":{"format":"date-time","description":"when build was created","readOnly":true,"type":["string"]},"_88id":{"format":"uuid","description":"unique identifier of build","readOnly":true,"type":["string"],"example":"01234567-89ab-cdef-0123-456789abcdef"}},"properties":{"___source_branch":{"$ref":"#\/definitions\/build\/definitions\/source_branch"},"___status":{"$ref":"#\/definitions\/build\/definitions\/status"},"___created_at":{"$ref":"#\/definitions\/build\/definitions\/created_at"},"___image_name":{"$ref":"#\/definitions\/build\/definitions\/image_name"},"___cache_directories":{"$ref":"#\/definitions\/build\/definitions\/cache_directories"},"___source_repo":{"$ref":"#\/definitions\/build\/definitions\/source_repo"},"___updated_at":{"$ref":"#\/definitions\/build\/definitions\/updated_at"},"___id":{"$ref":"#\/definitions\/build\/definitions\/id"},"___dockerfile":{"$ref":"#\/definitions\/build\/definitions\/dockerfile"}},"stability":"prototype"}}}}