{"_nested_relationships":["profile"],"_public_fields":["username"],"$schema":"http:\/\/json-schema.org\/draft-04\/schema","_auth_fields":["username","first_name","last_name","stories"],"_auth_model":true,"title":"User schema","type":"object","properties":{"___email":{"_db_settings":{"unique":true,"type":"string","required":true},"format":"email","_processors":["lowercase"],"type":"string"},"___status":{"default":"active","_db_settings":{"default":"active","type":"choice","choices":["active","inactive","blocked"]},"type":["string","null"],"enum":["active","inactive","blocked"]},"___created_at":{"_db_settings":{"default":"{{datetime.datetime.utcnow}}","type":"datetime"},"format":"date-time","type":["string","null"]},"___settings":{"_db_settings":{"type":"dict"},"type":["object","null"]},"___first_name":{"default":"","_db_settings":{"default":"","type":"string","max_length":50},"type":["string","null"],"maxLength":50},"___profile":{"_db_settings":{"document":"Profile","type":"relationship","backref_name":"user","uselist":false},"type":["integer","string"]},"___last_login":{"_db_settings":{"type":"datetime"},"format":"date-time","type":["string","null"]},"___assigned_stories":{"_db_settings":{"document":"Story","backref_ondelete":"NULLIFY","foreign_keys":"Story.assignee_id","ondelete":"NULLIFY","backref_name":"assignee","type":"relationship"},"type":["array","null"],"items":{"oneOf":[{"type":"string"},{"type":"integer"}]}},"___groups":{"default":["user"],"_db_settings":{"default":["user"],"item_type":"string","type":"list","choices":["admin","user"]},"type":["array","null"],"items":{"type":"string","enum":["admin","user"]}},"___stories":{"_db_settings":{"document":"Story","backref_ondelete":"NULLIFY","foreign_keys":"Story.owner_id","ondelete":"NULLIFY","backref_name":"owner","type":"relationship"},"type":["array","null"],"items":{"oneOf":[{"type":"string"},{"type":"integer"}]}},"___password":{"_db_settings":{"min_length":3,"type":"string","required":true},"minLength":3,"_processors":["encrypt"],"type":"string"},"___username":{"_db_settings":{"min_length":1,"unique":true,"type":"string","primary_key":true,"required":true,"max_length":50},"minLength":1,"_processors":["lowercase"],"type":"string","maxLength":50},"___updated_at":{"_db_settings":{"onupdate":"{{datetime.datetime.utcnow}}","type":"datetime"},"format":"date-time","type":["string","null"]},"___last_name":{"default":"","_db_settings":{"default":"","type":"string","max_length":50},"type":["string","null"],"maxLength":50}},"required":["username","email","password"],"_hidden_fields":["password"]}