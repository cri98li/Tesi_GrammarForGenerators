{"$schema":"http:\/\/json-schema.org\/draft-04\/hyper-schema","description":"A **PDF Manager batch** represents the asynchronous execution and eventual population of a **PDF Manager template**, resulting in **PDF Manager zip files**.","links":[{"method":"GET","rel":"self","description":"Display existing batch with download URL.","href":"\/api\/v1\/user_identities\/:user_identity_id\/pdf_manager_batches\/:pdf_manager_batch_id","title":"Show","http_header":{"x-api-key":"0123456789abcdef0123456789abcdef"}},{"targetSchema":{"properties":{"___pdf_manager_batches":{"type":"array","items":{"type":"object","properties":{"___pdf_manager_template":{"type":"object","properties":{"___name":{"type":"string","example":"Accepted Offers for Review"},"___href":{"pattern":"\/api\/v1\/user_identities\/\\d+\/pdf_manager_templates\/\\d+","type":"string","example":"\/api\/v1\/user_identities\/1\/pdf_manager_templates\/2"},"___id":{"type":"integer","example":2}},"required":["id","name","href"]},"___href":{"pattern":"\/api\/v1\/user_identities\/\\d+\/pdf_manager_batches\/\\d+","type":"string","example":"\/api\/v1\/user_identities\/1\/pdf_manager_batches\/2"},"___state":{"type":"string","enum":["initializing","queued","in_progress","available","success_with_errors","empty_list","failed"],"example":"success_with_errors"},"___updated_at":{"format":"date-time","pattern":"\\d\\d\\d\\d-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\dZ","type":"string","example":"2016-01-05T16:51:00Z"},"___id":{"type":"integer","example":2}},"required":["id","updated_at","state","pdf_manager_template"]}},"___href":{"pattern":"\/api\/v1\/user_identities\/\\d+\/pdf_manager_batches","description":"Hypertext reference to this resource.","type":"string","example":"\/api\/v1\/user_identities\/1\/pdf_manager_batches"}}},"method":"GET","rel":"instances","description":"List existing batches.  As there could potentially be a large number of `download_hrefs`, they are not displayed in this response.","href":"\/api\/v1\/user_identities\/:user_identity_id\/pdf_manager_batches","title":"List","http_header":{"x-api-key":"0123456789abcdef0123456789abcdef"}},{"schema":{"type":"object","properties":{"___pdf_manager_batch":{"type":"object","properties":{"___pdf_manager_template_id":{"description":"Unique identifier of the template.","type":"integer","example":2},"___callback":{"format":"uri","pattern":"^https:\/\/","description":"When the batch is completed, WebAdMIT will `POST` to this callback URL.  The JSON in the callback body uses the same schema as the GET request.","type":"string","example":"https:\/\/example.com\/my_callback"}},"required":["pdf_manager_template_id"]}}},"method":"POST","rel":"create","description":"Initiate the creation of a batch from a template.  If you attempt to run the same batch several times in close succession, you will receive the id of the already-running instance of that batch. This is a safeguard to prevent many accidental simultaneous runs of the exact same batch: one must finish before a new one can be initiated.","href":"\/api\/v1\/user_identities\/:user_identity_id\/pdf_manager_batches","title":"Initiate Run","http_header":{"x-api-key":"0123456789abcdef0123456789abcdef"}}],"strictProperties":true,"id":"\/schemata\/pdf_manager_batch","title":"PDF Manager Batch","type":"object","properties":{"___pdf_manager_batch":{"type":"object","properties":{"___pdf_manager_template":{"type":"object","properties":{"___name":{"description":"Human-readable name of this PDF Manager template.","type":"string","example":"Accepted Offers for Review"},"___href":{"pattern":"\/api\/v1\/user_identities\/\\d+\/pdf_manager_templates\/\\d+","description":"Hypertext reference to the template.","type":"string","example":"\/api\/v1\/user_identities\/1\/pdf_manager_templates\/2"},"___id":{"description":"Unique identifier of the template.","type":"integer","example":2}},"required":["id","name","href"]},"___href":{"pattern":"\/api\/v1\/user_identities\/\\d+\/pdf_manager_batches\/\\d+","description":"Hypertext reference to this resource.","type":"string","example":"\/api\/v1\/user_identities\/1\/pdf_manager_batches\/2"},"___state":{"description":"Current state of this batch.","type":"string","enum":["initializing","queued","in_progress","available","success_with_errors","empty_list","failed"],"example":"success_with_errors"},"___download_hrefs":{"description":"When `state` is `\"available\"` or `\"success_with_errors\"`, this is an array of hrefs that can be requested with an API key for downloading the generated PDF files.  Otherwise, this is `[]`.","comment":"FIXME: Include `items`.  See https:\/\/github.com\/interagent\/prmd\/issues\/275","type":"array","example":["\/api\/v1\/user_identities\/1\/pdf_manager_zip_files\/2\/download","\/api\/v1\/user_identities\/1\/pdf_manager_zip_files\/3\/download"]},"___updated_at":{"format":"date-time","pattern":"\\d\\d\\d\\d-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\dZ","description":"Time that this batch was last updated.","type":"string","example":"2016-01-05T16:51:00Z"},"___id":{"description":"Unique identifier of this batch.","type":"integer"}},"required":["href","id","updated_at","state","download_hrefs","pdf_manager_template"]}},"stability":"production"}