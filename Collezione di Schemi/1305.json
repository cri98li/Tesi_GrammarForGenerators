{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"Microsoft SqlVirtualMachine Resource Types","id":"https:\/\/schema.management.azure.com\/schemas\/2017-03-01-preview\/Microsoft.SqlVirtualMachine.json#","title":"Microsoft.SqlVirtualMachine","resourceDefinitions":{"sqlVirtualMachineGroups":{"description":"Microsoft.SqlVirtualMachine\/sqlVirtualMachineGroups","type":"object","properties":{"___location":{"description":"Resource location.","type":"string"},"___name":{"description":"Name of the SQL virtual machine group.","type":"string"},"___type":{"type":"string","enum":["Microsoft.SqlVirtualMachine\/sqlVirtualMachineGroups"]},"___tags":{"oneOf":[{"additionalProperties":{"type":"string"},"type":"object","properties":{}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Resource tags."},"___properties":{"oneOf":[{"$eref":{"description":"The properties of a SQL virtual machine group.","type":"object","properties":{"___wsfcDomainProfile":{"oneOf":[{"$ref":"#\/definitions\/WsfcDomainProfile"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Active Directory account details to operate Windows Server Failover Cluster."},"___sqlImageOffer":{"description":"SQL image offer. Examples may include SQL2016-WS2016, SQL2017-WS2016.","type":"string"},"___sqlImageSku":{"oneOf":[{"type":"string","enum":["Developer","Enterprise"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"SQL image sku."}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The properties of a SQL virtual machine group."},"___apiVersion":{"type":"string","enum":["2017-03-01-preview"]},"___resources":{"type":"array","items":{"oneOf":[{"$eref":{"description":"Microsoft.SqlVirtualMachine\/sqlVirtualMachineGroups\/availabilityGroupListeners","type":"object","properties":{"___name":{"description":"Name of the availability group listener.","type":"string"},"___type":{"type":"string","enum":["availabilityGroupListeners"]},"___properties":{"oneOf":[{"$ref":"#\/definitions\/AvailabilityGroupListenerProperties"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The properties of an availability group listener."},"___apiVersion":{"type":"string","enum":["2017-03-01-preview"]}},"required":["apiVersion","name","properties","type"]}}]}}},"required":["apiVersion","location","name","properties","type"]},"sqlVirtualMachines":{"description":"Microsoft.SqlVirtualMachine\/sqlVirtualMachines","type":"object","properties":{"___location":{"description":"Resource location.","type":"string"},"___name":{"description":"Name of the SQL virtual machine.","type":"string"},"___identity":{"oneOf":[{"$eref":{"description":"Azure Active Directory identity configuration for a resource.","type":"object","properties":{"___type":{"oneOf":[{"type":"string","enum":["SystemAssigned"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The identity type. Set this to 'SystemAssigned' in order to automatically create and assign an Azure Active Directory principal for the resource."}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Azure Active Directory identity configuration for a resource."},"___type":{"type":"string","enum":["Microsoft.SqlVirtualMachine\/sqlVirtualMachines"]},"___tags":{"oneOf":[{"additionalProperties":{"type":"string"},"type":"object","properties":{}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Resource tags."},"___properties":{"oneOf":[{"$eref":{"description":"The SQL virtual machine properties.","type":"object","properties":{"___wsfcDomainCredentials":{"oneOf":[{"$ref":"#\/definitions\/WsfcDomainCredentials"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Domain credentials for setting up Windows Server Failover Cluster for SQL availability group."},"___sqlVirtualMachineGroupResourceId":{"description":"ARM resource id of the SQL virtual machine group this SQL virtual machine is or will be part of.","type":"string"},"___virtualMachineResourceId":{"description":"ARM Resource id of underlying virtual machine created from SQL marketplace image.","type":"string"},"___autoPatchingSettings":{"oneOf":[{"$ref":"#\/definitions\/AutoPatchingSettings"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Set a patching window during which Windows and SQL patches will be applied."},"___storageConfigurationSettings":{"oneOf":[{"$ref":"#\/definitions\/StorageConfigurationSettings"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Storage Configurations for SQL Data, Log and TempDb."},"___sqlImageOffer":{"description":"SQL image offer. Examples include SQL2016-WS2016, SQL2017-WS2016.","type":"string"},"___sqlManagement":{"oneOf":[{"type":"string","enum":["Full","LightWeight","NoAgent"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"SQL Server Management type."},"___serverConfigurationsManagementSettings":{"oneOf":[{"$ref":"#\/definitions\/ServerConfigurationsManagementSettings"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Set the connectivity, storage and workload settings."},"___keyVaultCredentialSettings":{"oneOf":[{"$ref":"#\/definitions\/KeyVaultCredentialSettings"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Configure your SQL virtual machine to be able to connect to the Azure Key Vault service."},"___sqlServerLicenseType":{"oneOf":[{"type":"string","enum":["PAYG","AHUB","DR"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"SQL Server license type."},"___sqlImageSku":{"oneOf":[{"type":"string","enum":["Developer","Express","Standard","Enterprise","Web"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"SQL Server edition type."},"___autoBackupSettings":{"oneOf":[{"$ref":"#\/definitions\/AutoBackupSettings"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Configure backups for databases in your SQL virtual machine."}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The SQL virtual machine properties."},"___apiVersion":{"type":"string","enum":["2017-03-01-preview"]}},"required":["apiVersion","location","name","properties","type"]},"sqlVirtualMachineGroups_availabilityGroupListeners":{"description":"Microsoft.SqlVirtualMachine\/sqlVirtualMachineGroups\/availabilityGroupListeners","type":"object","properties":{"___name":{"description":"Name of the availability group listener.","type":"string"},"___type":{"type":"string","enum":["Microsoft.SqlVirtualMachine\/sqlVirtualMachineGroups\/availabilityGroupListeners"]},"___properties":{"oneOf":[{"$eref":{"description":"The properties of an availability group listener.","type":"object","properties":{"___loadBalancerConfigurations":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/LoadBalancerConfiguration"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"List of load balancer configurations for an availability group listener."},"___availabilityGroupName":{"description":"Name of the availability group.","type":"string"},"___createDefaultAvailabilityGroupIfNotExist":{"oneOf":[{"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Create a default availability group if it does not exist."},"___port":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Listener port."}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The properties of an availability group listener."},"___apiVersion":{"type":"string","enum":["2017-03-01-preview"]}},"required":["apiVersion","name","properties","type"]}},"definitions":{"_88AutoBackupSettings":{"description":"Configure backups for databases in your SQL virtual machine.","type":"object","properties":{"___fullBackupWindowHours":{"oneOf":[{"type":"integer"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Duration of the time window of a given day during which full backups can take place. 1-23 hours."},"___backupScheduleType":{"oneOf":[{"type":"string","enum":["Manual","Automated"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Backup schedule type."},"___backupSystemDbs":{"oneOf":[{"type":"boolean"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Include or exclude system databases from auto backup."},"___password":{"description":"Password for encryption on backup.","type":"string"},"___enableEncryption":{"oneOf":[{"type":"boolean"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Enable or disable encryption for backup on SQL virtual machine."},"___storageAccessKey":{"description":"Storage account key where backup will be taken to.","type":"string"},"___fullBackupStartTime":{"oneOf":[{"type":"integer"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Start time of a given day during which full backups can take place. 0-23 hours."},"___logBackupFrequency":{"oneOf":[{"type":"integer"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Frequency of log backups. 5-60 minutes."},"___fullBackupFrequency":{"oneOf":[{"type":"string","enum":["Daily","Weekly"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Frequency of full backups. In both cases, full backups begin during the next scheduled time window."},"___enable":{"oneOf":[{"type":"boolean"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Enable or disable autobackup on SQL virtual machine."},"___storageAccountUrl":{"description":"Storage account url where backup will be taken to.","type":"string"},"___retentionPeriod":{"oneOf":[{"type":"integer"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Retention period of backup: 1-30 days."}}},"_88LoadBalancerConfiguration":{"description":"A load balancer configuration for an availability group listener.","type":"object","properties":{"___privateIpAddress":{"oneOf":[{"$eref":{"description":"A private IP address bound to the availability group listener.","type":"object","properties":{"___subnetResourceId":{"description":"Subnet used to include private IP.","type":"string"},"___ipAddress":{"description":"Private IP address bound to the availability group listener.","type":"string"}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"A private IP address bound to the availability group listener."},"___sqlVirtualMachineInstances":{"oneOf":[{"type":"array","items":{"type":"string"}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"List of the SQL virtual machine instance resource id's that are enrolled into the availability group listener."},"___probePort":{"oneOf":[{"type":"integer"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Probe port."},"___publicIpAddressResourceId":{"description":"Resource id of the public IP.","type":"string"},"___loadBalancerResourceId":{"description":"Resource id of the load balancer.","type":"string"}}},"_88PrivateIPAddress":{"description":"A private IP address bound to the availability group listener.","type":"object","properties":{"___subnetResourceId":{"description":"Subnet used to include private IP.","type":"string"},"___ipAddress":{"description":"Private IP address bound to the availability group listener.","type":"string"}}},"_88SQLStorageSettings":{"description":"Set disk storage settings for SQL Server.","type":"object","properties":{"___luns":{"oneOf":[{"type":"array","items":{"type":"integer"}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Logical Unit Numbers for the disks."},"___defaultFilePath":{"description":"SQL Server default file path","type":"string"}}},"_88AdditionalFeaturesServerConfigurations":{"description":"Additional SQL Server feature settings.","type":"object","properties":{"___isRServicesEnabled":{"oneOf":[{"type":"boolean"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Enable or disable R services (SQL 2016 onwards)."}}},"_88KeyVaultCredentialSettings":{"description":"Configure your SQL virtual machine to be able to connect to the Azure Key Vault service.","type":"object","properties":{"___credentialName":{"description":"Credential name.","type":"string"},"___servicePrincipalSecret":{"description":"Service principal name secret to access key vault.","type":"string"},"___azureKeyVaultUrl":{"description":"Azure Key Vault url.","type":"string"},"___servicePrincipalName":{"description":"Service principal name to access key vault.","type":"string"},"___enable":{"oneOf":[{"type":"boolean"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Enable or disable key vault credential setting."}}},"_88AutoPatchingSettings":{"description":"Set a patching window during which Windows and SQL patches will be applied.","type":"object","properties":{"___maintenanceWindowDuration":{"oneOf":[{"type":"integer"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Duration of patching."},"___dayOfWeek":{"oneOf":[{"type":"string","enum":["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Day of week to apply the patch on."},"___maintenanceWindowStartingHour":{"oneOf":[{"type":"integer"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Hour of the day when patching is initiated. Local VM time."},"___enable":{"oneOf":[{"type":"boolean"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Enable or disable autopatching on SQL virtual machine."}}},"_88AvailabilityGroupListenerProperties":{"description":"The properties of an availability group listener.","type":"object","properties":{"___loadBalancerConfigurations":{"oneOf":[{"type":"array","items":{"$eref":{"description":"A load balancer configuration for an availability group listener.","type":"object","properties":{"___privateIpAddress":{"oneOf":[{"$ref":"#\/definitions\/PrivateIPAddress"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"A private IP address bound to the availability group listener."},"___sqlVirtualMachineInstances":{"oneOf":[{"type":"array","items":{"type":"string"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"List of the SQL virtual machine instance resource id's that are enrolled into the availability group listener."},"___probePort":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Probe port."},"___publicIpAddressResourceId":{"description":"Resource id of the public IP.","type":"string"},"___loadBalancerResourceId":{"description":"Resource id of the load balancer.","type":"string"}}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"List of load balancer configurations for an availability group listener."},"___availabilityGroupName":{"description":"Name of the availability group.","type":"string"},"___createDefaultAvailabilityGroupIfNotExist":{"oneOf":[{"type":"boolean"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Create a default availability group if it does not exist."},"___port":{"oneOf":[{"type":"integer"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Listener port."}}},"_88SqlStorageUpdateSettings":{"description":"Set disk storage settings for SQL Server.","type":"object","properties":{"___diskConfigurationType":{"oneOf":[{"type":"string","enum":["NEW","EXTEND","ADD"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Disk configuration to apply to SQL Server."},"___startingDeviceId":{"oneOf":[{"type":"integer"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Device id of the first disk to be updated."},"___diskCount":{"oneOf":[{"type":"integer"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Virtual machine disk count."}}},"_88SqlVirtualMachineGroupProperties":{"description":"The properties of a SQL virtual machine group.","type":"object","properties":{"___wsfcDomainProfile":{"oneOf":[{"$eref":{"description":"Active Directory account details to operate Windows Server Failover Cluster.","type":"object","properties":{"___clusterBootstrapAccount":{"description":"Account name used for creating cluster (at minimum needs permissions to 'Create Computer Objects' in domain).","type":"string"},"___sqlServiceAccount":{"description":"Account name under which SQL service will run on all participating SQL virtual machines in the cluster.","type":"string"},"___fileShareWitnessPath":{"description":"Optional path for fileshare witness.","type":"string"},"___domainFqdn":{"description":"Fully qualified name of the domain.","type":"string"},"___storageAccountPrimaryKey":{"description":"Primary key of the witness storage account.","type":"string"},"___clusterOperatorAccount":{"description":"Account name used for operating cluster i.e. will be part of administrators group on all the participating virtual machines in the cluster.","type":"string"},"___storageAccountUrl":{"description":"Fully qualified ARM resource id of the witness storage account.","type":"string"},"___ouPath":{"description":"Organizational Unit path in which the nodes and cluster will be present.","type":"string"}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Active Directory account details to operate Windows Server Failover Cluster."},"___sqlImageOffer":{"description":"SQL image offer. Examples may include SQL2016-WS2016, SQL2017-WS2016.","type":"string"},"___sqlImageSku":{"oneOf":[{"type":"string","enum":["Developer","Enterprise"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"SQL image sku."}}},"_88ResourceIdentity":{"description":"Azure Active Directory identity configuration for a resource.","type":"object","properties":{"___type":{"oneOf":[{"type":"string","enum":["SystemAssigned"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The identity type. Set this to 'SystemAssigned' in order to automatically create and assign an Azure Active Directory principal for the resource."}}},"_88StorageConfigurationSettings":{"description":"Storage Configurations for SQL Data, Log and TempDb.","type":"object","properties":{"___storageWorkloadType":{"oneOf":[{"type":"string","enum":["GENERAL","OLTP","DW"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Storage workload type."},"___diskConfigurationType":{"oneOf":[{"type":"string","enum":["NEW","EXTEND","ADD"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Disk configuration to apply to SQL Server."},"___sqlDataSettings":{"oneOf":[{"$eref":{"description":"Set disk storage settings for SQL Server.","type":"object","properties":{"___luns":{"oneOf":[{"type":"array","items":{"type":"integer"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Logical Unit Numbers for the disks."},"___defaultFilePath":{"description":"SQL Server default file path","type":"string"}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Set disk storage settings for SQL Server."},"___sqlLogSettings":{"oneOf":[{"$eref":{"description":"Set disk storage settings for SQL Server.","type":"object","properties":{"___luns":{"oneOf":[{"type":"array","items":{"type":"integer"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Logical Unit Numbers for the disks."},"___defaultFilePath":{"description":"SQL Server default file path","type":"string"}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Set disk storage settings for SQL Server."},"___sqlTempDbSettings":{"oneOf":[{"$eref":{"description":"Set disk storage settings for SQL Server.","type":"object","properties":{"___luns":{"oneOf":[{"type":"array","items":{"type":"integer"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Logical Unit Numbers for the disks."},"___defaultFilePath":{"description":"SQL Server default file path","type":"string"}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Set disk storage settings for SQL Server."}}},"_88WsfcDomainCredentials":{"description":"Domain credentials for setting up Windows Server Failover Cluster for SQL availability group.","type":"object","properties":{"___sqlServiceAccountPassword":{"description":"SQL service account password.","type":"string"},"___clusterBootstrapAccountPassword":{"description":"Cluster bootstrap account password.","type":"string"},"___clusterOperatorAccountPassword":{"description":"Cluster operator account password.","type":"string"}}},"_88SqlWorkloadTypeUpdateSettings":{"description":"Set workload type to optimize storage for SQL Server.","type":"object","properties":{"___sqlWorkloadType":{"oneOf":[{"type":"string","enum":["GENERAL","OLTP","DW"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"SQL Server workload type."}}},"_88SqlConnectivityUpdateSettings":{"description":"Set the access level and network port settings for SQL Server.","type":"object","properties":{"___sqlAuthUpdatePassword":{"description":"SQL Server sysadmin login password.","type":"string"},"___connectivityType":{"oneOf":[{"type":"string","enum":["LOCAL","PRIVATE","PUBLIC"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"SQL Server connectivity option."},"___port":{"oneOf":[{"type":"integer"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"SQL Server port."},"___sqlAuthUpdateUserName":{"description":"SQL Server sysadmin login to create.","type":"string"}}},"_88SqlVirtualMachineProperties":{"description":"The SQL virtual machine properties.","type":"object","properties":{"___wsfcDomainCredentials":{"oneOf":[{"$eref":{"description":"Domain credentials for setting up Windows Server Failover Cluster for SQL availability group.","type":"object","properties":{"___sqlServiceAccountPassword":{"description":"SQL service account password.","type":"string"},"___clusterBootstrapAccountPassword":{"description":"Cluster bootstrap account password.","type":"string"},"___clusterOperatorAccountPassword":{"description":"Cluster operator account password.","type":"string"}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Domain credentials for setting up Windows Server Failover Cluster for SQL availability group."},"___sqlVirtualMachineGroupResourceId":{"description":"ARM resource id of the SQL virtual machine group this SQL virtual machine is or will be part of.","type":"string"},"___virtualMachineResourceId":{"description":"ARM Resource id of underlying virtual machine created from SQL marketplace image.","type":"string"},"___autoPatchingSettings":{"oneOf":[{"$eref":{"description":"Set a patching window during which Windows and SQL patches will be applied.","type":"object","properties":{"___maintenanceWindowDuration":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Duration of patching."},"___dayOfWeek":{"oneOf":[{"type":"string","enum":["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Day of week to apply the patch on."},"___maintenanceWindowStartingHour":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Hour of the day when patching is initiated. Local VM time."},"___enable":{"oneOf":[{"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Enable or disable autopatching on SQL virtual machine."}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Set a patching window during which Windows and SQL patches will be applied."},"___storageConfigurationSettings":{"oneOf":[{"$eref":{"description":"Storage Configurations for SQL Data, Log and TempDb.","type":"object","properties":{"___storageWorkloadType":{"oneOf":[{"type":"string","enum":["GENERAL","OLTP","DW"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Storage workload type."},"___diskConfigurationType":{"oneOf":[{"type":"string","enum":["NEW","EXTEND","ADD"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Disk configuration to apply to SQL Server."},"___sqlDataSettings":{"oneOf":[{"$ref":"#\/definitions\/SQLStorageSettings"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Set disk storage settings for SQL Server."},"___sqlLogSettings":{"oneOf":[{"$ref":"#\/definitions\/SQLStorageSettings"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Set disk storage settings for SQL Server."},"___sqlTempDbSettings":{"oneOf":[{"$ref":"#\/definitions\/SQLStorageSettings"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Set disk storage settings for SQL Server."}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Storage Configurations for SQL Data, Log and TempDb."},"___sqlImageOffer":{"description":"SQL image offer. Examples include SQL2016-WS2016, SQL2017-WS2016.","type":"string"},"___sqlManagement":{"oneOf":[{"type":"string","enum":["Full","LightWeight","NoAgent"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"SQL Server Management type."},"___serverConfigurationsManagementSettings":{"oneOf":[{"$eref":{"description":"Set the connectivity, storage and workload settings.","type":"object","properties":{"___sqlConnectivityUpdateSettings":{"oneOf":[{"$ref":"#\/definitions\/SqlConnectivityUpdateSettings"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Set the access level and network port settings for SQL Server."},"___sqlStorageUpdateSettings":{"oneOf":[{"$ref":"#\/definitions\/SqlStorageUpdateSettings"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Set disk storage settings for SQL Server."},"___sqlWorkloadTypeUpdateSettings":{"oneOf":[{"$ref":"#\/definitions\/SqlWorkloadTypeUpdateSettings"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Set workload type to optimize storage for SQL Server."},"___additionalFeaturesServerConfigurations":{"oneOf":[{"$ref":"#\/definitions\/AdditionalFeaturesServerConfigurations"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Additional SQL Server feature settings."}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Set the connectivity, storage and workload settings."},"___keyVaultCredentialSettings":{"oneOf":[{"$eref":{"description":"Configure your SQL virtual machine to be able to connect to the Azure Key Vault service.","type":"object","properties":{"___credentialName":{"description":"Credential name.","type":"string"},"___servicePrincipalSecret":{"description":"Service principal name secret to access key vault.","type":"string"},"___azureKeyVaultUrl":{"description":"Azure Key Vault url.","type":"string"},"___servicePrincipalName":{"description":"Service principal name to access key vault.","type":"string"},"___enable":{"oneOf":[{"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Enable or disable key vault credential setting."}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Configure your SQL virtual machine to be able to connect to the Azure Key Vault service."},"___sqlServerLicenseType":{"oneOf":[{"type":"string","enum":["PAYG","AHUB","DR"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"SQL Server license type."},"___sqlImageSku":{"oneOf":[{"type":"string","enum":["Developer","Express","Standard","Enterprise","Web"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"SQL Server edition type."},"___autoBackupSettings":{"oneOf":[{"$eref":{"description":"Configure backups for databases in your SQL virtual machine.","type":"object","properties":{"___fullBackupWindowHours":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Duration of the time window of a given day during which full backups can take place. 1-23 hours."},"___backupScheduleType":{"oneOf":[{"type":"string","enum":["Manual","Automated"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Backup schedule type."},"___backupSystemDbs":{"oneOf":[{"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Include or exclude system databases from auto backup."},"___password":{"description":"Password for encryption on backup.","type":"string"},"___enableEncryption":{"oneOf":[{"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Enable or disable encryption for backup on SQL virtual machine."},"___storageAccessKey":{"description":"Storage account key where backup will be taken to.","type":"string"},"___fullBackupStartTime":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Start time of a given day during which full backups can take place. 0-23 hours."},"___logBackupFrequency":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Frequency of log backups. 5-60 minutes."},"___fullBackupFrequency":{"oneOf":[{"type":"string","enum":["Daily","Weekly"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Frequency of full backups. In both cases, full backups begin during the next scheduled time window."},"___enable":{"oneOf":[{"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Enable or disable autobackup on SQL virtual machine."},"___storageAccountUrl":{"description":"Storage account url where backup will be taken to.","type":"string"},"___retentionPeriod":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Retention period of backup: 1-30 days."}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Configure backups for databases in your SQL virtual machine."}}},"_88ServerConfigurationsManagementSettings":{"description":"Set the connectivity, storage and workload settings.","type":"object","properties":{"___sqlConnectivityUpdateSettings":{"oneOf":[{"$eref":{"description":"Set the access level and network port settings for SQL Server.","type":"object","properties":{"___sqlAuthUpdatePassword":{"description":"SQL Server sysadmin login password.","type":"string"},"___connectivityType":{"oneOf":[{"type":"string","enum":["LOCAL","PRIVATE","PUBLIC"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"SQL Server connectivity option."},"___port":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"SQL Server port."},"___sqlAuthUpdateUserName":{"description":"SQL Server sysadmin login to create.","type":"string"}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Set the access level and network port settings for SQL Server."},"___sqlStorageUpdateSettings":{"oneOf":[{"$eref":{"description":"Set disk storage settings for SQL Server.","type":"object","properties":{"___diskConfigurationType":{"oneOf":[{"type":"string","enum":["NEW","EXTEND","ADD"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Disk configuration to apply to SQL Server."},"___startingDeviceId":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Device id of the first disk to be updated."},"___diskCount":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Virtual machine disk count."}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Set disk storage settings for SQL Server."},"___sqlWorkloadTypeUpdateSettings":{"oneOf":[{"$eref":{"description":"Set workload type to optimize storage for SQL Server.","type":"object","properties":{"___sqlWorkloadType":{"oneOf":[{"type":"string","enum":["GENERAL","OLTP","DW"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"SQL Server workload type."}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Set workload type to optimize storage for SQL Server."},"___additionalFeaturesServerConfigurations":{"oneOf":[{"$eref":{"description":"Additional SQL Server feature settings.","type":"object","properties":{"___isRServicesEnabled":{"oneOf":[{"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Enable or disable R services (SQL 2016 onwards)."}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Additional SQL Server feature settings."}}},"_88sqlVirtualMachineGroups_availabilityGroupListeners_childResource":{"description":"Microsoft.SqlVirtualMachine\/sqlVirtualMachineGroups\/availabilityGroupListeners","type":"object","properties":{"___name":{"description":"Name of the availability group listener.","type":"string"},"___type":{"type":"string","enum":["availabilityGroupListeners"]},"___properties":{"oneOf":[{"$eref":{"description":"The properties of an availability group listener.","type":"object","properties":{"___loadBalancerConfigurations":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/LoadBalancerConfiguration"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"List of load balancer configurations for an availability group listener."},"___availabilityGroupName":{"description":"Name of the availability group.","type":"string"},"___createDefaultAvailabilityGroupIfNotExist":{"oneOf":[{"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Create a default availability group if it does not exist."},"___port":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Listener port."}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The properties of an availability group listener."},"___apiVersion":{"type":"string","enum":["2017-03-01-preview"]}},"required":["apiVersion","name","properties","type"]},"_88WsfcDomainProfile":{"description":"Active Directory account details to operate Windows Server Failover Cluster.","type":"object","properties":{"___clusterBootstrapAccount":{"description":"Account name used for creating cluster (at minimum needs permissions to 'Create Computer Objects' in domain).","type":"string"},"___sqlServiceAccount":{"description":"Account name under which SQL service will run on all participating SQL virtual machines in the cluster.","type":"string"},"___fileShareWitnessPath":{"description":"Optional path for fileshare witness.","type":"string"},"___domainFqdn":{"description":"Fully qualified name of the domain.","type":"string"},"___storageAccountPrimaryKey":{"description":"Primary key of the witness storage account.","type":"string"},"___clusterOperatorAccount":{"description":"Account name used for operating cluster i.e. will be part of administrators group on all the participating virtual machines in the cluster.","type":"string"},"___storageAccountUrl":{"description":"Fully qualified ARM resource id of the witness storage account.","type":"string"},"___ouPath":{"description":"Organizational Unit path in which the nodes and cluster will be present.","type":"string"}}}}}