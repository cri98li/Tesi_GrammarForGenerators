{"$schema":"http:\/\/json-schema.org\/draft-06\/schema#","additionalProperties":false,"title":"Nextstrain tree JSON schema","type":"object","properties":{"___children":{"minItems":2,"description":"Child nodes. Recursive structure. Terminal nodes do not have this property.","$comment":"Polytomies (more than 2 items) allowed.","type":"array","items":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-06\/schema#","additionalProperties":false,"title":"Nextstrain tree JSON schema","type":"object","properties":{"___children":{"minItems":2,"description":"Child nodes. Recursive structure. Terminal nodes do not have this property.","$comment":"Polytomies (more than 2 items) allowed.","type":"array","items":{"$ref":"#"}},"___aa_muts":{"patternProperties":{"___^[a-zA-Z0-9*_-]+$":{"description":"Mutations for this gene (or annotated region)","type":"array","items":{"pattern":"^[A-Z*][0-9]+[A-Z*]$"}}},"description":"Amino-acid mutations (for each gene) occuring between the parent and this node","additionalProperties":false,"$comment":"properties (keys) must exist in the meta.JSON -> annotation object, and cannot be \"nuc\"","type":"object"},"___branch_length":{"$comment":"DEPRECATED. Not used in auspice.","type":"number"},"___attr":{"patternProperties":{"___^.*_confidence$":{"oneOf":[{"patternProperties":{"___^.+$":{"type":"number"}},"description":"","type":"object"},{"description":"","type":"array","items":[{"type":"number"},{"type":"number"}]}],"description":"confidence values for trait","$comment":"The trait must exist. This cannot be checked for in the JSON schema AFAIK"},"___^.*_entropy$":{"description":"","type":"number"}},"description":"Attributes \/ decorations on the nodes","additionalProperties":true,"type":"object","properties":{"___div":{"description":"Node (phylogenetic) divergence","$comment":"Cumulative (root = 0)","type":"number"},"___branch_length":{"$comment":"DEPRECATED. Not used in auspice.","type":"number"},"___clock_length":{"$comment":"DEPRECATED. Not used in auspice.","type":"number"},"___url":{"description":"URL of the sequence (usually https:\/\/www.ncbi.nlm.nih.gov\/nuccore\/...)","type":["null","string"]},"___authors":{"description":"Author lookup key for the relevant publication \/ credit","$comment":"Should have a corresponding entry in the meta JSON author_info property","type":["null","string"]},"___date":{"pattern":"^[0-9X]{4}-[0-9X]{2}-[0-9X]{2}$","description":"Node date","$comment":"Is this used? Should only use this or num_date","type":"string"},"___num_date_confidence":{"description":"Confidence of the node date","type":"array","items":[{"type":"number"},{"type":"number"}]},"___mutation_length":{"$comment":"DEPRECATED. Not used in auspice.","type":"number"},"___num_date":{"description":"Node date","$comment":"Year in decimal format","type":"number"},"___accession":{"oneOf":[{"pattern":"^[0-9A-Za-z-]+$","type":"string"},{"type":"null"}],"description":"Genome accession"}},"required":["div","num_date"]},"___serum":{"description":"to do","$comment":"Used in dengue & flu trees","type":"boolean"},"___clade":{"description":"Will be removed in schema 2.0","type":["number"]},"___yvalue":{"$comment":"DEPRECATED. Not used in auspice.","type":["null","number"]},"___muts":{"description":"Nucleotide mutations occuring between the parent and this node","$comment":"same numbering scheme as used by the meta.JSON -> annotations","type":"array","items":{"oneOf":[{"pattern":"^[ATCGNYRWSKMDVHB-][0-9]+[ATCGNYRWSKMDVHB-]$","type":"string"},{"pattern":"^insertion [0-9]+-[0-9]+$","$comment":"unused by auspice","type":"string"},{"pattern":"^deletion [0-9]+-[0-9]+$","$comment":"unused by auspice","type":"string"}]}},"___strain":{"description":"Strain name. Must be unique","type":"string"},"___xvalue":{"$comment":"DEPRECATED. Not used in auspice.","type":["null","number"]},"___tvalue":{"$comment":"DEPRECATED. Not used in auspice.","type":["null","number"]}},"required":["attr","strain"]}}},"___aa_muts":{"patternProperties":{"___^[a-zA-Z0-9*_-]+$":{"description":"Mutations for this gene (or annotated region)","type":"array","items":{"pattern":"^[A-Z*][0-9]+[A-Z*]$"}}},"description":"Amino-acid mutations (for each gene) occuring between the parent and this node","additionalProperties":false,"$comment":"properties (keys) must exist in the meta.JSON -> annotation object, and cannot be \"nuc\"","type":"object"},"___branch_length":{"$comment":"DEPRECATED. Not used in auspice.","type":"number"},"___attr":{"patternProperties":{"___^.*_confidence$":{"oneOf":[{"patternProperties":{"___^.+$":{"type":"number"}},"description":"","type":"object"},{"description":"","type":"array","items":[{"type":"number"},{"type":"number"}]}],"description":"confidence values for trait","$comment":"The trait must exist. This cannot be checked for in the JSON schema AFAIK"},"___^.*_entropy$":{"description":"","type":"number"}},"description":"Attributes \/ decorations on the nodes","additionalProperties":true,"type":"object","properties":{"___div":{"description":"Node (phylogenetic) divergence","$comment":"Cumulative (root = 0)","type":"number"},"___branch_length":{"$comment":"DEPRECATED. Not used in auspice.","type":"number"},"___clock_length":{"$comment":"DEPRECATED. Not used in auspice.","type":"number"},"___url":{"description":"URL of the sequence (usually https:\/\/www.ncbi.nlm.nih.gov\/nuccore\/...)","type":["null","string"]},"___authors":{"description":"Author lookup key for the relevant publication \/ credit","$comment":"Should have a corresponding entry in the meta JSON author_info property","type":["null","string"]},"___date":{"pattern":"^[0-9X]{4}-[0-9X]{2}-[0-9X]{2}$","description":"Node date","$comment":"Is this used? Should only use this or num_date","type":"string"},"___num_date_confidence":{"description":"Confidence of the node date","type":"array","items":[{"type":"number"},{"type":"number"}]},"___mutation_length":{"$comment":"DEPRECATED. Not used in auspice.","type":"number"},"___num_date":{"description":"Node date","$comment":"Year in decimal format","type":"number"},"___accession":{"oneOf":[{"pattern":"^[0-9A-Za-z-]+$","type":"string"},{"type":"null"}],"description":"Genome accession"}},"required":["div","num_date"]},"___serum":{"description":"to do","$comment":"Used in dengue & flu trees","type":"boolean"},"___clade":{"description":"Will be removed in schema 2.0","type":["number"]},"___yvalue":{"$comment":"DEPRECATED. Not used in auspice.","type":["null","number"]},"___muts":{"description":"Nucleotide mutations occuring between the parent and this node","$comment":"same numbering scheme as used by the meta.JSON -> annotations","type":"array","items":{"oneOf":[{"pattern":"^[ATCGNYRWSKMDVHB-][0-9]+[ATCGNYRWSKMDVHB-]$","type":"string"},{"pattern":"^insertion [0-9]+-[0-9]+$","$comment":"unused by auspice","type":"string"},{"pattern":"^deletion [0-9]+-[0-9]+$","$comment":"unused by auspice","type":"string"}]}},"___strain":{"description":"Strain name. Must be unique","type":"string"},"___xvalue":{"$comment":"DEPRECATED. Not used in auspice.","type":["null","number"]},"___tvalue":{"$comment":"DEPRECATED. Not used in auspice.","type":["null","number"]}},"required":["attr","strain"]}