{"defs":{"encode":{"patternProperties":{"___^.+$":{"$eref":{"additionalProperties":true,"title":"Mark encode property set","type":"object","properties":{"___opacity":{"$ref":"#\/refs\/numberValue"},"___orient":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"enum":["horizontal","vertical"]}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"enum":["horizontal","vertical"]}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]},"___endAngle":{"$ref":"#\/refs\/numberValue"},"___align":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"enum":["left","right","center"]}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"enum":["left","right","center"]}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]},"___innerRadius":{"$ref":"#\/refs\/numberValue"},"___fontWeight":{"$ref":"#\/refs\/fontWeightValue"},"___strokeWidth":{"$ref":"#\/refs\/numberValue"},"___stroke":{"$ref":"#\/refs\/colorValue"},"___xc":{"$ref":"#\/refs\/numberValue"},"___fillOpacity":{"$ref":"#\/refs\/numberValue"},"___theta":{"$ref":"#\/refs\/numberValue"},"___text":{"$ref":"#\/refs\/stringValue"},"___angle":{"$ref":"#\/refs\/numberValue"},"___strokeOpacity":{"$ref":"#\/refs\/numberValue"},"___ellipsis":{"$ref":"#\/refs\/stringValue"},"___url":{"$ref":"#\/refs\/stringValue"},"___tension":{"$ref":"#\/refs\/numberValue"},"___fontStyle":{"$ref":"#\/refs\/stringValue"},"___x2":{"$ref":"#\/refs\/numberValue"},"___path":{"$ref":"#\/refs\/stringValue"},"___fontSize":{"$ref":"#\/refs\/numberValue"},"___interpolate":{"$ref":"#\/refs\/stringValue"},"___radius":{"$ref":"#\/refs\/numberValue"},"___limit":{"$ref":"#\/refs\/numberValue"},"___shape":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/stringValue"}]},"___strokeDash":{"$ref":"#\/refs\/arrayValue"},"___outerRadius":{"$ref":"#\/refs\/numberValue"},"___startAngle":{"$ref":"#\/refs\/numberValue"},"___dir":{"$ref":"#\/refs\/stringValue"},"___yc":{"$ref":"#\/refs\/numberValue"},"___cursor":{"$ref":"#\/refs\/stringValue"},"___dy":{"$ref":"#\/refs\/numberValue"},"___dx":{"$ref":"#\/refs\/numberValue"},"___x":{"$ref":"#\/refs\/numberValue"},"___fill":{"$ref":"#\/refs\/colorValue"},"___y":{"$ref":"#\/refs\/numberValue"},"___baseline":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"enum":["top","middle","bottom","alphabetic"]}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"enum":["top","middle","bottom","alphabetic"]}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]},"___font":{"$ref":"#\/refs\/stringValue"},"___clip":{"$ref":"#\/refs\/booleanValue"},"___height":{"$ref":"#\/refs\/numberValue"},"___size":{"$ref":"#\/refs\/numberValue"},"___width":{"$ref":"#\/refs\/numberValue"},"___y2":{"$ref":"#\/refs\/numberValue"},"___strokeDashOffset":{"$ref":"#\/refs\/numberValue"}}}}},"additionalProperties":false,"type":"object"},"collectTransform":{"additionalProperties":false,"type":"object","properties":{"___sort":{"$eref":{"oneOf":[{"type":"object","properties":{"___field":{"oneOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]},"___order":{"$ref":"#\/refs\/sortOrder"}}},{"type":"object","properties":{"___field":{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},"___order":{"type":"array","items":{"$ref":"#\/refs\/sortOrder"}}}}]}},"___type":{"enum":["collect"]},"___signal":{"type":"string"}},"required":["type"]},"markGroup":{"allOf":[{"properties":{"___type":{"enum":["group"]}},"required":["type"]},{"$eref":{"type":"object","properties":{"___sort":{"$ref":"#\/refs\/compare"},"___name":{"type":"string"},"___key":{"type":"string"},"___type":{"$ref":"#\/refs\/marktype"},"___style":{"$ref":"#\/refs\/style"},"___interactive":{"$ref":"#\/refs\/booleanOrSignal"},"___transform":{"type":"array","items":{"$ref":"#\/defs\/transformMark"}},"___on":{"$ref":"#\/defs\/onMarkTrigger"},"___role":{"type":"string"},"___clip":{"$ref":"#\/refs\/markclip"},"___encode":{"$ref":"#\/defs\/encode"}},"required":["type"]}},{"$eref":{"type":"object","properties":{"___axes":{"type":"array","items":{"$ref":"#\/defs\/axis"}},"___signals":{"type":"array","items":{"$ref":"#\/defs\/signal"}},"___layout":{"$ref":"#\/defs\/layout"},"___title":{"$ref":"#\/defs\/title"},"___scales":{"type":"array","items":{"$ref":"#\/defs\/scale"}},"___projections":{"type":"array","items":{"$ref":"#\/defs\/projection"}},"___legends":{"type":"array","items":{"$ref":"#\/defs\/legend"}},"___marks":{"type":"array","items":{"oneOf":[{"$ref":"#\/defs\/markGroup"},{"$ref":"#\/defs\/markVisual"}]}},"___encode":{"$ref":"#\/defs\/encode"},"___data":{"type":"array","items":{"$ref":"#\/defs\/data"}}}}},{"type":"object","properties":{"___from":{"oneOf":[{"$eref":{"additionalProperties":false,"type":"object","properties":{"___data":{"type":"string"}}}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___facet":{"oneOf":[{"additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___field":{"type":"string"},"___data":{"type":"string"}},"required":["name","data","field"]},{"additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___groupby":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"___aggregate":{"type":"object","properties":{"___ops":{"type":"array","items":{"type":"string"}},"___fields":{"type":"array","items":{"type":"string"}},"___cross":{"type":"boolean"},"___as":{"type":"array","items":{"type":"string"}}}},"___data":{"type":"string"}},"required":["name","data","groupby"]}]},"___data":{"type":"string"}},"required":["facet"]}}]}}}]},"pivotTransform":{"additionalProperties":false,"type":"object","properties":{"___field":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___limit":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___key":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___type":{"enum":["pivot"]},"___op":{"default":"sum","anyOf":[{"enum":["values","count","__count__","missing","valid","sum","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","argmin","argmax","min","max"]},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___value":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___signal":{"type":"string"}},"required":["type","field","value"]},"crossTransform":{"additionalProperties":false,"type":"object","properties":{"___type":{"enum":["cross"]},"___as":{"minItems":2,"maxItems":2,"default":["a","b"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___filter":{"$eref":{"title":"Expression String","type":"string"}},"___signal":{"type":"string"}},"required":["type"]},"data":{"allOf":[{"properties":{"___name":{"type":"string"},"___transform":{"type":"array","items":{"$eref":{"oneOf":[{"$ref":"#\/defs\/aggregateTransform"},{"$ref":"#\/defs\/binTransform"},{"$ref":"#\/defs\/collectTransform"},{"$ref":"#\/defs\/countpatternTransform"},{"$ref":"#\/defs\/crossTransform"},{"$ref":"#\/defs\/densityTransform"},{"$ref":"#\/defs\/extentTransform"},{"$ref":"#\/defs\/filterTransform"},{"$ref":"#\/defs\/flattenTransform"},{"$ref":"#\/defs\/foldTransform"},{"$ref":"#\/defs\/formulaTransform"},{"$ref":"#\/defs\/imputeTransform"},{"$ref":"#\/defs\/joinaggregateTransform"},{"$ref":"#\/defs\/lookupTransform"},{"$ref":"#\/defs\/pivotTransform"},{"$ref":"#\/defs\/projectTransform"},{"$ref":"#\/defs\/sampleTransform"},{"$ref":"#\/defs\/sequenceTransform"},{"$ref":"#\/defs\/windowTransform"},{"$ref":"#\/defs\/identifierTransform"},{"$ref":"#\/defs\/linkpathTransform"},{"$ref":"#\/defs\/pieTransform"},{"$ref":"#\/defs\/stackTransform"},{"$ref":"#\/defs\/contourTransform"},{"$ref":"#\/defs\/geojsonTransform"},{"$ref":"#\/defs\/geopathTransform"},{"$ref":"#\/defs\/geopointTransform"},{"$ref":"#\/defs\/geoshapeTransform"},{"$ref":"#\/defs\/graticuleTransform"},{"$ref":"#\/defs\/forceTransform"},{"$ref":"#\/defs\/nestTransform"},{"$ref":"#\/defs\/packTransform"},{"$ref":"#\/defs\/partitionTransform"},{"$ref":"#\/defs\/stratifyTransform"},{"$ref":"#\/defs\/treeTransform"},{"$ref":"#\/defs\/treelinksTransform"},{"$ref":"#\/defs\/treemapTransform"},{"$ref":"#\/defs\/voronoiTransform"},{"$ref":"#\/defs\/wordcloudTransform"},{"$ref":"#\/defs\/crossfilterTransform"},{"$ref":"#\/defs\/resolvefilterTransform"}]}}},"___on":{"$eref":{"type":"array","items":{"type":"object","properties":{"___toggle":{"$ref":"#\/refs\/exprString"},"___trigger":{"$ref":"#\/refs\/exprString"},"___modify":{"$ref":"#\/refs\/exprString"},"___values":{"$ref":"#\/refs\/exprString"},"___remove":{"oneOf":[{"type":"boolean"},{"$ref":"#\/refs\/exprString"}]},"___insert":{"$ref":"#\/refs\/exprString"}},"required":["trigger"]}}}},"required":["name"]},{"anyOf":[{"required":["name"]},{"oneOf":[{"properties":{"___source":{"oneOf":[{"type":"string"},{"minItems":1,"type":"array","items":{"type":"string"}}]}},"required":["source"]},{"properties":{"___format":{"$eref":{"anyOf":[{"additionalProperties":false,"properties":{"___parse":{"oneOf":[{"enum":["auto"]},{"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"pattern":"^(date|utc):.*$","type":"string"}]},"type":"object"}]},"___copy":{"type":"boolean"},"___type":{"enum":["json"]},"___property":{"type":"string"}}},{"additionalProperties":false,"properties":{"___parse":{"oneOf":[{"enum":["auto"]},{"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"pattern":"^(date|utc):.*$","type":"string"}]},"type":"object"}]},"___type":{"enum":["csv","tsv"]}}},{"additionalProperties":false,"properties":{"___parse":{"oneOf":[{"enum":["auto"]},{"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"pattern":"^(date|utc):.*$","type":"string"}]},"type":"object"}]},"___type":{"enum":["dsv"]},"___delimiter":{"type":"string"}}},{"oneOf":[{"additionalProperties":false,"properties":{"___type":{"enum":["topojson"]},"___property":{"type":"string"},"___feature":{"type":"string"}}},{"additionalProperties":false,"properties":{"___type":{"enum":["topojson"]},"___mesh":{"type":"string"},"___property":{"type":"string"}}}]}],"type":"object"}},"___values":{"type":"array"}},"required":["values"]},{"properties":{"___format":{"$eref":{"anyOf":[{"additionalProperties":false,"properties":{"___parse":{"oneOf":[{"enum":["auto"]},{"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"pattern":"^(date|utc):.*$","type":"string"}]},"type":"object"}]},"___copy":{"type":"boolean"},"___type":{"enum":["json"]},"___property":{"type":"string"}}},{"additionalProperties":false,"properties":{"___parse":{"oneOf":[{"enum":["auto"]},{"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"pattern":"^(date|utc):.*$","type":"string"}]},"type":"object"}]},"___type":{"enum":["csv","tsv"]}}},{"additionalProperties":false,"properties":{"___parse":{"oneOf":[{"enum":["auto"]},{"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"pattern":"^(date|utc):.*$","type":"string"}]},"type":"object"}]},"___type":{"enum":["dsv"]},"___delimiter":{"type":"string"}}},{"oneOf":[{"additionalProperties":false,"properties":{"___type":{"enum":["topojson"]},"___property":{"type":"string"},"___feature":{"type":"string"}}},{"additionalProperties":false,"properties":{"___type":{"enum":["topojson"]},"___mesh":{"type":"string"},"___property":{"type":"string"}}}]}],"type":"object"}},"___url":{"type":"string"}},"required":["url"]}]}]}],"title":"Input data set definition","type":"object"},"legend":{"anyOf":[{"required":["size"]},{"required":["shape"]},{"required":["fill"]},{"required":["stroke"]},{"required":["opacity"]},{"required":["strokeDash"]}],"additionalProperties":false,"type":"object","properties":{"___opacity":{"type":"string"},"___orient":{"default":"right","enum":["none","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]},"___shape":{"type":"string"},"___strokeDash":{"type":"string"},"___type":{"default":"symbol","enum":["gradient","symbol"]},"___title":{"$eref":{"oneOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},"___values":{"oneOf":[{"type":"array"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___stroke":{"type":"string"},"___offset":{"oneOf":[{"type":"number"},{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}}]},"___encode":{"additionalProperties":false,"type":"object","properties":{"___gradient":{"$eref":{"patternProperties":{"___^(?!interactive|name|style).+$":{"$ref":"#\/defs\/encodeEntry"}},"additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___style":{"$ref":"#\/refs\/style"},"___interactive":{"default":false,"type":"boolean"}}}},"___legend":{"$eref":{"patternProperties":{"___^(?!interactive|name|style).+$":{"$ref":"#\/defs\/encodeEntry"}},"additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___style":{"$ref":"#\/refs\/style"},"___interactive":{"default":false,"type":"boolean"}}}},"___symbols":{"$eref":{"patternProperties":{"___^(?!interactive|name|style).+$":{"$ref":"#\/defs\/encodeEntry"}},"additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___style":{"$ref":"#\/refs\/style"},"___interactive":{"default":false,"type":"boolean"}}}},"___title":{"$eref":{"patternProperties":{"___^(?!interactive|name|style).+$":{"$ref":"#\/defs\/encodeEntry"}},"additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___style":{"$ref":"#\/refs\/style"},"___interactive":{"default":false,"type":"boolean"}}}},"___labels":{"$eref":{"patternProperties":{"___^(?!interactive|name|style).+$":{"$ref":"#\/defs\/encodeEntry"}},"additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___style":{"$ref":"#\/refs\/style"},"___interactive":{"default":false,"type":"boolean"}}}}}},"___format":{"$eref":{"oneOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},"___entryPadding":{"oneOf":[{"type":"number"},{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}}]},"___titlePadding":{"oneOf":[{"type":"number"},{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}}]},"___padding":{"oneOf":[{"type":"number"},{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}}]},"___fill":{"type":"string"},"___zindex":{"type":"number"},"___size":{"type":"string"},"___tickCount":{"$eref":{"oneOf":[{"type":"number"},{"type":"string","enum":["millisecond","second","minute","hour","day","week","month","year"]},{"type":"object","properties":{"___interval":{"oneOf":[{"type":"string","enum":["millisecond","second","minute","hour","day","week","month","year"]},{"$ref":"#\/refs\/signal"}]},"___step":{"$ref":"#\/refs\/numberOrSignal"}},"required":["interval"]},{"$ref":"#\/refs\/signal"}]}}}},"listener":{"oneOf":[{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"type":"object","properties":{"___scale":{"type":"string"}},"required":["scale"]},{"$eref":{"allOf":[{"$ref":"#\/defs\/streamParams"},{"oneOf":[{"$ref":"#\/defs\/streamEvents"},{"type":"object","properties":{"___stream":{"$ref":"#\/defs\/stream"}},"required":["stream"]},{"type":"object","properties":{"___merge":{"minItems":1,"type":"array","items":{"$ref":"#\/defs\/stream"}}},"required":["merge"]}]}],"title":"Input event stream definition","type":"object"}}]},"axis":{"additionalProperties":false,"type":"object","properties":{"___orient":{"enum":["top","bottom","left","right"]},"___labelPadding":{"type":"number"},"___gridScale":{"type":"string"},"___title":{"$eref":{"oneOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},"___tickSize":{"type":"number"},"___values":{"oneOf":[{"type":"array"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___labels":{"type":"boolean"},"___offset":{"oneOf":[{"type":"number"},{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}}]},"___labelOverlap":{"oneOf":[{"type":"boolean"},{"type":"string","enum":["parity","greedy"]}]},"___encode":{"additionalProperties":false,"type":"object","properties":{"___grid":{"$eref":{"patternProperties":{"___^(?!interactive|name|style).+$":{"$ref":"#\/defs\/encodeEntry"}},"additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___style":{"$ref":"#\/refs\/style"},"___interactive":{"default":false,"type":"boolean"}}}},"___axis":{"$eref":{"patternProperties":{"___^(?!interactive|name|style).+$":{"$ref":"#\/defs\/encodeEntry"}},"additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___style":{"$ref":"#\/refs\/style"},"___interactive":{"default":false,"type":"boolean"}}}},"___ticks":{"$eref":{"patternProperties":{"___^(?!interactive|name|style).+$":{"$ref":"#\/defs\/encodeEntry"}},"additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___style":{"$ref":"#\/refs\/style"},"___interactive":{"default":false,"type":"boolean"}}}},"___title":{"$eref":{"patternProperties":{"___^(?!interactive|name|style).+$":{"$ref":"#\/defs\/encodeEntry"}},"additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___style":{"$ref":"#\/refs\/style"},"___interactive":{"default":false,"type":"boolean"}}}},"___domain":{"$eref":{"patternProperties":{"___^(?!interactive|name|style).+$":{"$ref":"#\/defs\/encodeEntry"}},"additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___style":{"$ref":"#\/refs\/style"},"___interactive":{"default":false,"type":"boolean"}}}},"___labels":{"$eref":{"patternProperties":{"___^(?!interactive|name|style).+$":{"$ref":"#\/defs\/encodeEntry"}},"additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___style":{"$ref":"#\/refs\/style"},"___interactive":{"default":false,"type":"boolean"}}}}}},"___grid":{"type":"boolean"},"___format":{"$eref":{"oneOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},"___titlePadding":{"oneOf":[{"type":"number"},{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}}]},"___maxExtent":{"oneOf":[{"type":"number"},{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}}]},"___scale":{"type":"string"},"___labelFlushOffset":{"type":"number"},"___labelBound":{"oneOf":[{"type":"boolean"},{"type":"number"}]},"___zindex":{"type":"number"},"___ticks":{"type":"boolean"},"___labelFlush":{"oneOf":[{"type":"boolean"},{"type":"number"}]},"___minExtent":{"oneOf":[{"type":"number"},{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}}]},"___domain":{"type":"boolean"},"___tickCount":{"$eref":{"oneOf":[{"type":"number"},{"type":"string","enum":["millisecond","second","minute","hour","day","week","month","year"]},{"type":"object","properties":{"___interval":{"oneOf":[{"type":"string","enum":["millisecond","second","minute","hour","day","week","month","year"]},{"$ref":"#\/refs\/signal"}]},"___step":{"$ref":"#\/refs\/numberOrSignal"}},"required":["interval"]},{"$ref":"#\/refs\/signal"}]}},"___position":{"oneOf":[{"type":"number"},{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}}]}},"required":["orient","scale"]},"imputeTransform":{"additionalProperties":false,"type":"object","properties":{"___field":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___key":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___type":{"enum":["impute"]},"___keyvals":{"oneOf":[{"type":"array","items":{}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___value":{},"___method":{"default":"value","anyOf":[{"enum":["value","mean","median","max","min"]},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___signal":{"type":"string"}},"required":["type","field","key"]},"partitionTransform":{"additionalProperties":false,"type":"object","properties":{"___sort":{"$eref":{"oneOf":[{"type":"object","properties":{"___field":{"oneOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]},"___order":{"$ref":"#\/refs\/sortOrder"}}},{"type":"object","properties":{"___field":{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},"___order":{"type":"array","items":{"$ref":"#\/refs\/sortOrder"}}}}]}},"___field":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___type":{"enum":["partition"]},"___padding":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___as":{"minItems":4,"maxItems":4,"default":["x0","y0","x1","y1","depth","children"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___round":{"anyOf":[{"type":"boolean"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___size":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___signal":{"type":"string"}},"required":["type"]},"bind":{"oneOf":[{"type":"object","properties":{"___name":{"type":"string"},"___element":{"$eref":{"type":"string"}},"___debounce":{"type":"number"},"___input":{"enum":["checkbox"]}},"required":["input"]},{"additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___options":{"type":"array"},"___element":{"$eref":{"type":"string"}},"___debounce":{"type":"number"},"___input":{"enum":["radio","select"]}},"required":["input","options"]},{"additionalProperties":false,"type":"object","properties":{"___min":{"type":"number"},"___name":{"type":"string"},"___element":{"$eref":{"type":"string"}},"___debounce":{"type":"number"},"___step":{"type":"number"},"___max":{"type":"number"},"___input":{"enum":["range"]}},"required":["input"]},{"additionalProperties":true,"type":"object","properties":{"___name":{"type":"string"},"___element":{"$eref":{"type":"string"}},"___debounce":{"type":"number"},"___input":{"not":{"enum":["checkbox","radio","range","select"]}}}}]},"countpatternTransform":{"additionalProperties":false,"type":"object","properties":{"___field":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___type":{"enum":["countpattern"]},"___as":{"minItems":2,"maxItems":2,"default":["text","count"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___case":{"default":"mixed","anyOf":[{"enum":["upper","lower","mixed"]},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___stopwords":{"anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___signal":{"type":"string"},"___pattern":{"default":"[\\w\"]+","anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},"required":["type","field"]},"stratifyTransform":{"additionalProperties":false,"type":"object","properties":{"___key":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___type":{"enum":["stratify"]},"___parentKey":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___signal":{"type":"string"}},"required":["type","key","parentKey"]},"treemapTransform":{"additionalProperties":false,"type":"object","properties":{"___sort":{"$eref":{"oneOf":[{"type":"object","properties":{"___field":{"oneOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]},"___order":{"$ref":"#\/refs\/sortOrder"}}},{"type":"object","properties":{"___field":{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},"___order":{"type":"array","items":{"$ref":"#\/refs\/sortOrder"}}}}]}},"___type":{"enum":["treemap"]},"___paddingLeft":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___paddingOuter":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___method":{"default":"squarify","anyOf":[{"enum":["squarify","resquarify","binary","dice","slice","slicedice"]},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___paddingTop":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___paddingRight":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___paddingInner":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___field":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___padding":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___paddingBottom":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___as":{"minItems":4,"maxItems":4,"default":["x0","y0","x1","y1","depth","children"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___round":{"anyOf":[{"type":"boolean"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___ratio":{"default":1.618033988749895,"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___size":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___signal":{"type":"string"}},"required":["type"]},"treelinksTransform":{"additionalProperties":false,"type":"object","properties":{"___key":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___type":{"enum":["treelinks"]},"___signal":{"type":"string"}},"required":["type"]},"contourTransform":{"additionalProperties":false,"type":"object","properties":{"___cellSize":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___bandwidth":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___count":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___thresholds":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___type":{"enum":["contour"]},"___x":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___y":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___nice":{"anyOf":[{"type":"boolean"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___values":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___smooth":{"anyOf":[{"type":"boolean"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___size":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___signal":{"type":"string"}},"required":["type","size"]},"titleEncode":{"patternProperties":{"___^(?!interactive|name|style).+$":{"$eref":{"additionalProperties":true,"title":"Mark encode property set","type":"object","properties":{"___opacity":{"$ref":"#\/refs\/numberValue"},"___orient":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"enum":["horizontal","vertical"]}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"enum":["horizontal","vertical"]}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]},"___endAngle":{"$ref":"#\/refs\/numberValue"},"___align":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"enum":["left","right","center"]}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"enum":["left","right","center"]}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]},"___innerRadius":{"$ref":"#\/refs\/numberValue"},"___fontWeight":{"$ref":"#\/refs\/fontWeightValue"},"___strokeWidth":{"$ref":"#\/refs\/numberValue"},"___stroke":{"$ref":"#\/refs\/colorValue"},"___xc":{"$ref":"#\/refs\/numberValue"},"___fillOpacity":{"$ref":"#\/refs\/numberValue"},"___theta":{"$ref":"#\/refs\/numberValue"},"___text":{"$ref":"#\/refs\/stringValue"},"___angle":{"$ref":"#\/refs\/numberValue"},"___strokeOpacity":{"$ref":"#\/refs\/numberValue"},"___ellipsis":{"$ref":"#\/refs\/stringValue"},"___url":{"$ref":"#\/refs\/stringValue"},"___tension":{"$ref":"#\/refs\/numberValue"},"___fontStyle":{"$ref":"#\/refs\/stringValue"},"___x2":{"$ref":"#\/refs\/numberValue"},"___path":{"$ref":"#\/refs\/stringValue"},"___fontSize":{"$ref":"#\/refs\/numberValue"},"___interpolate":{"$ref":"#\/refs\/stringValue"},"___radius":{"$ref":"#\/refs\/numberValue"},"___limit":{"$ref":"#\/refs\/numberValue"},"___shape":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/stringValue"}]},"___strokeDash":{"$ref":"#\/refs\/arrayValue"},"___outerRadius":{"$ref":"#\/refs\/numberValue"},"___startAngle":{"$ref":"#\/refs\/numberValue"},"___dir":{"$ref":"#\/refs\/stringValue"},"___yc":{"$ref":"#\/refs\/numberValue"},"___cursor":{"$ref":"#\/refs\/stringValue"},"___dy":{"$ref":"#\/refs\/numberValue"},"___dx":{"$ref":"#\/refs\/numberValue"},"___x":{"$ref":"#\/refs\/numberValue"},"___fill":{"$ref":"#\/refs\/colorValue"},"___y":{"$ref":"#\/refs\/numberValue"},"___baseline":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"enum":["top","middle","bottom","alphabetic"]}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"enum":["top","middle","bottom","alphabetic"]}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]},"___font":{"$ref":"#\/refs\/stringValue"},"___clip":{"$ref":"#\/refs\/booleanValue"},"___height":{"$ref":"#\/refs\/numberValue"},"___size":{"$ref":"#\/refs\/numberValue"},"___width":{"$ref":"#\/refs\/numberValue"},"___y2":{"$ref":"#\/refs\/numberValue"},"___strokeDashOffset":{"$ref":"#\/refs\/numberValue"}}}}},"additionalProperties":false,"type":"object"},"filterTransform":{"additionalProperties":false,"type":"object","properties":{"___expr":{"$eref":{"title":"Expression String","type":"string"}},"___type":{"enum":["filter"]},"___signal":{"type":"string"}},"required":["type","expr"]},"signal":{"oneOf":[{"$eref":{"additionalProperties":false,"type":"object","properties":{"___name":{"$ref":"#\/defs\/signalName"},"___push":{"enum":["outer"]},"___description":{"type":"string"},"___on":{"$ref":"#\/defs\/onEvents"}},"required":["name","push"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___name":{"$ref":"#\/defs\/signalName"},"___react":{"default":true,"type":"boolean"},"___description":{"type":"string"},"___on":{"$ref":"#\/defs\/onEvents"},"___bind":{"$ref":"#\/defs\/bind"},"___value":{},"___update":{"$ref":"#\/refs\/exprString"}},"required":["name"]}}]},"markVisual":{"allOf":[{"not":{"properties":{"___type":{"enum":["group"]}}}},{"$eref":{"type":"object","properties":{"___sort":{"$ref":"#\/refs\/compare"},"___name":{"type":"string"},"___key":{"type":"string"},"___type":{"$ref":"#\/refs\/marktype"},"___style":{"$ref":"#\/refs\/style"},"___interactive":{"$ref":"#\/refs\/booleanOrSignal"},"___transform":{"type":"array","items":{"$ref":"#\/defs\/transformMark"}},"___on":{"$ref":"#\/defs\/onMarkTrigger"},"___role":{"type":"string"},"___clip":{"$ref":"#\/refs\/markclip"},"___encode":{"$ref":"#\/defs\/encode"}},"required":["type"]}},{"type":"object","properties":{"___from":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___data":{"type":"string"}}}}}}]},"sequenceTransform":{"additionalProperties":false,"type":"object","properties":{"___type":{"enum":["sequence"]},"___start":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___step":{"default":1,"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___stop":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___signal":{"type":"string"}},"required":["type","start","stop"]},"onTrigger":{"type":"array","items":{"type":"object","properties":{"___toggle":{"$eref":{"title":"Expression String","type":"string"}},"___trigger":{"$eref":{"title":"Expression String","type":"string"}},"___modify":{"$eref":{"title":"Expression String","type":"string"}},"___values":{"$eref":{"title":"Expression String","type":"string"}},"___remove":{"oneOf":[{"type":"boolean"},{"$eref":{"title":"Expression String","type":"string"}}]},"___insert":{"$eref":{"title":"Expression String","type":"string"}}},"required":["trigger"]}},"signalNew":{"additionalProperties":false,"type":"object","properties":{"___name":{"$eref":{"not":{"enum":["parent","datum","event","item"]},"type":"string"}},"___react":{"default":true,"type":"boolean"},"___description":{"type":"string"},"___on":{"$eref":{"type":"array","items":{"allOf":[{"type":"object","properties":{"___force":{"type":"boolean"},"___events":{"oneOf":[{"$ref":"#\/refs\/selector"},{"$ref":"#\/defs\/listener"},{"minItems":1,"type":"array","items":{"$ref":"#\/defs\/listener"}}]}},"required":["events"]},{"oneOf":[{"type":"object","properties":{"___encode":{"type":"string"}},"required":["encode"]},{"type":"object","properties":{"___update":{"oneOf":[{"$ref":"#\/refs\/exprString"},{"$ref":"#\/refs\/expr"},{"$ref":"#\/refs\/signal"},{"type":"object","properties":{"___value":{}},"required":["value"]}]}},"required":["update"]}]}]}}},"___bind":{"$eref":{"oneOf":[{"type":"object","properties":{"___name":{"type":"string"},"___element":{"$ref":"#\/refs\/element"},"___debounce":{"type":"number"},"___input":{"enum":["checkbox"]}},"required":["input"]},{"additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___options":{"type":"array"},"___element":{"$ref":"#\/refs\/element"},"___debounce":{"type":"number"},"___input":{"enum":["radio","select"]}},"required":["input","options"]},{"additionalProperties":false,"type":"object","properties":{"___min":{"type":"number"},"___name":{"type":"string"},"___element":{"$ref":"#\/refs\/element"},"___debounce":{"type":"number"},"___step":{"type":"number"},"___max":{"type":"number"},"___input":{"enum":["range"]}},"required":["input"]},{"additionalProperties":true,"type":"object","properties":{"___name":{"type":"string"},"___element":{"$ref":"#\/refs\/element"},"___debounce":{"type":"number"},"___input":{"not":{"enum":["checkbox","radio","range","select"]}}}}]}},"___value":{},"___update":{"$eref":{"title":"Expression String","type":"string"}}},"required":["name"]},"geopathTransform":{"additionalProperties":false,"type":"object","properties":{"___projection":{"type":"string"},"___field":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___type":{"enum":["geopath"]},"___as":{"default":"path","anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___pointRadius":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}}]},"___signal":{"type":"string"}},"required":["type"]},"projectTransform":{"additionalProperties":false,"type":"object","properties":{"___fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___type":{"enum":["project"]},"___as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"type":"null"}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___signal":{"type":"string"}},"required":["type"]},"sampleTransform":{"additionalProperties":false,"type":"object","properties":{"___type":{"enum":["sample"]},"___size":{"default":1000,"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___signal":{"type":"string"}},"required":["type"]},"onEvents":{"type":"array","items":{"allOf":[{"type":"object","properties":{"___force":{"type":"boolean"},"___events":{"oneOf":[{"$eref":{"title":"Event Selector String","type":"string"}},{"$eref":{"oneOf":[{"$ref":"#\/refs\/signal"},{"type":"object","properties":{"___scale":{"type":"string"}},"required":["scale"]},{"$ref":"#\/defs\/stream"}]}},{"minItems":1,"type":"array","items":{"$eref":{"oneOf":[{"$ref":"#\/refs\/signal"},{"type":"object","properties":{"___scale":{"type":"string"}},"required":["scale"]},{"$ref":"#\/defs\/stream"}]}}}]}},"required":["events"]},{"oneOf":[{"type":"object","properties":{"___encode":{"type":"string"}},"required":["encode"]},{"type":"object","properties":{"___update":{"oneOf":[{"$eref":{"title":"Expression String","type":"string"}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"type":"object","properties":{"___value":{}},"required":["value"]}]}},"required":["update"]}]}]}},"forceTransform":{"additionalProperties":false,"type":"object","properties":{"___restart":{"anyOf":[{"type":"boolean"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___forces":{"type":"array","items":{"oneOf":[{"additionalProperties":false,"type":"object","properties":{"___force":{"enum":["center"]},"___x":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___y":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},"required":["force"]},{"additionalProperties":false,"type":"object","properties":{"___force":{"enum":["collide"]},"___radius":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}}]},"___iterations":{"default":1,"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___strength":{"default":0.7,"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},"required":["force"]},{"additionalProperties":false,"type":"object","properties":{"___theta":{"default":0.9,"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___force":{"enum":["nbody"]},"___distanceMin":{"default":1,"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___distanceMax":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___strength":{"default":-30,"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},"required":["force"]},{"additionalProperties":false,"type":"object","properties":{"___force":{"enum":["link"]},"___distance":{"default":30,"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}}]},"___links":{"type":"string"},"___iterations":{"default":1,"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___strength":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}}]},"___id":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]}},"required":["force"]},{"additionalProperties":false,"type":"object","properties":{"___force":{"enum":["x"]},"___x":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___strength":{"default":0.1,"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},"required":["force"]},{"additionalProperties":false,"type":"object","properties":{"___force":{"enum":["y"]},"___y":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___strength":{"default":0.1,"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},"required":["force"]}]}},"___type":{"enum":["force"]},"___iterations":{"default":300,"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___as":{"default":["x","y","vx","vy"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___alphaTarget":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___velocityDecay":{"default":0.4,"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___alpha":{"default":1,"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___signal":{"type":"string"},"___alphaMin":{"default":0.001,"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___static":{"anyOf":[{"type":"boolean"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},"required":["type"]},"packTransform":{"additionalProperties":false,"type":"object","properties":{"___sort":{"$eref":{"oneOf":[{"type":"object","properties":{"___field":{"oneOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]},"___order":{"$ref":"#\/refs\/sortOrder"}}},{"type":"object","properties":{"___field":{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},"___order":{"type":"array","items":{"$ref":"#\/refs\/sortOrder"}}}}]}},"___field":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___radius":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___type":{"enum":["pack"]},"___padding":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___as":{"minItems":3,"maxItems":3,"default":["x","y","r","depth","children"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___size":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___signal":{"type":"string"}},"required":["type"]},"binTransform":{"additionalProperties":false,"type":"object","properties":{"___type":{"enum":["bin"]},"___base":{"default":10,"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___extent":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___nice":{"default":true,"anyOf":[{"type":"boolean"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___steps":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___name":{"anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___divide":{"default":[5,2],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___field":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___minstep":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___anchor":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___step":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___as":{"minItems":2,"maxItems":2,"default":["bin0","bin1"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___signal":{"type":"string"},"___maxbins":{"default":20,"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},"required":["type","field","extent"]},"onMarkTrigger":{"type":"array","items":{"type":"object","properties":{"___trigger":{"$eref":{"title":"Expression String","type":"string"}},"___modify":{"$eref":{"title":"Expression String","type":"string"}},"___values":{"$eref":{"title":"Expression String","type":"string"}}},"required":["trigger"]}},"streamParams":{"properties":{"___consume":{"type":"boolean"},"___marktype":{"type":"string"},"___between":{"minItems":2,"maxItems":2,"type":"array","items":{"$eref":{"allOf":[{"$ref":"#\/defs\/streamParams"},{"oneOf":[{"$ref":"#\/defs\/streamEvents"},{"type":"object","properties":{"___stream":{"$ref":"#\/defs\/stream"}},"required":["stream"]},{"type":"object","properties":{"___merge":{"minItems":1,"type":"array","items":{"$ref":"#\/defs\/stream"}}},"required":["merge"]}]}],"title":"Input event stream definition","type":"object"}}},"___debounce":{"type":"number"},"___markname":{"type":"string"},"___throttle":{"type":"number"},"___filter":{"oneOf":[{"$eref":{"title":"Expression String","type":"string"}},{"minItems":1,"type":"array","items":{"$eref":{"title":"Expression String","type":"string"}}}]}}},"geoshapeTransform":{"additionalProperties":false,"type":"object","properties":{"___projection":{"type":"string"},"___field":{"default":"datum","oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___type":{"enum":["geoshape"]},"___as":{"default":"shape","anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___pointRadius":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}}]},"___signal":{"type":"string"}},"required":["type"]},"lookupTransform":{"additionalProperties":false,"type":"object","properties":{"___fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___key":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___type":{"enum":["lookup"]},"___as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___values":{"oneOf":[{"type":"array","items":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___default":{},"___signal":{"type":"string"},"___from":{"type":"string"}},"required":["type","from","key","fields"]},"treeTransform":{"additionalProperties":false,"type":"object","properties":{"___sort":{"$eref":{"oneOf":[{"type":"object","properties":{"___field":{"oneOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]},"___order":{"$ref":"#\/refs\/sortOrder"}}},{"type":"object","properties":{"___field":{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},"___order":{"type":"array","items":{"$ref":"#\/refs\/sortOrder"}}}}]}},"___field":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___type":{"enum":["tree"]},"___as":{"minItems":4,"maxItems":4,"default":["x","y","depth","children"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___nodeSize":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___method":{"default":"tidy","anyOf":[{"enum":["tidy","cluster"]},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___size":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___signal":{"type":"string"}},"required":["type"]},"geopointTransform":{"additionalProperties":false,"type":"object","properties":{"___projection":{"type":"string"},"___fields":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___type":{"enum":["geopoint"]},"___as":{"minItems":2,"maxItems":2,"default":["x","y"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___signal":{"type":"string"}},"required":["type","projection","fields"]},"background":{"type":"string"},"joinaggregateTransform":{"additionalProperties":false,"type":"object","properties":{"___ops":{"oneOf":[{"type":"array","items":{"anyOf":[{"enum":["values","count","__count__","missing","valid","sum","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","argmin","argmax","min","max"]},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}},{"type":"null"}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___key":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___type":{"enum":["joinaggregate"]},"___as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"type":"null"}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___signal":{"type":"string"}},"required":["type"]},"aggregateTransform":{"additionalProperties":false,"type":"object","properties":{"___ops":{"oneOf":[{"type":"array","items":{"anyOf":[{"enum":["values","count","__count__","missing","valid","sum","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","argmin","argmax","min","max"]},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}},{"type":"null"}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___key":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___type":{"enum":["aggregate"]},"___cross":{"anyOf":[{"type":"boolean"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"type":"null"}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___drop":{"default":true,"anyOf":[{"type":"boolean"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___signal":{"type":"string"}},"required":["type"]},"crossfilterTransform":{"additionalProperties":false,"type":"object","properties":{"___fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___query":{"oneOf":[{"type":"array","items":{}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___type":{"enum":["crossfilter"]},"___signal":{"type":"string"}},"required":["type","fields","query"]},"scale":{"allOf":[{"properties":{"___name":{"type":"string"},"___domainMax":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"___domainMid":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"___type":{"default":"linear","type":"string"},"___domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___reverse":{"$eref":{"oneOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]}},"___round":{"$eref":{"oneOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]}},"___domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"string"},{"type":"number"},{"type":"boolean"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"oneOf":[{"additionalProperties":false,"type":"object","properties":{"___sort":{"oneOf":[{"type":"boolean"},{"additionalProperties":false,"type":"object","properties":{"___field":{"$ref":"#\/refs\/scaleField"},"___order":{"$ref":"#\/refs\/sortOrder"},"___op":{"$ref":"#\/refs\/scaleField"}}}]},"___field":{"$ref":"#\/refs\/scaleField"},"___data":{"type":"string"}},"required":["data","field"]},{"additionalProperties":false,"type":"object","properties":{"___sort":{"oneOf":[{"type":"boolean"},{"additionalProperties":false,"type":"object","properties":{"___order":{"$ref":"#\/refs\/sortOrder"},"___op":{"enum":["count"]}}}]},"___fields":{"minItems":1,"type":"array","items":{"$ref":"#\/refs\/scaleField"}},"___data":{"type":"string"}},"required":["data","fields"]},{"additionalProperties":false,"type":"object","properties":{"___sort":{"oneOf":[{"type":"boolean"},{"additionalProperties":false,"type":"object","properties":{"___order":{"$ref":"#\/refs\/sortOrder"},"___op":{"enum":["count"]}}}]},"___fields":{"minItems":1,"type":"array","items":{"oneOf":[{"additionalProperties":false,"type":"object","properties":{"___field":{"$ref":"#\/refs\/scaleField"},"___data":{"type":"string"}},"required":["data","field"]},{"type":"array","items":{"oneOf":[{"type":"string"},{"type":"number"},{"type":"boolean"}]}},{"$ref":"#\/refs\/signal"}]}}},"required":["fields"]}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___domainMin":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}}},"required":["name"]},{"oneOf":[{"properties":{"___type":{"enum":["ordinal"]},"___range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"additionalProperties":false,"type":"object","properties":{"___scheme":{"$eref":{"oneOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},"___count":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"___extent":{"oneOf":[{"type":"array","items":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"numItems":2},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},"required":["scheme"]},{"$eref":{"oneOf":[{"additionalProperties":false,"type":"object","properties":{"___sort":{"oneOf":[{"type":"boolean"},{"additionalProperties":false,"type":"object","properties":{"___field":{"$ref":"#\/refs\/scaleField"},"___order":{"$ref":"#\/refs\/sortOrder"},"___op":{"$ref":"#\/refs\/scaleField"}}}]},"___field":{"$ref":"#\/refs\/scaleField"},"___data":{"type":"string"}},"required":["data","field"]},{"additionalProperties":false,"type":"object","properties":{"___sort":{"oneOf":[{"type":"boolean"},{"additionalProperties":false,"type":"object","properties":{"___order":{"$ref":"#\/refs\/sortOrder"},"___op":{"enum":["count"]}}}]},"___fields":{"minItems":1,"type":"array","items":{"$ref":"#\/refs\/scaleField"}},"___data":{"type":"string"}},"required":["data","fields"]},{"additionalProperties":false,"type":"object","properties":{"___sort":{"oneOf":[{"type":"boolean"},{"additionalProperties":false,"type":"object","properties":{"___order":{"$ref":"#\/refs\/sortOrder"},"___op":{"enum":["count"]}}}]},"___fields":{"minItems":1,"type":"array","items":{"oneOf":[{"additionalProperties":false,"type":"object","properties":{"___field":{"$ref":"#\/refs\/scaleField"},"___data":{"type":"string"}},"required":["data","field"]},{"type":"array","items":{"oneOf":[{"type":"string"},{"type":"number"},{"type":"boolean"}]}},{"$ref":"#\/refs\/signal"}]}}},"required":["fields"]}]}}]}},"required":["type"]},{"properties":{"___align":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"___type":{"enum":["band"]},"___padding":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"___paddingOuter":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"___paddingInner":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"___range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"additionalProperties":false,"type":"object","properties":{"___step":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}}},"required":["step"]}]}},"required":["type"]},{"properties":{"___align":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"___type":{"enum":["point"]},"___padding":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"___paddingOuter":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"___range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"additionalProperties":false,"type":"object","properties":{"___step":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}}},"required":["step"]}]}},"required":["type"]},{"properties":{"___type":{"enum":["sequential"]},"___clamp":{"$eref":{"oneOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]}},"___range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"additionalProperties":false,"type":"object","properties":{"___scheme":{"$eref":{"oneOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},"___count":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"___extent":{"oneOf":[{"type":"array","items":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"numItems":2},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},"required":["scheme"]}]}},"required":["type","range"]},{"properties":{"___type":{"enum":["time","utc"]},"___padding":{"type":"number"},"___nice":{"oneOf":[{"type":"boolean"},{"type":"string","enum":["millisecond","second","minute","hour","day","week","month","year"]},{"type":"object","properties":{"___interval":{"oneOf":[{"type":"string","enum":["millisecond","second","minute","hour","day","week","month","year"]},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___step":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}}},"required":["interval"]},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___clamp":{"$eref":{"oneOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]}},"___range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"additionalProperties":false,"type":"object","properties":{"___scheme":{"$eref":{"oneOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},"___count":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"___extent":{"oneOf":[{"type":"array","items":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"numItems":2},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},"required":["scheme"]}]}},"required":["type"]},{"properties":{"___type":{"enum":["identity"]},"___nice":{"$eref":{"oneOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]}}},"required":["type"]},{"description":"Discretizing scales","properties":{"___type":{"enum":["quantile","quantize","threshold","bin-ordinal"]},"___nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___zero":{"$eref":{"oneOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]}},"___range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"additionalProperties":false,"type":"object","properties":{"___scheme":{"$eref":{"oneOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},"___count":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"___extent":{"oneOf":[{"type":"array","items":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"numItems":2},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},"required":["scheme"]}]}},"required":["type"]},{"not":{"properties":{"___type":{"enum":["ordinal","band","point","quantile","quantize","threshold","sequential","pow","log","time","utc","identity","bin-ordinal","bin-linear"]}},"required":["type"]},"description":"Default numeric scale","properties":{"___interpolate":{"$eref":{"oneOf":[{"type":"string"},{"$ref":"#\/refs\/signal"},{"type":"object","properties":{"___type":{"$ref":"#\/refs\/stringOrSignal"},"___gamma":{"$ref":"#\/refs\/numberOrSignal"}},"required":["type"]}]}},"___padding":{"type":"number"},"___nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___zero":{"$eref":{"oneOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]}},"___clamp":{"$eref":{"oneOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]}},"___range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"additionalProperties":false,"type":"object","properties":{"___scheme":{"$eref":{"oneOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},"___count":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"___extent":{"oneOf":[{"type":"array","items":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"numItems":2},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},"required":["scheme"]}]}}},{"properties":{"___interpolate":{"$eref":{"oneOf":[{"type":"string"},{"$ref":"#\/refs\/signal"},{"type":"object","properties":{"___type":{"$ref":"#\/refs\/stringOrSignal"},"___gamma":{"$ref":"#\/refs\/numberOrSignal"}},"required":["type"]}]}},"___type":{"enum":["log"]},"___padding":{"type":"number"},"___base":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"___nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___zero":{"$eref":{"oneOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]}},"___clamp":{"$eref":{"oneOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]}},"___range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"additionalProperties":false,"type":"object","properties":{"___scheme":{"$eref":{"oneOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},"___count":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"___extent":{"oneOf":[{"type":"array","items":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"numItems":2},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},"required":["scheme"]}]}},"required":["type"]},{"properties":{"___interpolate":{"$eref":{"oneOf":[{"type":"string"},{"$ref":"#\/refs\/signal"},{"type":"object","properties":{"___type":{"$ref":"#\/refs\/stringOrSignal"},"___gamma":{"$ref":"#\/refs\/numberOrSignal"}},"required":["type"]}]}},"___type":{"enum":["pow"]},"___padding":{"type":"number"},"___nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___zero":{"$eref":{"oneOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]}},"___exponent":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"___clamp":{"$eref":{"oneOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]}},"___range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"additionalProperties":false,"type":"object","properties":{"___scheme":{"$eref":{"oneOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},"___count":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"___extent":{"oneOf":[{"type":"array","items":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"numItems":2},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},"required":["scheme"]}]}},"required":["type"]},{"properties":{"___interpolate":{"$eref":{"oneOf":[{"type":"string"},{"$ref":"#\/refs\/signal"},{"type":"object","properties":{"___type":{"$ref":"#\/refs\/stringOrSignal"},"___gamma":{"$ref":"#\/refs\/numberOrSignal"}},"required":["type"]}]}},"___type":{"enum":["bin-linear"]},"___range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"additionalProperties":false,"type":"object","properties":{"___scheme":{"$eref":{"oneOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},"___count":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"___extent":{"oneOf":[{"type":"array","items":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"numItems":2},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},"required":["scheme"]}]}},"required":["type"]}]}],"title":"Scale mapping","type":"object"},"rule":{"type":"object","properties":{"___test":{"type":"string"}}},"title":{"oneOf":[{"type":"string"},{"additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___text":{"$eref":{"oneOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},"___orient":{"default":"top","enum":["none","left","right","top","bottom"]},"___anchor":{"default":"middle","enum":["start","middle","end"]},"___style":{"$eref":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]}},"___interactive":{"type":"boolean"},"___zindex":{"type":"number"},"___offset":{"oneOf":[{"type":"number"},{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}}]},"___encode":{"$eref":{"patternProperties":{"___^(?!interactive|name|style).+$":{"$ref":"#\/defs\/encodeEntry"}},"additionalProperties":false,"type":"object"}}},"required":["text"]}]},"linkpathTransform":{"additionalProperties":false,"type":"object","properties":{"___orient":{"default":"vertical","anyOf":[{"enum":["horizontal","vertical","radial"]},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___shape":{"default":"line","anyOf":[{"enum":["line","arc","curve","diagonal","orthogonal"]},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___type":{"enum":["linkpath"]},"___as":{"default":"path","anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___targetY":{"default":"target.y","oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___sourceX":{"default":"source.x","oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___signal":{"type":"string"},"___targetX":{"default":"target.x","oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___sourceY":{"default":"source.y","oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]}},"required":["type"]},"resolvefilterTransform":{"additionalProperties":false,"type":"object","properties":{"___ignore":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___type":{"enum":["resolvefilter"]},"___filter":{},"___signal":{"type":"string"}},"required":["type","ignore","filter"]},"streamEvents":{"properties":{"___type":{"type":"string"},"___source":{"type":"string"}},"required":["type"]},"geojsonTransform":{"additionalProperties":false,"type":"object","properties":{"___fields":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___type":{"enum":["geojson"]},"___geojson":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___signal":{"type":"string"}},"required":["type"]},"signalPush":{"additionalProperties":false,"type":"object","properties":{"___name":{"$eref":{"not":{"enum":["parent","datum","event","item"]},"type":"string"}},"___push":{"enum":["outer"]},"___description":{"type":"string"},"___on":{"$eref":{"type":"array","items":{"allOf":[{"type":"object","properties":{"___force":{"type":"boolean"},"___events":{"oneOf":[{"$ref":"#\/refs\/selector"},{"$ref":"#\/defs\/listener"},{"minItems":1,"type":"array","items":{"$ref":"#\/defs\/listener"}}]}},"required":["events"]},{"oneOf":[{"type":"object","properties":{"___encode":{"type":"string"}},"required":["encode"]},{"type":"object","properties":{"___update":{"oneOf":[{"$ref":"#\/refs\/exprString"},{"$ref":"#\/refs\/expr"},{"$ref":"#\/refs\/signal"},{"type":"object","properties":{"___value":{}},"required":["value"]}]}},"required":["update"]}]}]}}}},"required":["name","push"]},"transform":{"oneOf":[{"$eref":{"additionalProperties":false,"type":"object","properties":{"___ops":{"oneOf":[{"type":"array","items":{"anyOf":[{"enum":["values","count","__count__","missing","valid","sum","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","argmin","argmax","min","max"]},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"},{"type":"null"}]}},{"$ref":"#\/refs\/signal"}]},"___key":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]}},{"$ref":"#\/refs\/signal"}]},"___type":{"enum":["aggregate"]},"___cross":{"anyOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]},"___as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"},{"type":"null"}]}},{"$ref":"#\/refs\/signal"}]},"___drop":{"default":true,"anyOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___type":{"enum":["bin"]},"___base":{"default":10,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___extent":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___nice":{"default":true,"anyOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]},"___steps":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___name":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]},"___divide":{"default":[5,2],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___field":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___minstep":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___anchor":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___step":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___as":{"minItems":2,"maxItems":2,"default":["bin0","bin1"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"},"___maxbins":{"default":20,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"required":["type","field","extent"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___sort":{"$ref":"#\/refs\/compare"},"___type":{"enum":["collect"]},"___signal":{"type":"string"}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___type":{"enum":["countpattern"]},"___as":{"minItems":2,"maxItems":2,"default":["text","count"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___case":{"default":"mixed","anyOf":[{"enum":["upper","lower","mixed"]},{"$ref":"#\/refs\/signal"}]},"___stopwords":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"},"___pattern":{"default":"[\\w\"]+","anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},"required":["type","field"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___type":{"enum":["cross"]},"___as":{"minItems":2,"maxItems":2,"default":["a","b"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___filter":{"$ref":"#\/refs\/exprString"},"___signal":{"type":"string"}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___distribution":{"oneOf":[{"additionalProperties":false,"type":"object","properties":{"___stdev":{"default":1,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___function":{"enum":["normal"]},"___mean":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"required":["function"]},{"additionalProperties":false,"type":"object","properties":{"___min":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___function":{"enum":["uniform"]},"___max":{"default":1,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"required":["function"]},{"additionalProperties":false,"type":"object","properties":{"___field":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___bandwidth":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___function":{"enum":["kde"]},"___from":{"type":"string"}},"required":["function","field"]},{"additionalProperties":false,"type":"object","properties":{"___weights":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___function":{"enum":["mixture"]},"___distributions":{"oneOf":[{"type":"array","items":{}},{"$ref":"#\/refs\/signal"}]}},"required":["function"]}]},"___type":{"enum":["density"]},"___as":{"default":["value","density"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___extent":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___method":{"default":"pdf","anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"},"___steps":{"default":100,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___type":{"enum":["extent"]},"___signal":{"type":"string"}},"required":["type","field"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___expr":{"$ref":"#\/refs\/exprString"},"___type":{"enum":["filter"]},"___signal":{"type":"string"}},"required":["type","expr"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]}},{"$ref":"#\/refs\/signal"}]},"___type":{"enum":["flatten"]},"___as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"}},"required":["type","fields"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]}},{"$ref":"#\/refs\/signal"}]},"___type":{"enum":["fold"]},"___as":{"minItems":2,"maxItems":2,"default":["key","value"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"}},"required":["type","fields"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___expr":{"$ref":"#\/refs\/exprString"},"___type":{"enum":["formula"]},"___as":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]},"___initonly":{"anyOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"}},"required":["type","expr","as"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___key":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]}},{"$ref":"#\/refs\/signal"}]},"___type":{"enum":["impute"]},"___keyvals":{"oneOf":[{"type":"array","items":{}},{"$ref":"#\/refs\/signal"}]},"___value":{},"___method":{"default":"value","anyOf":[{"enum":["value","mean","median","max","min"]},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"}},"required":["type","field","key"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___ops":{"oneOf":[{"type":"array","items":{"anyOf":[{"enum":["values","count","__count__","missing","valid","sum","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","argmin","argmax","min","max"]},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"},{"type":"null"}]}},{"$ref":"#\/refs\/signal"}]},"___key":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]}},{"$ref":"#\/refs\/signal"}]},"___type":{"enum":["joinaggregate"]},"___as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"},{"type":"null"}]}},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]}},{"$ref":"#\/refs\/signal"}]},"___key":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___type":{"enum":["lookup"]},"___as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___values":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]}},{"$ref":"#\/refs\/signal"}]},"___default":{},"___signal":{"type":"string"},"___from":{"type":"string"}},"required":["type","from","key","fields"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___limit":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___key":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]}},{"$ref":"#\/refs\/signal"}]},"___type":{"enum":["pivot"]},"___op":{"default":"sum","anyOf":[{"enum":["values","count","__count__","missing","valid","sum","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","argmin","argmax","min","max"]},{"$ref":"#\/refs\/signal"}]},"___value":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___signal":{"type":"string"}},"required":["type","field","value"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]}},{"$ref":"#\/refs\/signal"}]},"___type":{"enum":["project"]},"___as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"},{"type":"null"}]}},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___type":{"enum":["sample"]},"___size":{"default":1000,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___type":{"enum":["sequence"]},"___start":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___step":{"default":1,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___stop":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"}},"required":["type","start","stop"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___ops":{"oneOf":[{"type":"array","items":{"anyOf":[{"enum":["row_number","rank","dense_rank","percent_rank","cume_dist","ntile","lag","lead","first_value","last_value","nth_value","values","count","__count__","missing","valid","sum","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","argmin","argmax","min","max"]},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___sort":{"$ref":"#\/refs\/compare"},"___frame":{"minItems":2,"maxItems":2,"default":[null,0],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"},{"type":"null"}]}},{"$ref":"#\/refs\/signal"}]},"___fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"},{"type":"null"}]}},{"$ref":"#\/refs\/signal"}]},"___groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]}},{"$ref":"#\/refs\/signal"}]},"___type":{"enum":["window"]},"___ignorePeers":{"anyOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]},"___as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"},{"type":"null"}]}},{"$ref":"#\/refs\/signal"}]},"___params":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"},{"type":"null"}]}},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___type":{"enum":["identifier"]},"___as":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"}},"required":["type","as"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___orient":{"default":"vertical","anyOf":[{"enum":["horizontal","vertical","radial"]},{"$ref":"#\/refs\/signal"}]},"___shape":{"default":"line","anyOf":[{"enum":["line","arc","curve","diagonal","orthogonal"]},{"$ref":"#\/refs\/signal"}]},"___type":{"enum":["linkpath"]},"___as":{"default":"path","anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]},"___targetY":{"default":"target.y","oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___sourceX":{"default":"source.x","oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___signal":{"type":"string"},"___targetX":{"default":"target.x","oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___sourceY":{"default":"source.y","oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___sort":{"anyOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]},"___field":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___endAngle":{"default":6.283185307179586,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___type":{"enum":["pie"]},"___as":{"minItems":2,"maxItems":2,"default":["startAngle","endAngle"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___startAngle":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___sort":{"$ref":"#\/refs\/compare"},"___field":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]}},{"$ref":"#\/refs\/signal"}]},"___type":{"enum":["stack"]},"___as":{"minItems":2,"maxItems":2,"default":["y0","y1"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"},"___offset":{"default":"zero","anyOf":[{"enum":["zero","center","normalize"]},{"$ref":"#\/refs\/signal"}]}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___cellSize":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___bandwidth":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___count":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___thresholds":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___type":{"enum":["contour"]},"___x":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___y":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___nice":{"anyOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]},"___values":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___smooth":{"anyOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]},"___size":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"}},"required":["type","size"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___fields":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]}},{"$ref":"#\/refs\/signal"}]},"___type":{"enum":["geojson"]},"___geojson":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___signal":{"type":"string"}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___projection":{"type":"string"},"___field":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___type":{"enum":["geopath"]},"___as":{"default":"path","anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]},"___pointRadius":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"},{"$ref":"#\/refs\/expr"},{"$ref":"#\/refs\/paramField"}]},"___signal":{"type":"string"}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___projection":{"type":"string"},"___fields":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]}},{"$ref":"#\/refs\/signal"}]},"___type":{"enum":["geopoint"]},"___as":{"minItems":2,"maxItems":2,"default":["x","y"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"}},"required":["type","projection","fields"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___projection":{"type":"string"},"___field":{"default":"datum","oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___type":{"enum":["geoshape"]},"___as":{"default":"shape","anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]},"___pointRadius":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"},{"$ref":"#\/refs\/expr"},{"$ref":"#\/refs\/paramField"}]},"___signal":{"type":"string"}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___extentMajor":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{}},{"$ref":"#\/refs\/signal"}]},"___extentMinor":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{}},{"$ref":"#\/refs\/signal"}]},"___type":{"enum":["graticule"]},"___step":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___extent":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{}},{"$ref":"#\/refs\/signal"}]},"___precision":{"default":2.5,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"},"___stepMajor":{"minItems":2,"maxItems":2,"default":[90,360],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___stepMinor":{"minItems":2,"maxItems":2,"default":[10,10],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___restart":{"anyOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]},"___forces":{"type":"array","items":{"oneOf":[{"additionalProperties":false,"type":"object","properties":{"___force":{"enum":["center"]},"___x":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___y":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"required":["force"]},{"additionalProperties":false,"type":"object","properties":{"___force":{"enum":["collide"]},"___radius":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"},{"$ref":"#\/refs\/expr"},{"$ref":"#\/refs\/paramField"}]},"___iterations":{"default":1,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___strength":{"default":0.7,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"required":["force"]},{"additionalProperties":false,"type":"object","properties":{"___theta":{"default":0.9,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___force":{"enum":["nbody"]},"___distanceMin":{"default":1,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___distanceMax":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___strength":{"default":-30,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"required":["force"]},{"additionalProperties":false,"type":"object","properties":{"___force":{"enum":["link"]},"___distance":{"default":30,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"},{"$ref":"#\/refs\/expr"},{"$ref":"#\/refs\/paramField"}]},"___links":{"type":"string"},"___iterations":{"default":1,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___strength":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"},{"$ref":"#\/refs\/expr"},{"$ref":"#\/refs\/paramField"}]},"___id":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]}},"required":["force"]},{"additionalProperties":false,"type":"object","properties":{"___force":{"enum":["x"]},"___x":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___strength":{"default":0.1,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"required":["force"]},{"additionalProperties":false,"type":"object","properties":{"___force":{"enum":["y"]},"___y":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___strength":{"default":0.1,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"required":["force"]}]}},"___type":{"enum":["force"]},"___iterations":{"default":300,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___as":{"default":["x","y","vx","vy"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___alphaTarget":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___velocityDecay":{"default":0.4,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___alpha":{"default":1,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"},"___alphaMin":{"default":0.001,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___static":{"anyOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___key":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___type":{"enum":["nest"]},"___generate":{"anyOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]},"___keys":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]}},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___sort":{"$ref":"#\/refs\/compare"},"___field":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___radius":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___type":{"enum":["pack"]},"___padding":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___as":{"minItems":3,"maxItems":3,"default":["x","y","r","depth","children"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___size":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___sort":{"$ref":"#\/refs\/compare"},"___field":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___type":{"enum":["partition"]},"___padding":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___as":{"minItems":4,"maxItems":4,"default":["x0","y0","x1","y1","depth","children"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___round":{"anyOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]},"___size":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___key":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___type":{"enum":["stratify"]},"___parentKey":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___signal":{"type":"string"}},"required":["type","key","parentKey"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___sort":{"$ref":"#\/refs\/compare"},"___field":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___type":{"enum":["tree"]},"___as":{"minItems":4,"maxItems":4,"default":["x","y","depth","children"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___nodeSize":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___method":{"default":"tidy","anyOf":[{"enum":["tidy","cluster"]},{"$ref":"#\/refs\/signal"}]},"___size":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___key":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___type":{"enum":["treelinks"]},"___signal":{"type":"string"}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___sort":{"$ref":"#\/refs\/compare"},"___type":{"enum":["treemap"]},"___paddingLeft":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___paddingOuter":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___method":{"default":"squarify","anyOf":[{"enum":["squarify","resquarify","binary","dice","slice","slicedice"]},{"$ref":"#\/refs\/signal"}]},"___paddingTop":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___paddingRight":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___paddingInner":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___field":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___padding":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___paddingBottom":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___as":{"minItems":4,"maxItems":4,"default":["x0","y0","x1","y1","depth","children"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___round":{"anyOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]},"___ratio":{"default":1.618033988749895,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___size":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___type":{"enum":["voronoi"]},"___x":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___as":{"default":"path","anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]},"___extent":{"minItems":2,"maxItems":2,"default":[[-100000,-100000],[100000,100000]],"oneOf":[{"type":"array","items":{}},{"$ref":"#\/refs\/signal"}]},"___y":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___size":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"}},"required":["type","x","y"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___fontSize":{"default":14,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"},{"$ref":"#\/refs\/expr"},{"$ref":"#\/refs\/paramField"}]},"___type":{"enum":["wordcloud"]},"___fontWeight":{"default":"normal","anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"},{"$ref":"#\/refs\/expr"},{"$ref":"#\/refs\/paramField"}]},"___rotate":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"},{"$ref":"#\/refs\/expr"},{"$ref":"#\/refs\/paramField"}]},"___spiral":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]},"___text":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___padding":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"},{"$ref":"#\/refs\/expr"},{"$ref":"#\/refs\/paramField"}]},"___as":{"minItems":7,"maxItems":7,"default":["x","y","font","fontSize","fontStyle","fontWeight","angle"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___fontStyle":{"default":"normal","anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"},{"$ref":"#\/refs\/expr"},{"$ref":"#\/refs\/paramField"}]},"___font":{"default":"sans-serif","anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"},{"$ref":"#\/refs\/expr"},{"$ref":"#\/refs\/paramField"}]},"___size":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"},"___fontSizeRange":{"default":[10,50],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"},{"type":"null"}]}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]}},{"$ref":"#\/refs\/signal"}]},"___query":{"oneOf":[{"type":"array","items":{}},{"$ref":"#\/refs\/signal"}]},"___type":{"enum":["crossfilter"]},"___signal":{"type":"string"}},"required":["type","fields","query"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___ignore":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___type":{"enum":["resolvefilter"]},"___filter":{},"___signal":{"type":"string"}},"required":["type","ignore","filter"]}}]},"stream":{"allOf":[{"$eref":{"properties":{"___consume":{"type":"boolean"},"___marktype":{"type":"string"},"___between":{"minItems":2,"maxItems":2,"type":"array","items":{"$ref":"#\/defs\/stream"}},"___debounce":{"type":"number"},"___markname":{"type":"string"},"___throttle":{"type":"number"},"___filter":{"oneOf":[{"$ref":"#\/refs\/exprString"},{"minItems":1,"type":"array","items":{"$ref":"#\/refs\/exprString"}}]}}}},{"oneOf":[{"$eref":{"properties":{"___type":{"type":"string"},"___source":{"type":"string"}},"required":["type"]}},{"type":"object","properties":{"___stream":{"$eref":{"allOf":[{"$ref":"#\/defs\/streamParams"},{"oneOf":[{"$ref":"#\/defs\/streamEvents"},{"type":"object","properties":{"___stream":{"$ref":"#\/defs\/stream"}},"required":["stream"]},{"type":"object","properties":{"___merge":{"minItems":1,"type":"array","items":{"$ref":"#\/defs\/stream"}}},"required":["merge"]}]}],"title":"Input event stream definition","type":"object"}}},"required":["stream"]},{"type":"object","properties":{"___merge":{"minItems":1,"type":"array","items":{"$eref":{"allOf":[{"$ref":"#\/defs\/streamParams"},{"oneOf":[{"$ref":"#\/defs\/streamEvents"},{"type":"object","properties":{"___stream":{"$ref":"#\/defs\/stream"}},"required":["stream"]},{"type":"object","properties":{"___merge":{"minItems":1,"type":"array","items":{"$ref":"#\/defs\/stream"}}},"required":["merge"]}]}],"title":"Input event stream definition","type":"object"}}}},"required":["merge"]}]}],"title":"Input event stream definition","type":"object"},"scope":{"type":"object","properties":{"___axes":{"type":"array","items":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___orient":{"enum":["top","bottom","left","right"]},"___labelPadding":{"type":"number"},"___gridScale":{"type":"string"},"___title":{"$ref":"#\/refs\/stringOrSignal"},"___tickSize":{"type":"number"},"___values":{"oneOf":[{"type":"array"},{"$ref":"#\/refs\/signal"}]},"___labels":{"type":"boolean"},"___offset":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/numberValue"}]},"___labelOverlap":{"oneOf":[{"type":"boolean"},{"type":"string","enum":["parity","greedy"]}]},"___encode":{"additionalProperties":false,"type":"object","properties":{"___grid":{"$ref":"#\/defs\/guideEncode"},"___axis":{"$ref":"#\/defs\/guideEncode"},"___ticks":{"$ref":"#\/defs\/guideEncode"},"___title":{"$ref":"#\/defs\/guideEncode"},"___domain":{"$ref":"#\/defs\/guideEncode"},"___labels":{"$ref":"#\/defs\/guideEncode"}}},"___grid":{"type":"boolean"},"___format":{"$ref":"#\/refs\/stringOrSignal"},"___titlePadding":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/numberValue"}]},"___maxExtent":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/numberValue"}]},"___scale":{"type":"string"},"___labelFlushOffset":{"type":"number"},"___labelBound":{"oneOf":[{"type":"boolean"},{"type":"number"}]},"___zindex":{"type":"number"},"___ticks":{"type":"boolean"},"___labelFlush":{"oneOf":[{"type":"boolean"},{"type":"number"}]},"___minExtent":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/numberValue"}]},"___domain":{"type":"boolean"},"___tickCount":{"$ref":"#\/refs\/tickCount"},"___position":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/numberValue"}]}},"required":["orient","scale"]}}},"___signals":{"type":"array","items":{"$eref":{"oneOf":[{"$ref":"#\/defs\/signalPush"},{"$ref":"#\/defs\/signalNew"}]}}},"___layout":{"$eref":{"oneOf":[{"type":"object","properties":{"___headerBand":{"oneOf":[{"$ref":"#\/refs\/numberOrSignal"},{"type":"null"},{"additionalProperties":false,"type":"object","properties":{"___column":{"$ref":"#\/refs\/numberOrSignal"},"___row":{"$ref":"#\/refs\/numberOrSignal"}}}]},"___footerBand":{"oneOf":[{"$ref":"#\/refs\/numberOrSignal"},{"type":"null"},{"additionalProperties":false,"type":"object","properties":{"___column":{"$ref":"#\/refs\/numberOrSignal"},"___row":{"$ref":"#\/refs\/numberOrSignal"}}}]},"___align":{"oneOf":[{"oneOf":[{"enum":["all","each","none"]},{"$ref":"#\/refs\/signal"}]},{"additionalProperties":false,"type":"object","properties":{"___column":{"oneOf":[{"enum":["all","each","none"]},{"$ref":"#\/refs\/signal"}]},"___row":{"oneOf":[{"enum":["all","each","none"]},{"$ref":"#\/refs\/signal"}]}}}]},"___padding":{"oneOf":[{"$ref":"#\/refs\/numberOrSignal"},{"additionalProperties":false,"type":"object","properties":{"___column":{"$ref":"#\/refs\/numberOrSignal"},"___row":{"$ref":"#\/refs\/numberOrSignal"}}}]},"___bounds":{"oneOf":[{"enum":["full","flush"]},{"$ref":"#\/refs\/signal"}]},"___titleBand":{"oneOf":[{"$ref":"#\/refs\/numberOrSignal"},{"type":"null"},{"additionalProperties":false,"type":"object","properties":{"___column":{"$ref":"#\/refs\/numberOrSignal"},"___row":{"$ref":"#\/refs\/numberOrSignal"}}}]},"___offset":{"oneOf":[{"$ref":"#\/refs\/numberOrSignal"},{"additionalProperties":false,"type":"object","properties":{"___rowFooter":{"$ref":"#\/refs\/numberOrSignal"},"___columnFooter":{"$ref":"#\/refs\/numberOrSignal"},"___columnTitle":{"$ref":"#\/refs\/numberOrSignal"},"___columnHeader":{"$ref":"#\/refs\/numberOrSignal"},"___rowTitle":{"$ref":"#\/refs\/numberOrSignal"},"___rowHeader":{"$ref":"#\/refs\/numberOrSignal"}}}]},"___columns":{"$ref":"#\/refs\/numberOrSignal"}}},{"$ref":"#\/refs\/signal"}]}},"___title":{"$eref":{"oneOf":[{"type":"string"},{"additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___text":{"$ref":"#\/refs\/stringOrSignal"},"___orient":{"default":"top","enum":["none","left","right","top","bottom"]},"___anchor":{"default":"middle","enum":["start","middle","end"]},"___style":{"$ref":"#\/refs\/style"},"___interactive":{"type":"boolean"},"___zindex":{"type":"number"},"___offset":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/numberValue"}]},"___encode":{"$ref":"#\/defs\/titleEncode"}},"required":["text"]}]}},"___scales":{"type":"array","items":{"$eref":{"allOf":[{"properties":{"___name":{"type":"string"},"___domainMax":{"$ref":"#\/refs\/numberOrSignal"},"___domainMid":{"$ref":"#\/refs\/numberOrSignal"},"___type":{"default":"linear","type":"string"},"___domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#\/refs\/signal"}]},"___reverse":{"$ref":"#\/refs\/booleanOrSignal"},"___round":{"$ref":"#\/refs\/booleanOrSignal"},"___domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"string"},{"type":"number"},{"type":"boolean"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/scaleData"},{"$ref":"#\/refs\/signal"}]},"___domainMin":{"$ref":"#\/refs\/numberOrSignal"}},"required":["name"]},{"oneOf":[{"properties":{"___type":{"enum":["ordinal"]},"___range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___scheme":{"$ref":"#\/refs\/stringOrSignal"},"___count":{"$ref":"#\/refs\/numberOrSignal"},"___extent":{"oneOf":[{"type":"array","items":{"$ref":"#\/refs\/numberOrSignal"},"numItems":2},{"$ref":"#\/refs\/signal"}]}},"required":["scheme"]},{"$ref":"#\/refs\/scaleData"}]}},"required":["type"]},{"properties":{"___align":{"$ref":"#\/refs\/numberOrSignal"},"___type":{"enum":["band"]},"___padding":{"$ref":"#\/refs\/numberOrSignal"},"___paddingOuter":{"$ref":"#\/refs\/numberOrSignal"},"___paddingInner":{"$ref":"#\/refs\/numberOrSignal"},"___range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___step":{"$ref":"#\/refs\/numberOrSignal"}},"required":["step"]}]}},"required":["type"]},{"properties":{"___align":{"$ref":"#\/refs\/numberOrSignal"},"___type":{"enum":["point"]},"___padding":{"$ref":"#\/refs\/numberOrSignal"},"___paddingOuter":{"$ref":"#\/refs\/numberOrSignal"},"___range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___step":{"$ref":"#\/refs\/numberOrSignal"}},"required":["step"]}]}},"required":["type"]},{"properties":{"___type":{"enum":["sequential"]},"___clamp":{"$ref":"#\/refs\/booleanOrSignal"},"___range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___scheme":{"$ref":"#\/refs\/stringOrSignal"},"___count":{"$ref":"#\/refs\/numberOrSignal"},"___extent":{"oneOf":[{"type":"array","items":{"$ref":"#\/refs\/numberOrSignal"},"numItems":2},{"$ref":"#\/refs\/signal"}]}},"required":["scheme"]}]}},"required":["type","range"]},{"properties":{"___type":{"enum":["time","utc"]},"___padding":{"type":"number"},"___nice":{"oneOf":[{"type":"boolean"},{"type":"string","enum":["millisecond","second","minute","hour","day","week","month","year"]},{"type":"object","properties":{"___interval":{"oneOf":[{"type":"string","enum":["millisecond","second","minute","hour","day","week","month","year"]},{"$ref":"#\/refs\/signal"}]},"___step":{"$ref":"#\/refs\/numberOrSignal"}},"required":["interval"]},{"$ref":"#\/refs\/signal"}]},"___clamp":{"$ref":"#\/refs\/booleanOrSignal"},"___range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___scheme":{"$ref":"#\/refs\/stringOrSignal"},"___count":{"$ref":"#\/refs\/numberOrSignal"},"___extent":{"oneOf":[{"type":"array","items":{"$ref":"#\/refs\/numberOrSignal"},"numItems":2},{"$ref":"#\/refs\/signal"}]}},"required":["scheme"]}]}},"required":["type"]},{"properties":{"___type":{"enum":["identity"]},"___nice":{"$ref":"#\/refs\/booleanOrSignal"}},"required":["type"]},{"description":"Discretizing scales","properties":{"___type":{"enum":["quantile","quantize","threshold","bin-ordinal"]},"___nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___zero":{"$ref":"#\/refs\/booleanOrSignal"},"___range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___scheme":{"$ref":"#\/refs\/stringOrSignal"},"___count":{"$ref":"#\/refs\/numberOrSignal"},"___extent":{"oneOf":[{"type":"array","items":{"$ref":"#\/refs\/numberOrSignal"},"numItems":2},{"$ref":"#\/refs\/signal"}]}},"required":["scheme"]}]}},"required":["type"]},{"not":{"properties":{"___type":{"enum":["ordinal","band","point","quantile","quantize","threshold","sequential","pow","log","time","utc","identity","bin-ordinal","bin-linear"]}},"required":["type"]},"description":"Default numeric scale","properties":{"___interpolate":{"$ref":"#\/refs\/scaleInterpolate"},"___padding":{"type":"number"},"___nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___zero":{"$ref":"#\/refs\/booleanOrSignal"},"___clamp":{"$ref":"#\/refs\/booleanOrSignal"},"___range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___scheme":{"$ref":"#\/refs\/stringOrSignal"},"___count":{"$ref":"#\/refs\/numberOrSignal"},"___extent":{"oneOf":[{"type":"array","items":{"$ref":"#\/refs\/numberOrSignal"},"numItems":2},{"$ref":"#\/refs\/signal"}]}},"required":["scheme"]}]}}},{"properties":{"___interpolate":{"$ref":"#\/refs\/scaleInterpolate"},"___type":{"enum":["log"]},"___padding":{"type":"number"},"___base":{"$ref":"#\/refs\/numberOrSignal"},"___nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___zero":{"$ref":"#\/refs\/booleanOrSignal"},"___clamp":{"$ref":"#\/refs\/booleanOrSignal"},"___range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___scheme":{"$ref":"#\/refs\/stringOrSignal"},"___count":{"$ref":"#\/refs\/numberOrSignal"},"___extent":{"oneOf":[{"type":"array","items":{"$ref":"#\/refs\/numberOrSignal"},"numItems":2},{"$ref":"#\/refs\/signal"}]}},"required":["scheme"]}]}},"required":["type"]},{"properties":{"___interpolate":{"$ref":"#\/refs\/scaleInterpolate"},"___type":{"enum":["pow"]},"___padding":{"type":"number"},"___nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___zero":{"$ref":"#\/refs\/booleanOrSignal"},"___exponent":{"$ref":"#\/refs\/numberOrSignal"},"___clamp":{"$ref":"#\/refs\/booleanOrSignal"},"___range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___scheme":{"$ref":"#\/refs\/stringOrSignal"},"___count":{"$ref":"#\/refs\/numberOrSignal"},"___extent":{"oneOf":[{"type":"array","items":{"$ref":"#\/refs\/numberOrSignal"},"numItems":2},{"$ref":"#\/refs\/signal"}]}},"required":["scheme"]}]}},"required":["type"]},{"properties":{"___interpolate":{"$ref":"#\/refs\/scaleInterpolate"},"___type":{"enum":["bin-linear"]},"___range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___scheme":{"$ref":"#\/refs\/stringOrSignal"},"___count":{"$ref":"#\/refs\/numberOrSignal"},"___extent":{"oneOf":[{"type":"array","items":{"$ref":"#\/refs\/numberOrSignal"},"numItems":2},{"$ref":"#\/refs\/signal"}]}},"required":["scheme"]}]}},"required":["type"]}]}],"title":"Scale mapping","type":"object"}}},"___projections":{"type":"array","items":{"$eref":{"additionalProperties":true,"type":"object","properties":{"___translate":{"oneOf":[{"$ref":"#\/refs\/signal"},{"minItems":2,"maxItems":2,"type":"array","items":{"$ref":"#\/refs\/numberOrSignal"}}]},"___center":{"oneOf":[{"$ref":"#\/refs\/signal"},{"minItems":2,"maxItems":2,"type":"array","items":{"$ref":"#\/refs\/numberOrSignal"}}]},"___type":{"$ref":"#\/refs\/stringOrSignal"},"___rotate":{"oneOf":[{"$ref":"#\/refs\/signal"},{"minItems":2,"maxItems":3,"type":"array","items":{"$ref":"#\/refs\/numberOrSignal"}}]},"___extent":{"oneOf":[{"$ref":"#\/refs\/signal"},{"minItems":2,"maxItems":2,"type":"array","items":{"oneOf":[{"$ref":"#\/refs\/signal"},{"minItems":2,"maxItems":2,"type":"array","items":{"$ref":"#\/refs\/numberOrSignal"}}]}}]},"___clipExtent":{"oneOf":[{"$ref":"#\/refs\/signal"},{"type":"array","items":{"oneOf":[{"$ref":"#\/refs\/signal"},{"minItems":2,"maxItems":2,"type":"array","items":{"$ref":"#\/refs\/numberOrSignal"}}]}}]},"___name":{"type":"string"},"___fit":{"oneOf":[{"type":"object"},{"type":"array"}]},"___parallels":{"oneOf":[{"$ref":"#\/refs\/signal"},{"minItems":2,"maxItems":2,"type":"array","items":{"$ref":"#\/refs\/numberOrSignal"}}]},"___clipAngle":{"$ref":"#\/refs\/numberOrSignal"},"___scale":{"$ref":"#\/refs\/numberOrSignal"},"___precision":{"$ref":"#\/refs\/numberOrSignal"},"___pointRadius":{"$ref":"#\/refs\/numberOrSignal"},"___size":{"oneOf":[{"$ref":"#\/refs\/signal"},{"minItems":2,"maxItems":2,"type":"array","items":{"$ref":"#\/refs\/numberOrSignal"}}]}},"required":["name"]}}},"___legends":{"type":"array","items":{"$eref":{"anyOf":[{"required":["size"]},{"required":["shape"]},{"required":["fill"]},{"required":["stroke"]},{"required":["opacity"]},{"required":["strokeDash"]}],"additionalProperties":false,"type":"object","properties":{"___opacity":{"type":"string"},"___orient":{"default":"right","enum":["none","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]},"___shape":{"type":"string"},"___strokeDash":{"type":"string"},"___type":{"default":"symbol","enum":["gradient","symbol"]},"___title":{"$ref":"#\/refs\/stringOrSignal"},"___values":{"oneOf":[{"type":"array"},{"$ref":"#\/refs\/signal"}]},"___stroke":{"type":"string"},"___offset":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/numberValue"}]},"___encode":{"additionalProperties":false,"type":"object","properties":{"___gradient":{"$ref":"#\/defs\/guideEncode"},"___legend":{"$ref":"#\/defs\/guideEncode"},"___symbols":{"$ref":"#\/defs\/guideEncode"},"___title":{"$ref":"#\/defs\/guideEncode"},"___labels":{"$ref":"#\/defs\/guideEncode"}}},"___format":{"$ref":"#\/refs\/stringOrSignal"},"___entryPadding":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/numberValue"}]},"___titlePadding":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/numberValue"}]},"___padding":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/numberValue"}]},"___fill":{"type":"string"},"___zindex":{"type":"number"},"___size":{"type":"string"},"___tickCount":{"$ref":"#\/refs\/tickCount"}}}}},"___marks":{"type":"array","items":{"oneOf":[{"$eref":{"allOf":[{"properties":{"___type":{"enum":["group"]}},"required":["type"]},{"$ref":"#\/defs\/mark"},{"$ref":"#\/defs\/scope"},{"type":"object","properties":{"___from":{"oneOf":[{"$ref":"#\/refs\/from"},{"$ref":"#\/refs\/facet"}]}}}]}},{"$eref":{"allOf":[{"not":{"properties":{"___type":{"enum":["group"]}}}},{"$ref":"#\/defs\/mark"},{"type":"object","properties":{"___from":{"$ref":"#\/refs\/from"}}}]}}]}},"___encode":{"$eref":{"patternProperties":{"___^.+$":{"$ref":"#\/defs\/encodeEntry"}},"additionalProperties":false,"type":"object"}},"___data":{"type":"array","items":{"$eref":{"allOf":[{"properties":{"___name":{"type":"string"},"___transform":{"type":"array","items":{"$ref":"#\/defs\/transform"}},"___on":{"$ref":"#\/defs\/onTrigger"}},"required":["name"]},{"anyOf":[{"required":["name"]},{"oneOf":[{"properties":{"___source":{"oneOf":[{"type":"string"},{"minItems":1,"type":"array","items":{"type":"string"}}]}},"required":["source"]},{"properties":{"___format":{"$ref":"#\/defs\/dataFormat"},"___values":{"type":"array"}},"required":["values"]},{"properties":{"___format":{"$ref":"#\/defs\/dataFormat"},"___url":{"type":"string"}},"required":["url"]}]}]}],"title":"Input data set definition","type":"object"}}}}},"encodeEntry":{"additionalProperties":true,"title":"Mark encode property set","type":"object","properties":{"___opacity":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___orient":{"oneOf":[{"type":"array","items":{"allOf":[{"$eref":{"type":"object","properties":{"___test":{"type":"string"}}}},{"allOf":[{"$eref":{"properties":{"___scale":{"$ref":"#\/refs\/scale"}}}},{"anyOf":[{"oneOf":[{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"properties":{"___value":{"enum":["horizontal","vertical"]}},"required":["value"]},{"properties":{"___field":{"$eref":{"oneOf":[{"type":"string"},{"oneOf":[{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___datum":{"$ref":"#\/refs\/field"}},"required":["datum"]},{"additionalProperties":false,"type":"object","properties":{"___level":{"type":"number"},"___group":{"$ref":"#\/refs\/field"}},"required":["group"]},{"additionalProperties":false,"type":"object","properties":{"___parent":{"$ref":"#\/refs\/field"},"___level":{"type":"number"}},"required":["parent"]}]}],"title":"FieldRef"}}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$eref":{"properties":{"___scale":{"$ref":"#\/refs\/scale"}}}},{"anyOf":[{"oneOf":[{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"properties":{"___value":{"enum":["horizontal","vertical"]}},"required":["value"]},{"properties":{"___field":{"$eref":{"oneOf":[{"type":"string"},{"oneOf":[{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___datum":{"$ref":"#\/refs\/field"}},"required":["datum"]},{"additionalProperties":false,"type":"object","properties":{"___level":{"type":"number"},"___group":{"$ref":"#\/refs\/field"}},"required":["group"]},{"additionalProperties":false,"type":"object","properties":{"___parent":{"$ref":"#\/refs\/field"},"___level":{"type":"number"}},"required":["parent"]}]}],"title":"FieldRef"}}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]},"___endAngle":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___align":{"oneOf":[{"type":"array","items":{"allOf":[{"$eref":{"type":"object","properties":{"___test":{"type":"string"}}}},{"allOf":[{"$eref":{"properties":{"___scale":{"$ref":"#\/refs\/scale"}}}},{"anyOf":[{"oneOf":[{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"properties":{"___value":{"enum":["left","right","center"]}},"required":["value"]},{"properties":{"___field":{"$eref":{"oneOf":[{"type":"string"},{"oneOf":[{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___datum":{"$ref":"#\/refs\/field"}},"required":["datum"]},{"additionalProperties":false,"type":"object","properties":{"___level":{"type":"number"},"___group":{"$ref":"#\/refs\/field"}},"required":["group"]},{"additionalProperties":false,"type":"object","properties":{"___parent":{"$ref":"#\/refs\/field"},"___level":{"type":"number"}},"required":["parent"]}]}],"title":"FieldRef"}}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$eref":{"properties":{"___scale":{"$ref":"#\/refs\/scale"}}}},{"anyOf":[{"oneOf":[{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"properties":{"___value":{"enum":["left","right","center"]}},"required":["value"]},{"properties":{"___field":{"$eref":{"oneOf":[{"type":"string"},{"oneOf":[{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___datum":{"$ref":"#\/refs\/field"}},"required":["datum"]},{"additionalProperties":false,"type":"object","properties":{"___level":{"type":"number"},"___group":{"$ref":"#\/refs\/field"}},"required":["group"]},{"additionalProperties":false,"type":"object","properties":{"___parent":{"$ref":"#\/refs\/field"},"___level":{"type":"number"}},"required":["parent"]}]}],"title":"FieldRef"}}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]},"___innerRadius":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___fontWeight":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___strokeWidth":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___stroke":{"$eref":{"oneOf":[{"$ref":"#\/refs\/nullableStringValue"},{"additionalProperties":false,"type":"object","properties":{"___gradient":{"$ref":"#\/refs\/scale"}},"required":["gradient"]},{"additionalProperties":false,"type":"object","properties":{"___color":{"oneOf":[{"$ref":"#\/refs\/colorRGB"},{"$ref":"#\/refs\/colorHSL"},{"$ref":"#\/refs\/colorLAB"},{"$ref":"#\/refs\/colorHCL"}]}},"required":["color"]}],"title":"ColorRef"}},"___xc":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___fillOpacity":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___theta":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___text":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"string"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"string"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___angle":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___strokeOpacity":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___ellipsis":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"string"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"string"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___url":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"string"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"string"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___tension":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___fontStyle":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"string"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"string"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___x2":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___path":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"string"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"string"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___fontSize":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___interpolate":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"string"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"string"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___radius":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___limit":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___shape":{"anyOf":[{"type":"string"},{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"string"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"string"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}}]},"___strokeDash":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"array"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"array"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___outerRadius":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___startAngle":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___dir":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"string"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"string"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___yc":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___cursor":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"string"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"string"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___dy":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___dx":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___x":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___fill":{"$eref":{"oneOf":[{"$ref":"#\/refs\/nullableStringValue"},{"additionalProperties":false,"type":"object","properties":{"___gradient":{"$ref":"#\/refs\/scale"}},"required":["gradient"]},{"additionalProperties":false,"type":"object","properties":{"___color":{"oneOf":[{"$ref":"#\/refs\/colorRGB"},{"$ref":"#\/refs\/colorHSL"},{"$ref":"#\/refs\/colorLAB"},{"$ref":"#\/refs\/colorHCL"}]}},"required":["color"]}],"title":"ColorRef"}},"___y":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___baseline":{"oneOf":[{"type":"array","items":{"allOf":[{"$eref":{"type":"object","properties":{"___test":{"type":"string"}}}},{"allOf":[{"$eref":{"properties":{"___scale":{"$ref":"#\/refs\/scale"}}}},{"anyOf":[{"oneOf":[{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"properties":{"___value":{"enum":["top","middle","bottom","alphabetic"]}},"required":["value"]},{"properties":{"___field":{"$eref":{"oneOf":[{"type":"string"},{"oneOf":[{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___datum":{"$ref":"#\/refs\/field"}},"required":["datum"]},{"additionalProperties":false,"type":"object","properties":{"___level":{"type":"number"},"___group":{"$ref":"#\/refs\/field"}},"required":["group"]},{"additionalProperties":false,"type":"object","properties":{"___parent":{"$ref":"#\/refs\/field"},"___level":{"type":"number"}},"required":["parent"]}]}],"title":"FieldRef"}}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$eref":{"properties":{"___scale":{"$ref":"#\/refs\/scale"}}}},{"anyOf":[{"oneOf":[{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"properties":{"___value":{"enum":["top","middle","bottom","alphabetic"]}},"required":["value"]},{"properties":{"___field":{"$eref":{"oneOf":[{"type":"string"},{"oneOf":[{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___datum":{"$ref":"#\/refs\/field"}},"required":["datum"]},{"additionalProperties":false,"type":"object","properties":{"___level":{"type":"number"},"___group":{"$ref":"#\/refs\/field"}},"required":["group"]},{"additionalProperties":false,"type":"object","properties":{"___parent":{"$ref":"#\/refs\/field"},"___level":{"type":"number"}},"required":["parent"]}]}],"title":"FieldRef"}}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]},"___font":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"string"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"string"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___clip":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"boolean"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"boolean"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___height":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___size":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___width":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___y2":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___strokeDashOffset":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}}}},"graticuleTransform":{"additionalProperties":false,"type":"object","properties":{"___extentMajor":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___extentMinor":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___type":{"enum":["graticule"]},"___step":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___extent":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___precision":{"default":2.5,"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___signal":{"type":"string"},"___stepMajor":{"minItems":2,"maxItems":2,"default":[90,360],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___stepMinor":{"minItems":2,"maxItems":2,"default":[10,10],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},"required":["type"]},"flattenTransform":{"additionalProperties":false,"type":"object","properties":{"___fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___type":{"enum":["flatten"]},"___as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___signal":{"type":"string"}},"required":["type","fields"]},"formulaTransform":{"additionalProperties":false,"type":"object","properties":{"___expr":{"$eref":{"title":"Expression String","type":"string"}},"___type":{"enum":["formula"]},"___as":{"anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___initonly":{"anyOf":[{"type":"boolean"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___signal":{"type":"string"}},"required":["type","expr","as"]},"extentTransform":{"additionalProperties":false,"type":"object","properties":{"___field":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___type":{"enum":["extent"]},"___signal":{"type":"string"}},"required":["type","field"]},"projection":{"additionalProperties":true,"type":"object","properties":{"___translate":{"oneOf":[{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"minItems":2,"maxItems":2,"type":"array","items":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}}}]},"___center":{"oneOf":[{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"minItems":2,"maxItems":2,"type":"array","items":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}}}]},"___type":{"$eref":{"oneOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},"___rotate":{"oneOf":[{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"minItems":2,"maxItems":3,"type":"array","items":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}}}]},"___extent":{"oneOf":[{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"minItems":2,"maxItems":2,"type":"array","items":{"oneOf":[{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"minItems":2,"maxItems":2,"type":"array","items":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}}}]}}]},"___clipExtent":{"oneOf":[{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"type":"array","items":{"oneOf":[{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"minItems":2,"maxItems":2,"type":"array","items":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}}}]}}]},"___name":{"type":"string"},"___fit":{"oneOf":[{"type":"object"},{"type":"array"}]},"___parallels":{"oneOf":[{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"minItems":2,"maxItems":2,"type":"array","items":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}}}]},"___clipAngle":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"___scale":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"___precision":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"___pointRadius":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"___size":{"oneOf":[{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"minItems":2,"maxItems":2,"type":"array","items":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}}}]}},"required":["name"]},"wordcloudTransform":{"additionalProperties":false,"type":"object","properties":{"___fontSize":{"default":14,"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}}]},"___type":{"enum":["wordcloud"]},"___fontWeight":{"default":"normal","anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}}]},"___rotate":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}}]},"___spiral":{"anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___text":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___padding":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}}]},"___as":{"minItems":7,"maxItems":7,"default":["x","y","font","fontSize","fontStyle","fontWeight","angle"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___fontStyle":{"default":"normal","anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}}]},"___font":{"default":"sans-serif","anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}}]},"___size":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___signal":{"type":"string"},"___fontSizeRange":{"default":[10,50],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"type":"null"}]}},"required":["type"]},"guideEncode":{"patternProperties":{"___^(?!interactive|name|style).+$":{"$eref":{"additionalProperties":true,"title":"Mark encode property set","type":"object","properties":{"___opacity":{"$ref":"#\/refs\/numberValue"},"___orient":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"enum":["horizontal","vertical"]}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"enum":["horizontal","vertical"]}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]},"___endAngle":{"$ref":"#\/refs\/numberValue"},"___align":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"enum":["left","right","center"]}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"enum":["left","right","center"]}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]},"___innerRadius":{"$ref":"#\/refs\/numberValue"},"___fontWeight":{"$ref":"#\/refs\/fontWeightValue"},"___strokeWidth":{"$ref":"#\/refs\/numberValue"},"___stroke":{"$ref":"#\/refs\/colorValue"},"___xc":{"$ref":"#\/refs\/numberValue"},"___fillOpacity":{"$ref":"#\/refs\/numberValue"},"___theta":{"$ref":"#\/refs\/numberValue"},"___text":{"$ref":"#\/refs\/stringValue"},"___angle":{"$ref":"#\/refs\/numberValue"},"___strokeOpacity":{"$ref":"#\/refs\/numberValue"},"___ellipsis":{"$ref":"#\/refs\/stringValue"},"___url":{"$ref":"#\/refs\/stringValue"},"___tension":{"$ref":"#\/refs\/numberValue"},"___fontStyle":{"$ref":"#\/refs\/stringValue"},"___x2":{"$ref":"#\/refs\/numberValue"},"___path":{"$ref":"#\/refs\/stringValue"},"___fontSize":{"$ref":"#\/refs\/numberValue"},"___interpolate":{"$ref":"#\/refs\/stringValue"},"___radius":{"$ref":"#\/refs\/numberValue"},"___limit":{"$ref":"#\/refs\/numberValue"},"___shape":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/stringValue"}]},"___strokeDash":{"$ref":"#\/refs\/arrayValue"},"___outerRadius":{"$ref":"#\/refs\/numberValue"},"___startAngle":{"$ref":"#\/refs\/numberValue"},"___dir":{"$ref":"#\/refs\/stringValue"},"___yc":{"$ref":"#\/refs\/numberValue"},"___cursor":{"$ref":"#\/refs\/stringValue"},"___dy":{"$ref":"#\/refs\/numberValue"},"___dx":{"$ref":"#\/refs\/numberValue"},"___x":{"$ref":"#\/refs\/numberValue"},"___fill":{"$ref":"#\/refs\/colorValue"},"___y":{"$ref":"#\/refs\/numberValue"},"___baseline":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"enum":["top","middle","bottom","alphabetic"]}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"enum":["top","middle","bottom","alphabetic"]}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]},"___font":{"$ref":"#\/refs\/stringValue"},"___clip":{"$ref":"#\/refs\/booleanValue"},"___height":{"$ref":"#\/refs\/numberValue"},"___size":{"$ref":"#\/refs\/numberValue"},"___width":{"$ref":"#\/refs\/numberValue"},"___y2":{"$ref":"#\/refs\/numberValue"},"___strokeDashOffset":{"$ref":"#\/refs\/numberValue"}}}}},"additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___style":{"$eref":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]}},"___interactive":{"default":false,"type":"boolean"}}},"stackTransform":{"additionalProperties":false,"type":"object","properties":{"___sort":{"$eref":{"oneOf":[{"type":"object","properties":{"___field":{"oneOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]},"___order":{"$ref":"#\/refs\/sortOrder"}}},{"type":"object","properties":{"___field":{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},"___order":{"type":"array","items":{"$ref":"#\/refs\/sortOrder"}}}}]}},"___field":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___type":{"enum":["stack"]},"___as":{"minItems":2,"maxItems":2,"default":["y0","y1"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___signal":{"type":"string"},"___offset":{"default":"zero","anyOf":[{"enum":["zero","center","normalize"]},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},"required":["type"]},"padding":{"oneOf":[{"type":"number"},{"additionalProperties":false,"type":"object","properties":{"___top":{"type":"number"},"___bottom":{"type":"number"},"___right":{"type":"number"},"___left":{"type":"number"}}}]},"signalName":{"not":{"enum":["parent","datum","event","item"]},"type":"string"},"nestTransform":{"additionalProperties":false,"type":"object","properties":{"___key":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___type":{"enum":["nest"]},"___generate":{"anyOf":[{"type":"boolean"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___keys":{"oneOf":[{"type":"array","items":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___signal":{"type":"string"}},"required":["type"]},"identifierTransform":{"additionalProperties":false,"type":"object","properties":{"___type":{"enum":["identifier"]},"___as":{"anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___signal":{"type":"string"}},"required":["type","as"]},"dataFormat":{"anyOf":[{"additionalProperties":false,"properties":{"___parse":{"oneOf":[{"enum":["auto"]},{"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"pattern":"^(date|utc):.*$","type":"string"}]},"type":"object"}]},"___copy":{"type":"boolean"},"___type":{"enum":["json"]},"___property":{"type":"string"}}},{"additionalProperties":false,"properties":{"___parse":{"oneOf":[{"enum":["auto"]},{"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"pattern":"^(date|utc):.*$","type":"string"}]},"type":"object"}]},"___type":{"enum":["csv","tsv"]}}},{"additionalProperties":false,"properties":{"___parse":{"oneOf":[{"enum":["auto"]},{"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"pattern":"^(date|utc):.*$","type":"string"}]},"type":"object"}]},"___type":{"enum":["dsv"]},"___delimiter":{"type":"string"}}},{"oneOf":[{"additionalProperties":false,"properties":{"___type":{"enum":["topojson"]},"___property":{"type":"string"},"___feature":{"type":"string"}}},{"additionalProperties":false,"properties":{"___type":{"enum":["topojson"]},"___mesh":{"type":"string"},"___property":{"type":"string"}}}]}],"type":"object"},"pieTransform":{"additionalProperties":false,"type":"object","properties":{"___sort":{"anyOf":[{"type":"boolean"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___field":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___endAngle":{"default":6.283185307179586,"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___type":{"enum":["pie"]},"___as":{"minItems":2,"maxItems":2,"default":["startAngle","endAngle"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___startAngle":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___signal":{"type":"string"}},"required":["type"]},"layout":{"oneOf":[{"type":"object","properties":{"___headerBand":{"oneOf":[{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"type":"null"},{"additionalProperties":false,"type":"object","properties":{"___column":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"___row":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}}}}]},"___footerBand":{"oneOf":[{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"type":"null"},{"additionalProperties":false,"type":"object","properties":{"___column":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"___row":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}}}}]},"___align":{"oneOf":[{"oneOf":[{"enum":["all","each","none"]},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},{"additionalProperties":false,"type":"object","properties":{"___column":{"oneOf":[{"enum":["all","each","none"]},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___row":{"oneOf":[{"enum":["all","each","none"]},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}}}]},"___padding":{"oneOf":[{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"additionalProperties":false,"type":"object","properties":{"___column":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"___row":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}}}}]},"___bounds":{"oneOf":[{"enum":["full","flush"]},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___titleBand":{"oneOf":[{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"type":"null"},{"additionalProperties":false,"type":"object","properties":{"___column":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"___row":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}}}}]},"___offset":{"oneOf":[{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"additionalProperties":false,"type":"object","properties":{"___rowFooter":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"___columnFooter":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"___columnTitle":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"___columnHeader":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"___rowTitle":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"___rowHeader":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}}}}]},"___columns":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}}}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"windowTransform":{"additionalProperties":false,"type":"object","properties":{"___ops":{"oneOf":[{"type":"array","items":{"anyOf":[{"enum":["row_number","rank","dense_rank","percent_rank","cume_dist","ntile","lag","lead","first_value","last_value","nth_value","values","count","__count__","missing","valid","sum","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","argmin","argmax","min","max"]},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___sort":{"$eref":{"oneOf":[{"type":"object","properties":{"___field":{"oneOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]},"___order":{"$ref":"#\/refs\/sortOrder"}}},{"type":"object","properties":{"___field":{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},"___order":{"type":"array","items":{"$ref":"#\/refs\/sortOrder"}}}}]}},"___frame":{"minItems":2,"maxItems":2,"default":[null,0],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"type":"null"}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}},{"type":"null"}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___type":{"enum":["window"]},"___ignorePeers":{"anyOf":[{"type":"boolean"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"type":"null"}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___params":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"type":"null"}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___signal":{"type":"string"}},"required":["type"]},"voronoiTransform":{"additionalProperties":false,"type":"object","properties":{"___type":{"enum":["voronoi"]},"___x":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___as":{"default":"path","anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___extent":{"minItems":2,"maxItems":2,"default":[[-100000,-100000],[100000,100000]],"oneOf":[{"type":"array","items":{}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___y":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___size":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___signal":{"type":"string"}},"required":["type","x","y"]},"densityTransform":{"additionalProperties":false,"type":"object","properties":{"___distribution":{"oneOf":[{"additionalProperties":false,"type":"object","properties":{"___stdev":{"default":1,"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___function":{"enum":["normal"]},"___mean":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},"required":["function"]},{"additionalProperties":false,"type":"object","properties":{"___min":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___function":{"enum":["uniform"]},"___max":{"default":1,"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},"required":["function"]},{"additionalProperties":false,"type":"object","properties":{"___field":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]},"___bandwidth":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___function":{"enum":["kde"]},"___from":{"type":"string"}},"required":["function","field"]},{"additionalProperties":false,"type":"object","properties":{"___weights":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___function":{"enum":["mixture"]},"___distributions":{"oneOf":[{"type":"array","items":{}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},"required":["function"]}]},"___type":{"enum":["density"]},"___as":{"default":["value","density"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___extent":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___method":{"default":"pdf","anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___signal":{"type":"string"},"___steps":{"default":100,"anyOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},"required":["type"]},"foldTransform":{"additionalProperties":false,"type":"object","properties":{"___fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]}},{"$eref":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___type":{"enum":["fold"]},"___as":{"minItems":2,"maxItems":2,"default":["key","value"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___signal":{"type":"string"}},"required":["type","fields"]},"transformMark":{"oneOf":[{"$eref":{"additionalProperties":false,"type":"object","properties":{"___type":{"enum":["bin"]},"___base":{"default":10,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___extent":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___nice":{"default":true,"anyOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]},"___steps":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___name":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]},"___divide":{"default":[5,2],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___field":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___minstep":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___anchor":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___step":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___as":{"minItems":2,"maxItems":2,"default":["bin0","bin1"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"},"___maxbins":{"default":20,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"required":["type","field","extent"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___sort":{"$ref":"#\/refs\/compare"},"___type":{"enum":["collect"]},"___signal":{"type":"string"}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___field":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___type":{"enum":["extent"]},"___signal":{"type":"string"}},"required":["type","field"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___expr":{"$ref":"#\/refs\/exprString"},"___type":{"enum":["formula"]},"___as":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]},"___initonly":{"anyOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"}},"required":["type","expr","as"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___ops":{"oneOf":[{"type":"array","items":{"anyOf":[{"enum":["values","count","__count__","missing","valid","sum","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","argmin","argmax","min","max"]},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"},{"type":"null"}]}},{"$ref":"#\/refs\/signal"}]},"___key":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]}},{"$ref":"#\/refs\/signal"}]},"___type":{"enum":["joinaggregate"]},"___as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"},{"type":"null"}]}},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]}},{"$ref":"#\/refs\/signal"}]},"___key":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___type":{"enum":["lookup"]},"___as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___values":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]}},{"$ref":"#\/refs\/signal"}]},"___default":{},"___signal":{"type":"string"},"___from":{"type":"string"}},"required":["type","from","key","fields"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___type":{"enum":["sample"]},"___size":{"default":1000,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___ops":{"oneOf":[{"type":"array","items":{"anyOf":[{"enum":["row_number","rank","dense_rank","percent_rank","cume_dist","ntile","lag","lead","first_value","last_value","nth_value","values","count","__count__","missing","valid","sum","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","argmin","argmax","min","max"]},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___sort":{"$ref":"#\/refs\/compare"},"___frame":{"minItems":2,"maxItems":2,"default":[null,0],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"},{"type":"null"}]}},{"$ref":"#\/refs\/signal"}]},"___fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"},{"type":"null"}]}},{"$ref":"#\/refs\/signal"}]},"___groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]}},{"$ref":"#\/refs\/signal"}]},"___type":{"enum":["window"]},"___ignorePeers":{"anyOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]},"___as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"},{"type":"null"}]}},{"$ref":"#\/refs\/signal"}]},"___params":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"},{"type":"null"}]}},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___type":{"enum":["identifier"]},"___as":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"}},"required":["type","as"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___orient":{"default":"vertical","anyOf":[{"enum":["horizontal","vertical","radial"]},{"$ref":"#\/refs\/signal"}]},"___shape":{"default":"line","anyOf":[{"enum":["line","arc","curve","diagonal","orthogonal"]},{"$ref":"#\/refs\/signal"}]},"___type":{"enum":["linkpath"]},"___as":{"default":"path","anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]},"___targetY":{"default":"target.y","oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___sourceX":{"default":"source.x","oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___signal":{"type":"string"},"___targetX":{"default":"target.x","oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___sourceY":{"default":"source.y","oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___sort":{"anyOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]},"___field":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___endAngle":{"default":6.283185307179586,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___type":{"enum":["pie"]},"___as":{"minItems":2,"maxItems":2,"default":["startAngle","endAngle"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___startAngle":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___sort":{"$ref":"#\/refs\/compare"},"___field":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]}},{"$ref":"#\/refs\/signal"}]},"___type":{"enum":["stack"]},"___as":{"minItems":2,"maxItems":2,"default":["y0","y1"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"},"___offset":{"default":"zero","anyOf":[{"enum":["zero","center","normalize"]},{"$ref":"#\/refs\/signal"}]}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___fields":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]}},{"$ref":"#\/refs\/signal"}]},"___type":{"enum":["geojson"]},"___geojson":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___signal":{"type":"string"}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___projection":{"type":"string"},"___field":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___type":{"enum":["geopath"]},"___as":{"default":"path","anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]},"___pointRadius":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"},{"$ref":"#\/refs\/expr"},{"$ref":"#\/refs\/paramField"}]},"___signal":{"type":"string"}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___projection":{"type":"string"},"___fields":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]}},{"$ref":"#\/refs\/signal"}]},"___type":{"enum":["geopoint"]},"___as":{"minItems":2,"maxItems":2,"default":["x","y"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"}},"required":["type","projection","fields"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___projection":{"type":"string"},"___field":{"default":"datum","oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___type":{"enum":["geoshape"]},"___as":{"default":"shape","anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]},"___pointRadius":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"},{"$ref":"#\/refs\/expr"},{"$ref":"#\/refs\/paramField"}]},"___signal":{"type":"string"}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___restart":{"anyOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]},"___forces":{"type":"array","items":{"oneOf":[{"additionalProperties":false,"type":"object","properties":{"___force":{"enum":["center"]},"___x":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___y":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"required":["force"]},{"additionalProperties":false,"type":"object","properties":{"___force":{"enum":["collide"]},"___radius":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"},{"$ref":"#\/refs\/expr"},{"$ref":"#\/refs\/paramField"}]},"___iterations":{"default":1,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___strength":{"default":0.7,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"required":["force"]},{"additionalProperties":false,"type":"object","properties":{"___theta":{"default":0.9,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___force":{"enum":["nbody"]},"___distanceMin":{"default":1,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___distanceMax":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___strength":{"default":-30,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"required":["force"]},{"additionalProperties":false,"type":"object","properties":{"___force":{"enum":["link"]},"___distance":{"default":30,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"},{"$ref":"#\/refs\/expr"},{"$ref":"#\/refs\/paramField"}]},"___links":{"type":"string"},"___iterations":{"default":1,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___strength":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"},{"$ref":"#\/refs\/expr"},{"$ref":"#\/refs\/paramField"}]},"___id":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]}},"required":["force"]},{"additionalProperties":false,"type":"object","properties":{"___force":{"enum":["x"]},"___x":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___strength":{"default":0.1,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"required":["force"]},{"additionalProperties":false,"type":"object","properties":{"___force":{"enum":["y"]},"___y":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___strength":{"default":0.1,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},"required":["force"]}]}},"___type":{"enum":["force"]},"___iterations":{"default":300,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___as":{"default":["x","y","vx","vy"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___alphaTarget":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___velocityDecay":{"default":0.4,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___alpha":{"default":1,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"},"___alphaMin":{"default":0.001,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___static":{"anyOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___sort":{"$ref":"#\/refs\/compare"},"___field":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___radius":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___type":{"enum":["pack"]},"___padding":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___as":{"minItems":3,"maxItems":3,"default":["x","y","r","depth","children"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___size":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___sort":{"$ref":"#\/refs\/compare"},"___field":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___type":{"enum":["partition"]},"___padding":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___as":{"minItems":4,"maxItems":4,"default":["x0","y0","x1","y1","depth","children"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___round":{"anyOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]},"___size":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___key":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___type":{"enum":["stratify"]},"___parentKey":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___signal":{"type":"string"}},"required":["type","key","parentKey"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___sort":{"$ref":"#\/refs\/compare"},"___field":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___type":{"enum":["tree"]},"___as":{"minItems":4,"maxItems":4,"default":["x","y","depth","children"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___nodeSize":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___method":{"default":"tidy","anyOf":[{"enum":["tidy","cluster"]},{"$ref":"#\/refs\/signal"}]},"___size":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___sort":{"$ref":"#\/refs\/compare"},"___type":{"enum":["treemap"]},"___paddingLeft":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___paddingOuter":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___method":{"default":"squarify","anyOf":[{"enum":["squarify","resquarify","binary","dice","slice","slicedice"]},{"$ref":"#\/refs\/signal"}]},"___paddingTop":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___paddingRight":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___paddingInner":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___field":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___padding":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___paddingBottom":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___as":{"minItems":4,"maxItems":4,"default":["x0","y0","x1","y1","depth","children"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___round":{"anyOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]},"___ratio":{"default":1.618033988749895,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___size":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___type":{"enum":["voronoi"]},"___x":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___as":{"default":"path","anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]},"___extent":{"minItems":2,"maxItems":2,"default":[[-100000,-100000],[100000,100000]],"oneOf":[{"type":"array","items":{}},{"$ref":"#\/refs\/signal"}]},"___y":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___size":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"}},"required":["type","x","y"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___fontSize":{"default":14,"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"},{"$ref":"#\/refs\/expr"},{"$ref":"#\/refs\/paramField"}]},"___type":{"enum":["wordcloud"]},"___fontWeight":{"default":"normal","anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"},{"$ref":"#\/refs\/expr"},{"$ref":"#\/refs\/paramField"}]},"___rotate":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"},{"$ref":"#\/refs\/expr"},{"$ref":"#\/refs\/paramField"}]},"___spiral":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]},"___text":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]},"___padding":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"},{"$ref":"#\/refs\/expr"},{"$ref":"#\/refs\/paramField"}]},"___as":{"minItems":7,"maxItems":7,"default":["x","y","font","fontSize","fontStyle","fontWeight","angle"],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___fontStyle":{"default":"normal","anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"},{"$ref":"#\/refs\/expr"},{"$ref":"#\/refs\/paramField"}]},"___font":{"default":"sans-serif","anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"},{"$ref":"#\/refs\/expr"},{"$ref":"#\/refs\/paramField"}]},"___size":{"minItems":2,"maxItems":2,"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"}]},"___signal":{"type":"string"},"___fontSizeRange":{"default":[10,50],"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}},{"$ref":"#\/refs\/signal"},{"type":"null"}]}},"required":["type"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#\/refs\/scaleField"},{"$ref":"#\/refs\/paramField"},{"$ref":"#\/refs\/expr"}]}},{"$ref":"#\/refs\/signal"}]},"___query":{"oneOf":[{"type":"array","items":{}},{"$ref":"#\/refs\/signal"}]},"___type":{"enum":["crossfilter"]},"___signal":{"type":"string"}},"required":["type","fields","query"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___ignore":{"anyOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]},"___type":{"enum":["resolvefilter"]},"___filter":{},"___signal":{"type":"string"}},"required":["type","ignore","filter"]}}]},"mark":{"type":"object","properties":{"___sort":{"$eref":{"oneOf":[{"type":"object","properties":{"___field":{"oneOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]},"___order":{"$ref":"#\/refs\/sortOrder"}}},{"type":"object","properties":{"___field":{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},"___order":{"type":"array","items":{"$ref":"#\/refs\/sortOrder"}}}}]}},"___name":{"type":"string"},"___key":{"type":"string"},"___type":{"$eref":{"title":"Mark Type definition","type":"string"}},"___style":{"$eref":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]}},"___interactive":{"$eref":{"oneOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]}},"___transform":{"type":"array","items":{"$eref":{"oneOf":[{"$ref":"#\/defs\/binTransform"},{"$ref":"#\/defs\/collectTransform"},{"$ref":"#\/defs\/extentTransform"},{"$ref":"#\/defs\/formulaTransform"},{"$ref":"#\/defs\/joinaggregateTransform"},{"$ref":"#\/defs\/lookupTransform"},{"$ref":"#\/defs\/sampleTransform"},{"$ref":"#\/defs\/windowTransform"},{"$ref":"#\/defs\/identifierTransform"},{"$ref":"#\/defs\/linkpathTransform"},{"$ref":"#\/defs\/pieTransform"},{"$ref":"#\/defs\/stackTransform"},{"$ref":"#\/defs\/geojsonTransform"},{"$ref":"#\/defs\/geopathTransform"},{"$ref":"#\/defs\/geopointTransform"},{"$ref":"#\/defs\/geoshapeTransform"},{"$ref":"#\/defs\/forceTransform"},{"$ref":"#\/defs\/packTransform"},{"$ref":"#\/defs\/partitionTransform"},{"$ref":"#\/defs\/stratifyTransform"},{"$ref":"#\/defs\/treeTransform"},{"$ref":"#\/defs\/treemapTransform"},{"$ref":"#\/defs\/voronoiTransform"},{"$ref":"#\/defs\/wordcloudTransform"},{"$ref":"#\/defs\/crossfilterTransform"},{"$ref":"#\/defs\/resolvefilterTransform"}]}}},"___on":{"$eref":{"type":"array","items":{"type":"object","properties":{"___trigger":{"$ref":"#\/refs\/exprString"},"___modify":{"$ref":"#\/refs\/exprString"},"___values":{"$ref":"#\/refs\/exprString"}},"required":["trigger"]}}},"___role":{"type":"string"},"___clip":{"$eref":{"oneOf":[{"$ref":"#\/refs\/booleanOrSignal"},{"additionalProperties":false,"type":"object","properties":{"___path":{"$ref":"#\/refs\/stringOrSignal"}},"required":["path"]},{"additionalProperties":false,"type":"object","properties":{"___sphere":{"$ref":"#\/refs\/stringOrSignal"}},"required":["sphere"]}]}},"___encode":{"$eref":{"patternProperties":{"___^.+$":{"$ref":"#\/defs\/encodeEntry"}},"additionalProperties":false,"type":"object"}}},"required":["type"]},"autosize":{"default":"pad","oneOf":[{"enum":["pad","fit","fit-x","fit-y","none"]},{"additionalProperties":false,"type":"object","properties":{"___resize":{"type":"boolean"},"___type":{"enum":["pad","fit","fit-x","fit-y","none"]},"___contains":{"enum":["content","padding"]}},"required":["type"]}]}},"allOf":[{"$eref":{"type":"object","properties":{"___axes":{"type":"array","items":{"$ref":"#\/defs\/axis"}},"___signals":{"type":"array","items":{"$ref":"#\/defs\/signal"}},"___layout":{"$ref":"#\/defs\/layout"},"___title":{"$ref":"#\/defs\/title"},"___scales":{"type":"array","items":{"$ref":"#\/defs\/scale"}},"___projections":{"type":"array","items":{"$ref":"#\/defs\/projection"}},"___legends":{"type":"array","items":{"$ref":"#\/defs\/legend"}},"___marks":{"type":"array","items":{"oneOf":[{"$ref":"#\/defs\/markGroup"},{"$ref":"#\/defs\/markVisual"}]}},"___encode":{"$ref":"#\/defs\/encode"},"___data":{"type":"array","items":{"$ref":"#\/defs\/data"}}}}},{"properties":{"___$schema":{"format":"uri","type":"string"},"___description":{"type":"string"},"___usermeta":{"type":"object"},"___padding":{"$eref":{"oneOf":[{"type":"number"},{"additionalProperties":false,"type":"object","properties":{"___top":{"type":"number"},"___bottom":{"type":"number"},"___right":{"type":"number"},"___left":{"type":"number"}}}]}},"___config":{"type":"object"},"___height":{"type":"number"},"___autosize":{"$eref":{"default":"pad","oneOf":[{"enum":["pad","fit","fit-x","fit-y","none"]},{"additionalProperties":false,"type":"object","properties":{"___resize":{"type":"boolean"},"___type":{"enum":["pad","fit","fit-x","fit-y","none"]},"___contains":{"enum":["content","padding"]}},"required":["type"]}]}},"___width":{"type":"number"},"___background":{"$eref":{"type":"string"}}}}],"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","refs":{"stringOrSignal":{"oneOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"compare":{"oneOf":[{"type":"object","properties":{"___field":{"oneOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___order":{"$eref":{"oneOf":[{"enum":["ascending","descending"]},{"$ref":"#\/refs\/signal"}]}}}},{"type":"object","properties":{"___field":{"type":"array","items":{"anyOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}},"___order":{"type":"array","items":{"$eref":{"oneOf":[{"enum":["ascending","descending"]},{"$ref":"#\/refs\/signal"}]}}}}}]},"scale":{"$eref":{"oneOf":[{"type":"string"},{"oneOf":[{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___datum":{"$ref":"#\/refs\/field"}},"required":["datum"]},{"additionalProperties":false,"type":"object","properties":{"___level":{"type":"number"},"___group":{"$ref":"#\/refs\/field"}},"required":["group"]},{"additionalProperties":false,"type":"object","properties":{"___parent":{"$ref":"#\/refs\/field"},"___level":{"type":"number"}},"required":["parent"]}]}],"title":"FieldRef"}},"booleanOrSignal":{"oneOf":[{"type":"boolean"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"scaleInterpolate":{"oneOf":[{"type":"string"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"type":"object","properties":{"___type":{"$eref":{"oneOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},"___gamma":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}}},"required":["type"]}]},"stringModifiers":{"properties":{"___scale":{"$eref":{"$ref":"#\/refs\/field"}}}},"stringValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$eref":{"type":"object","properties":{"___test":{"type":"string"}}}},{"allOf":[{"$eref":{"properties":{"___scale":{"$ref":"#\/refs\/scale"}}}},{"anyOf":[{"oneOf":[{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"properties":{"___value":{"type":"string"}},"required":["value"]},{"properties":{"___field":{"$eref":{"oneOf":[{"type":"string"},{"oneOf":[{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___datum":{"$ref":"#\/refs\/field"}},"required":["datum"]},{"additionalProperties":false,"type":"object","properties":{"___level":{"type":"number"},"___group":{"$ref":"#\/refs\/field"}},"required":["group"]},{"additionalProperties":false,"type":"object","properties":{"___parent":{"$ref":"#\/refs\/field"},"___level":{"type":"number"}},"required":["parent"]}]}],"title":"FieldRef"}}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$eref":{"properties":{"___scale":{"$ref":"#\/refs\/scale"}}}},{"anyOf":[{"oneOf":[{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"properties":{"___value":{"type":"string"}},"required":["value"]},{"properties":{"___field":{"$eref":{"oneOf":[{"type":"string"},{"oneOf":[{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___datum":{"$ref":"#\/refs\/field"}},"required":["datum"]},{"additionalProperties":false,"type":"object","properties":{"___level":{"type":"number"},"___group":{"$ref":"#\/refs\/field"}},"required":["group"]},{"additionalProperties":false,"type":"object","properties":{"___parent":{"$ref":"#\/refs\/field"},"___level":{"type":"number"}},"required":["parent"]}]}],"title":"FieldRef"}}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]},"tickCount":{"oneOf":[{"type":"number"},{"type":"string","enum":["millisecond","second","minute","hour","day","week","month","year"]},{"type":"object","properties":{"___interval":{"oneOf":[{"type":"string","enum":["millisecond","second","minute","hour","day","week","month","year"]},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"___step":{"$eref":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/signal"}]}}},"required":["interval"]},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"colorValue":{"oneOf":[{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"oneOf":[{"type":"string"},{"type":"null"}]}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"oneOf":[{"type":"string"},{"type":"null"}]}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"additionalProperties":false,"type":"object","properties":{"___gradient":{"$eref":{"$ref":"#\/refs\/field"}}},"required":["gradient"]},{"additionalProperties":false,"type":"object","properties":{"___color":{"oneOf":[{"$eref":{"type":"object","properties":{"___g":{"$ref":"#\/refs\/numberValue"},"___r":{"$ref":"#\/refs\/numberValue"},"___b":{"$ref":"#\/refs\/numberValue"}},"required":["r","g","b"]}},{"$eref":{"type":"object","properties":{"___l":{"$ref":"#\/refs\/numberValue"},"___h":{"$ref":"#\/refs\/numberValue"},"___s":{"$ref":"#\/refs\/numberValue"}},"required":["h","s","l"]}},{"$eref":{"type":"object","properties":{"___l":{"$ref":"#\/refs\/numberValue"},"___a":{"$ref":"#\/refs\/numberValue"},"___b":{"$ref":"#\/refs\/numberValue"}},"required":["l","a","b"]}},{"$eref":{"type":"object","properties":{"___l":{"$ref":"#\/refs\/numberValue"},"___h":{"$ref":"#\/refs\/numberValue"},"___c":{"$ref":"#\/refs\/numberValue"}},"required":["h","c","l"]}}]}},"required":["color"]}],"title":"ColorRef"},"expr":{"title":"ExpressionRef","type":"object","properties":{"___expr":{"type":"string"}},"required":["expr"]},"colorHSL":{"type":"object","properties":{"___l":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___h":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___s":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}}},"required":["h","s","l"]},"from":{"additionalProperties":false,"type":"object","properties":{"___data":{"type":"string"}}},"selector":{"title":"Event Selector String","type":"string"},"numberValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$eref":{"type":"object","properties":{"___test":{"type":"string"}}}},{"allOf":[{"$eref":{"properties":{"___band":{"type":["number","boolean"]},"___extra":{"type":"boolean"},"___scale":{"$ref":"#\/refs\/scale"},"___mult":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/numberValue"}]},"___round":{"default":false,"type":"boolean"},"___exponent":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/numberValue"}]},"___offset":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/numberValue"}]}}}},{"anyOf":[{"oneOf":[{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$eref":{"oneOf":[{"type":"string"},{"oneOf":[{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___datum":{"$ref":"#\/refs\/field"}},"required":["datum"]},{"additionalProperties":false,"type":"object","properties":{"___level":{"type":"number"},"___group":{"$ref":"#\/refs\/field"}},"required":["group"]},{"additionalProperties":false,"type":"object","properties":{"___parent":{"$ref":"#\/refs\/field"},"___level":{"type":"number"}},"required":["parent"]}]}],"title":"FieldRef"}}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$eref":{"properties":{"___band":{"type":["number","boolean"]},"___extra":{"type":"boolean"},"___scale":{"$ref":"#\/refs\/scale"},"___mult":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/numberValue"}]},"___round":{"default":false,"type":"boolean"},"___exponent":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/numberValue"}]},"___offset":{"oneOf":[{"type":"number"},{"$ref":"#\/refs\/numberValue"}]}}}},{"anyOf":[{"oneOf":[{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$eref":{"oneOf":[{"type":"string"},{"oneOf":[{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___datum":{"$ref":"#\/refs\/field"}},"required":["datum"]},{"additionalProperties":false,"type":"object","properties":{"___level":{"type":"number"},"___group":{"$ref":"#\/refs\/field"}},"required":["group"]},{"additionalProperties":false,"type":"object","properties":{"___parent":{"$ref":"#\/refs\/field"},"___level":{"type":"number"}},"required":["parent"]}]}],"title":"FieldRef"}}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]},"scaleField":{"$eref":{"oneOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}},"scaleData":{"oneOf":[{"additionalProperties":false,"type":"object","properties":{"___sort":{"oneOf":[{"type":"boolean"},{"additionalProperties":false,"type":"object","properties":{"___field":{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},"___order":{"$eref":{"oneOf":[{"enum":["ascending","descending"]},{"$ref":"#\/refs\/signal"}]}},"___op":{"$eref":{"$ref":"#\/refs\/stringOrSignal"}}}}]},"___field":{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},"___data":{"type":"string"}},"required":["data","field"]},{"additionalProperties":false,"type":"object","properties":{"___sort":{"oneOf":[{"type":"boolean"},{"additionalProperties":false,"type":"object","properties":{"___order":{"$eref":{"oneOf":[{"enum":["ascending","descending"]},{"$ref":"#\/refs\/signal"}]}},"___op":{"enum":["count"]}}}]},"___fields":{"minItems":1,"type":"array","items":{"$eref":{"$ref":"#\/refs\/stringOrSignal"}}},"___data":{"type":"string"}},"required":["data","fields"]},{"additionalProperties":false,"type":"object","properties":{"___sort":{"oneOf":[{"type":"boolean"},{"additionalProperties":false,"type":"object","properties":{"___order":{"$eref":{"oneOf":[{"enum":["ascending","descending"]},{"$ref":"#\/refs\/signal"}]}},"___op":{"enum":["count"]}}}]},"___fields":{"minItems":1,"type":"array","items":{"oneOf":[{"additionalProperties":false,"type":"object","properties":{"___field":{"$eref":{"$ref":"#\/refs\/stringOrSignal"}},"___data":{"type":"string"}},"required":["data","field"]},{"type":"array","items":{"oneOf":[{"type":"string"},{"type":"number"},{"type":"boolean"}]}},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]}}},"required":["fields"]}]},"value":{"oneOf":[{"type":"array","items":{"allOf":[{"$eref":{"type":"object","properties":{"___test":{"type":"string"}}}},{"allOf":[{"$eref":{"properties":{"___scale":{"$ref":"#\/refs\/scale"}}}},{"anyOf":[{"oneOf":[{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"properties":{"___value":{"oneOf":[{"type":{}},{"type":"null"}]}},"required":["value"]},{"properties":{"___field":{"$eref":{"oneOf":[{"type":"string"},{"oneOf":[{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___datum":{"$ref":"#\/refs\/field"}},"required":["datum"]},{"additionalProperties":false,"type":"object","properties":{"___level":{"type":"number"},"___group":{"$ref":"#\/refs\/field"}},"required":["group"]},{"additionalProperties":false,"type":"object","properties":{"___parent":{"$ref":"#\/refs\/field"},"___level":{"type":"number"}},"required":["parent"]}]}],"title":"FieldRef"}}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$eref":{"properties":{"___scale":{"$ref":"#\/refs\/scale"}}}},{"anyOf":[{"oneOf":[{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"properties":{"___value":{"oneOf":[{"type":{}},{"type":"null"}]}},"required":["value"]},{"properties":{"___field":{"$eref":{"oneOf":[{"type":"string"},{"oneOf":[{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___datum":{"$ref":"#\/refs\/field"}},"required":["datum"]},{"additionalProperties":false,"type":"object","properties":{"___level":{"type":"number"},"___group":{"$ref":"#\/refs\/field"}},"required":["group"]},{"additionalProperties":false,"type":"object","properties":{"___parent":{"$ref":"#\/refs\/field"},"___level":{"type":"number"}},"required":["parent"]}]}],"title":"FieldRef"}}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]},"signal":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]},"element":{"type":"string"},"nullableStringValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$eref":{"type":"object","properties":{"___test":{"type":"string"}}}},{"allOf":[{"$eref":{"properties":{"___scale":{"$ref":"#\/refs\/scale"}}}},{"anyOf":[{"oneOf":[{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"properties":{"___value":{"oneOf":[{"type":"string"},{"type":"null"}]}},"required":["value"]},{"properties":{"___field":{"$eref":{"oneOf":[{"type":"string"},{"oneOf":[{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___datum":{"$ref":"#\/refs\/field"}},"required":["datum"]},{"additionalProperties":false,"type":"object","properties":{"___level":{"type":"number"},"___group":{"$ref":"#\/refs\/field"}},"required":["group"]},{"additionalProperties":false,"type":"object","properties":{"___parent":{"$ref":"#\/refs\/field"},"___level":{"type":"number"}},"required":["parent"]}]}],"title":"FieldRef"}}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$eref":{"properties":{"___scale":{"$ref":"#\/refs\/scale"}}}},{"anyOf":[{"oneOf":[{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"properties":{"___value":{"oneOf":[{"type":"string"},{"type":"null"}]}},"required":["value"]},{"properties":{"___field":{"$eref":{"oneOf":[{"type":"string"},{"oneOf":[{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___datum":{"$ref":"#\/refs\/field"}},"required":["datum"]},{"additionalProperties":false,"type":"object","properties":{"___level":{"type":"number"},"___group":{"$ref":"#\/refs\/field"}},"required":["group"]},{"additionalProperties":false,"type":"object","properties":{"___parent":{"$ref":"#\/refs\/field"},"___level":{"type":"number"}},"required":["parent"]}]}],"title":"FieldRef"}}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]},"fontWeightValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$eref":{"type":"object","properties":{"___test":{"type":"string"}}}},{"allOf":[{"$eref":{"properties":{"___scale":{"$ref":"#\/refs\/scale"}}}},{"anyOf":[{"oneOf":[{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"properties":{"___value":{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]}},"required":["value"]},{"properties":{"___field":{"$eref":{"oneOf":[{"type":"string"},{"oneOf":[{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___datum":{"$ref":"#\/refs\/field"}},"required":["datum"]},{"additionalProperties":false,"type":"object","properties":{"___level":{"type":"number"},"___group":{"$ref":"#\/refs\/field"}},"required":["group"]},{"additionalProperties":false,"type":"object","properties":{"___parent":{"$ref":"#\/refs\/field"},"___level":{"type":"number"}},"required":["parent"]}]}],"title":"FieldRef"}}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$eref":{"properties":{"___scale":{"$ref":"#\/refs\/scale"}}}},{"anyOf":[{"oneOf":[{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"properties":{"___value":{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]}},"required":["value"]},{"properties":{"___field":{"$eref":{"oneOf":[{"type":"string"},{"oneOf":[{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___datum":{"$ref":"#\/refs\/field"}},"required":["datum"]},{"additionalProperties":false,"type":"object","properties":{"___level":{"type":"number"},"___group":{"$ref":"#\/refs\/field"}},"required":["group"]},{"additionalProperties":false,"type":"object","properties":{"___parent":{"$ref":"#\/refs\/field"},"___level":{"type":"number"}},"required":["parent"]}]}],"title":"FieldRef"}}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]},"markclip":{"oneOf":[{"$eref":{"oneOf":[{"type":"boolean"},{"$ref":"#\/refs\/signal"}]}},{"additionalProperties":false,"type":"object","properties":{"___path":{"$eref":{"oneOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}}},"required":["path"]},{"additionalProperties":false,"type":"object","properties":{"___sphere":{"$eref":{"oneOf":[{"type":"string"},{"$ref":"#\/refs\/signal"}]}}},"required":["sphere"]}]},"colorHCL":{"type":"object","properties":{"___l":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___h":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___c":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}}},"required":["h","c","l"]},"arrayValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$eref":{"type":"object","properties":{"___test":{"type":"string"}}}},{"allOf":[{"$eref":{"properties":{"___scale":{"$ref":"#\/refs\/scale"}}}},{"anyOf":[{"oneOf":[{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"properties":{"___value":{"type":"array"}},"required":["value"]},{"properties":{"___field":{"$eref":{"oneOf":[{"type":"string"},{"oneOf":[{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___datum":{"$ref":"#\/refs\/field"}},"required":["datum"]},{"additionalProperties":false,"type":"object","properties":{"___level":{"type":"number"},"___group":{"$ref":"#\/refs\/field"}},"required":["group"]},{"additionalProperties":false,"type":"object","properties":{"___parent":{"$ref":"#\/refs\/field"},"___level":{"type":"number"}},"required":["parent"]}]}],"title":"FieldRef"}}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$eref":{"properties":{"___scale":{"$ref":"#\/refs\/scale"}}}},{"anyOf":[{"oneOf":[{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"properties":{"___value":{"type":"array"}},"required":["value"]},{"properties":{"___field":{"$eref":{"oneOf":[{"type":"string"},{"oneOf":[{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___datum":{"$ref":"#\/refs\/field"}},"required":["datum"]},{"additionalProperties":false,"type":"object","properties":{"___level":{"type":"number"},"___group":{"$ref":"#\/refs\/field"}},"required":["group"]},{"additionalProperties":false,"type":"object","properties":{"___parent":{"$ref":"#\/refs\/field"},"___level":{"type":"number"}},"required":["parent"]}]}],"title":"FieldRef"}}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]},"colorLAB":{"type":"object","properties":{"___l":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___a":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___b":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}}},"required":["l","a","b"]},"colorRGB":{"type":"object","properties":{"___g":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___r":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},"___b":{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}}},"required":["r","g","b"]},"paramField":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"}},"required":["field"]},"numberModifiers":{"properties":{"___band":{"type":["number","boolean"]},"___extra":{"type":"boolean"},"___scale":{"$eref":{"$ref":"#\/refs\/field"}},"___mult":{"oneOf":[{"type":"number"},{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}}]},"___round":{"default":false,"type":"boolean"},"___exponent":{"oneOf":[{"type":"number"},{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}}]},"___offset":{"oneOf":[{"type":"number"},{"$eref":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#\/defs\/rule"},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$ref":"#\/refs\/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#\/refs\/signal"},{"properties":{"___value":{"type":"number"}},"required":["value"]},{"properties":{"___field":{"$ref":"#\/refs\/field"}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}}]}}},"field":{"oneOf":[{"type":"string"},{"oneOf":[{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"additionalProperties":false,"type":"object","properties":{"___datum":{"$eref":{"oneOf":[{"type":"string"},{"oneOf":[{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___datum":{"$ref":"#\/refs\/field"}},"required":["datum"]},{"additionalProperties":false,"type":"object","properties":{"___level":{"type":"number"},"___group":{"$ref":"#\/refs\/field"}},"required":["group"]},{"additionalProperties":false,"type":"object","properties":{"___parent":{"$ref":"#\/refs\/field"},"___level":{"type":"number"}},"required":["parent"]}]}],"title":"FieldRef"}}},"required":["datum"]},{"additionalProperties":false,"type":"object","properties":{"___level":{"type":"number"},"___group":{"$eref":{"oneOf":[{"type":"string"},{"oneOf":[{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___datum":{"$ref":"#\/refs\/field"}},"required":["datum"]},{"additionalProperties":false,"type":"object","properties":{"___level":{"type":"number"},"___group":{"$ref":"#\/refs\/field"}},"required":["group"]},{"additionalProperties":false,"type":"object","properties":{"___parent":{"$ref":"#\/refs\/field"},"___level":{"type":"number"}},"required":["parent"]}]}],"title":"FieldRef"}}},"required":["group"]},{"additionalProperties":false,"type":"object","properties":{"___parent":{"$eref":{"oneOf":[{"type":"string"},{"oneOf":[{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___datum":{"$ref":"#\/refs\/field"}},"required":["datum"]},{"additionalProperties":false,"type":"object","properties":{"___level":{"type":"number"},"___group":{"$ref":"#\/refs\/field"}},"required":["group"]},{"additionalProperties":false,"type":"object","properties":{"___parent":{"$ref":"#\/refs\/field"},"___level":{"type":"number"}},"required":["parent"]}]}],"title":"FieldRef"}},"___level":{"type":"number"}},"required":["parent"]}]}],"title":"FieldRef"},"sortOrder":{"oneOf":[{"enum":["ascending","descending"]},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"exprString":{"title":"Expression String","type":"string"},"marktype":{"title":"Mark Type definition","type":"string"},"style":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"booleanValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$eref":{"type":"object","properties":{"___test":{"type":"string"}}}},{"allOf":[{"$eref":{"properties":{"___scale":{"$ref":"#\/refs\/scale"}}}},{"anyOf":[{"oneOf":[{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"properties":{"___value":{"type":"boolean"}},"required":["value"]},{"properties":{"___field":{"$eref":{"oneOf":[{"type":"string"},{"oneOf":[{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___datum":{"$ref":"#\/refs\/field"}},"required":["datum"]},{"additionalProperties":false,"type":"object","properties":{"___level":{"type":"number"},"___group":{"$ref":"#\/refs\/field"}},"required":["group"]},{"additionalProperties":false,"type":"object","properties":{"___parent":{"$ref":"#\/refs\/field"},"___level":{"type":"number"}},"required":["parent"]}]}],"title":"FieldRef"}}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]}},{"allOf":[{"$eref":{"properties":{"___scale":{"$ref":"#\/refs\/scale"}}}},{"anyOf":[{"oneOf":[{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}},{"properties":{"___value":{"type":"boolean"}},"required":["value"]},{"properties":{"___field":{"$eref":{"oneOf":[{"type":"string"},{"oneOf":[{"$ref":"#\/refs\/signal"},{"additionalProperties":false,"type":"object","properties":{"___datum":{"$ref":"#\/refs\/field"}},"required":["datum"]},{"additionalProperties":false,"type":"object","properties":{"___level":{"type":"number"},"___group":{"$ref":"#\/refs\/field"}},"required":["group"]},{"additionalProperties":false,"type":"object","properties":{"___parent":{"$ref":"#\/refs\/field"},"___level":{"type":"number"}},"required":["parent"]}]}],"title":"FieldRef"}}},"required":["field"]},{"properties":{"___range":{"type":["number","boolean"]}},"required":["range"]}]},{"required":["scale","value"]},{"required":["scale","band"]},{"required":["offset"]}]}],"type":"object"}]},"numberOrSignal":{"oneOf":[{"type":"number"},{"$eref":{"title":"SignalRef","type":"object","properties":{"___signal":{"type":"string"}},"required":["signal"]}}]},"facet":{"additionalProperties":false,"type":"object","properties":{"___facet":{"oneOf":[{"additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___field":{"type":"string"},"___data":{"type":"string"}},"required":["name","data","field"]},{"additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___groupby":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"___aggregate":{"type":"object","properties":{"___ops":{"type":"array","items":{"type":"string"}},"___fields":{"type":"array","items":{"type":"string"}},"___cross":{"type":"boolean"},"___as":{"type":"array","items":{"type":"string"}}}},"___data":{"type":"string"}},"required":["name","data","groupby"]}]},"___data":{"type":"string"}},"required":["facet"]}},"title":"Vega Visualization Specification Language","type":"object"}