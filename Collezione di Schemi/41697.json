{"invocation-schema":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","title":"Invocation manifest for MRIQC: Automatic prediction of quality and visual reporting of MRI scans in BIDS format","type":"object","properties":{"___config":{"type":"object","properties":{"___verbose":{"default":"v","type":"string","enum":["","v","vv","vvv"]},"___gear-run-bids-validation":{"default":true,"type":"boolean"},"___correct-slice-timing":{"type":"boolean"},"___despike":{"type":"boolean"},"___session-id":{"type":"string"},"___gear-dry-run":{"default":false,"type":"boolean"},"___run-id":{"type":"string"},"___fft-spikes-detector":{"type":"boolean"},"___ants-float":{"type":"boolean"},"___profile":{"type":"boolean"},"___task-id":{"type":"string"},"___verbose-reports":{"type":"boolean"},"___gear-intermediate-folders":{"default":"","type":"string"},"___gear-intermediate-files":{"default":"","type":"string"},"___hmc-afni":{"type":"boolean"},"___hmc-fsl":{"type":"boolean"},"___stop-idx":{"type":"integer"},"___gear-abort-on-bids-error":{"default":false,"type":"boolean"},"___float32":{"type":"boolean"},"___gear-save-intermediate-output":{"default":false,"type":"boolean"},"___participant_label":{"type":"string"},"___webapi-url":{"type":"string"},"___gear-log-level":{"default":"INFO","type":"string","enum":["ERROR","WARNING","INFO","DEBUG"]},"___email":{"type":"string"},"___mem_gb":{"type":"integer"},"___ants-nthreads":{"type":"integer"},"___dry-run":{"type":"boolean"},"___modalities":{"type":"string","enum":["","T1w","bold","T2w","T1w bold","T1w T2w","bold T2w"]},"___ica":{"type":"boolean"},"___gear-keep-output":{"default":false,"type":"boolean"},"___fd_thres":{"type":"number"},"___n_procs":{"type":"integer"},"___webapi-port":{"type":"string"},"___write-graph":{"type":"boolean"},"___ants-settings":{"type":"string"},"___start-idx":{"type":"integer"},"___deoblique":{"type":"boolean"},"___no-sub":{"type":"boolean"}},"required":["gear-abort-on-bids-error","gear-log-level","gear-run-bids-validation","gear-save-intermediate-output","gear-intermediate-files","gear-intermediate-folders","gear-dry-run","gear-keep-output","verbose"]},"___inputs":{"type":"object","properties":{"___key":{"type":"object"}},"required":["key"]}},"required":["config","inputs"]},"exchange":{"rootfs-hash":"sha384:36aad10f158f29a0a7ca43e430cbfaf14b49e0cb7a55d6d9f3b1a6fc08d738ed16856132ecde6b05460c9b9960186aaa","git-commit":"90e85442eabdfda3823329020c86be9531623dd4","rootfs-url":"https:\/\/storage.googleapis.com\/flywheel-exchange\/flywheel-bids-mriqc-sha384-36aad10f158f29a0a7ca43e430cbfaf14b49e0cb7a55d6d9f3b1a6fc08d738ed16856132ecde6b05460c9b9960186aaa.tgz"},"gear":{"author":"Poldrack Lab, Stanford University","inputs":{"key":{"read-only":true,"base":"api-key"}},"custom":{"license":{"non-commercial-use-only":true,"main":{"name":"BSD-3-Clause","url":"https:\/\/github.com\/poldracklab\/mriqc\/blob\/0.15.1\/LICENSE.txt"},"dependencies":[{"name":"Other","url":"https:\/\/fsl.fmrib.ox.ac.uk\/fsl\/fslwiki\/Licence"},{"name":"Other","url":"https:\/\/github.com\/ANTsX\/ANTs\/blob\/v2.2.0\/COPYING.txt"},{"name":"Other","url":"https:\/\/afni.nimh.nih.gov\/pub\/dist\/doc\/program_help\/README.copyright.html"}]},"gear-builder":{"image":"flywheel\/bids-mriqc:1.0.8_0.15.1","category":"analysis"},"flywheel":{"suite":"BIDS Apps"},"docker-image":"flywheel\/bids-mriqc:1.0.8_0.15.1"},"description":"MRIQC (v0.15.1) extracts no-reference IQMs (image quality metrics) from structural (T1w and T2w) and functional MRI (magnetic resonance imaging) data.","source":"https:\/\/github.com\/flywheel-apps\/bids-mriqc","label":"MRIQC: Automatic prediction of quality and visual reporting of MRI scans in BIDS format","version":"1.0.8_0.15.1","url":"https:\/\/mriqc.readthedocs.io\/en\/stable\/about.html","maintainer":"Flywheel <support@flywheel.io>","command":"python run.py","license":"BSD-3-Clause","environment":{"PATH":"\/usr\/local\/miniconda\/bin:\/opt\/afni:\/usr\/lib\/ants:\/usr\/lib\/fsl\/5.0:\/usr\/lib\/afni\/bin:\/usr\/local\/sbin:\/usr\/local\/bin:\/usr\/sbin:\/usr\/bin:\/sbin:\/bin","PYTHONNOUSERSITE":"1","FSLMULTIFILEQUIT":"TRUE","AFNI_PLUGINPATH":"\/opt\/afni\/plugins","AFNI_MODELPATH":"\/opt\/afni\/models","FSLOUTPUTTYPE":"NIFTI_GZ","FSLDIR":"\/usr\/share\/fsl\/5.0","AFNI_TTATLAS_DATASET":"\/opt\/afni\/atlases","FSLWISH":"\/usr\/bin\/wish","LANG":"C.UTF-8","POSSUMDIR":"\/usr\/share\/fsl\/5.0","OMP_NUM_THREADS":"1","ANTSPATH":"\/usr\/lib\/ants","MKL_NUM_THREADS":"1","FSLTCLSH":"\/usr\/bin\/tclsh","LC_ALL":"C.UTF-8","LD_LIBRARY_PATH":"\/usr\/lib\/fsl\/5.0:","TEMPLATEFLOW_HOME":"\/opt\/templateflow","AFNI_IMSAVE_WARNINGS":"NO","CPATH":"\/usr\/local\/miniconda\/include\/:","HOME":"\/home\/bidsapp"},"name":"bids-mriqc","cite":"Esteban O, Birman D, Schaer M, Koyejo OO, Poldrack RA, Gorgolewski KJ; MRIQC: Advancing the Automatic Prediction of Image Quality in MRI from Unseen Sites; PLOS ONE 12(9):e0184661; doi:10.1371\/journal.pone.0184661.","config":{"participant_label":{"description":"space-separated subjects (without 'sub-') [PARTICIPANT_LABEL [PARTICIPANT_LABEL ...]","optional":true,"type":"string"},"ica":{"description":"Run ICA on the raw data and include the componentsin the individual reports (slow but potentially very insightful)","optional":true,"type":"boolean"},"ants-settings":{"description":"path to JSON file with settings for ANTS","optional":true,"type":"string"},"mem_gb":{"description":"Memory to use (default is 90% of total available)","optional":true,"type":"integer"},"webapi-port":{"description":"port where the MRIQC WebAPI is listening","optional":true,"type":"string"},"gear-intermediate-files":{"default":"","description":"Space separated list of FILES to retain from the intermediate work directory.","type":"string"},"verbose-reports":{"description":"increase verbosity of report","optional":true,"type":"boolean"},"start-idx":{"description":"Initial volume in functional timeseries that should be considered for preprocessing","optional":true,"type":"integer"},"modalities":{"description":"{T1w,bold,T2w} [{T1w,bold,T2w} ...] Default is all three","optional":true,"type":"string","enum":["","T1w","bold","T2w","T1w bold","T1w T2w","bold T2w"]},"no-sub":{"description":"Turn off submission of anonymized quality metrics to MRIQC\u2019s metrics repository","optional":true,"type":"boolean"},"deoblique":{"description":"Deoblique the functional scans during head motion correction preprocessing","optional":true,"type":"boolean"},"stop-idx":{"description":"Final volume in functional timeseries that should be considered for preprocessing","optional":true,"type":"integer"},"hmc-afni":{"description":"Use ANFI 3dvolreg for head motion correction (HMC) - default","optional":true,"type":"boolean"},"gear-save-intermediate-output":{"default":false,"description":"Gear will save ALL intermediate output into mriqc_work.zip","type":"boolean"},"gear-intermediate-folders":{"default":"","description":"Space separated list of FOLDERS to retain from the intermediate work directory.","type":"string"},"email":{"description":"Email address to include with quality metric submission","optional":true,"type":"string"},"ants-nthreads":{"description":"number of threads that will be set in ANTs processes","optional":true,"type":"integer"},"dry-run":{"description":"Run mriqc, but do not run the workflow inside","optional":true,"type":"boolean"},"hmc-fsl":{"description":"Use FSL MCFLIRT instead of AFNI for head motion correction (HMC)","optional":true,"type":"boolean"},"n_procs":{"description":"number of threads","optional":true,"type":"integer"},"gear-dry-run":{"default":false,"description":"Do everything except actually executing the command line","type":"boolean"},"profile":{"description":"hook up the resource profiler callback to nipype","optional":true,"type":"boolean"},"webapi-url":{"description":"IP address where the MRIQC WebAPI is listening","optional":true,"type":"string"},"float32":{"description":"Cast the input data to float32 if it\u2019s represented in higher precision (saves space and improves perfomance)","optional":true,"type":"boolean"},"verbose":{"default":"v","description":"increases mriqc log verbosity for each occurence, debug level is -vvv","type":"string","enum":["","v","vv","vvv"]},"gear-keep-output":{"default":false,"description":"Don't delete output.  Output is always zipped into a single file for easy download.  Choose this option to prevent output deletion after zipping.","type":"boolean"},"gear-log-level":{"default":"INFO","description":"Gear Log verbosity level (ERROR|WARNING|INFO|DEBUG)","type":"string","enum":["ERROR","WARNING","INFO","DEBUG"]},"ants-float":{"description":"use float number precision on ANTs computations","optional":true,"type":"boolean"},"correct-slice-timing":{"description":"Perform slice timing correction","optional":true,"type":"boolean"},"despike":{"description":"Despike the functional scans during head motion correction preprocessing","optional":true,"type":"boolean"},"gear-abort-on-bids-error":{"default":false,"description":"Gear will not run mriqc if there are any BIDS errors detected","type":"boolean"},"run-id":{"description":"[RUN_ID [RUN_ID ...]] filter input dataset by run id (only integer run ids are valid)","optional":true,"type":"string"},"gear-run-bids-validation":{"default":true,"description":"Gear will run BIDS validation before mriqc.  If validation fails and gear-abort-on-bids-error is true, mriq will NOT be run.","type":"boolean"},"fd_thres":{"description":"motion threshold for FD computation","optional":true,"type":"number"},"fft-spikes-detector":{"description":"Turn on FFT based spike detector (slow)","optional":true,"type":"boolean"},"task-id":{"description":"[TASK_ID [TASK_ID ...]] filter input dataset by task id","optional":true,"type":"string"},"write-graph":{"description":"Write workflow graph","optional":true,"type":"boolean"},"session-id":{"description":"space-separated sessions (without 'ses-') [SESSION_ID [SESSION_ID ...]]","optional":true,"type":"string"}}}}