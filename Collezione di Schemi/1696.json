{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"Microsoft VirtualMachineImages Resource Types","id":"https:\/\/schema.management.azure.com\/schemas\/2018-02-01-preview\/Microsoft.VirtualMachineImages.json#","title":"Microsoft.VirtualMachineImages","resourceDefinitions":{"imageTemplates":{"description":"Microsoft.VirtualMachineImages\/imageTemplates","type":"object","properties":{"___location":{"description":"Resource location","type":"string"},"___name":{"oneOf":[{"pattern":"^[A-Za-z0-9-_]{1,64}$","type":"string"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The name of the image Template"},"___type":{"type":"string","enum":["Microsoft.VirtualMachineImages\/imageTemplates"]},"___tags":{"oneOf":[{"additionalProperties":{"type":"string"},"type":"object","properties":{}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Resource tags"},"___properties":{"oneOf":[{"$eref":{"type":"object","properties":{"___distribute":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/ImageTemplateDistributor"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The distribution targets where the image output needs to go to."},"___customize":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/ImageTemplateCustomizer"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Specifies the properties used to describe the customization steps of the image, like Image source etc"},"___source":{"oneOf":[{"$ref":"#\/definitions\/ImageTemplateSource"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}]}},"required":["distribute","source"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}]},"___apiVersion":{"type":"string","enum":["2018-02-01-preview"]}},"required":["apiVersion","location","name","properties","type"]}},"definitions":{"_88ImageTemplateShellCustomizer":{"description":"Runs a shell script during the customization phase","type":"object","properties":{"___script":{"description":"The shell script to be run for customizing. It can be a github link, SAS URI for Azure Storage, etc","type":"string"},"___type":{"type":"string","enum":["shell"]}},"required":["type"]},"_88ImageTemplateProperties":{"type":"object","properties":{"___distribute":{"oneOf":[{"type":"array","items":{"$eref":{"oneOf":[{"$ref":"#\/definitions\/ImageTemplateManagedImageDistributor"},{"$ref":"#\/definitions\/ImageTemplateSharedImageDistributor"}],"description":"Generic distribution object","type":"object","properties":{"___artifactTags":{"oneOf":[{"additionalProperties":{"type":"string"},"type":"object","properties":{}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Tags that will be applied to the artifact once it has been created\/updated by the distributor."},"___runOutputName":{"oneOf":[{"pattern":"^[A-Za-z0-9-_]{1,64}$","type":"string"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The name to be used for the associated RunOutput."}},"required":["runOutputName"]}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The distribution targets where the image output needs to go to."},"___customize":{"oneOf":[{"type":"array","items":{"$eref":{"oneOf":[{"$ref":"#\/definitions\/ImageTemplateShellCustomizer"}],"type":"object","properties":{"___name":{"description":"Friendly Name to provide context on what this customization step does","type":"string"}}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Specifies the properties used to describe the customization steps of the image, like Image source etc"},"___source":{"oneOf":[{"$eref":{"oneOf":[{"$ref":"#\/definitions\/ImageTemplateIsoSource"},{"$ref":"#\/definitions\/ImageTemplatePlatformImageSource"}],"type":"object","properties":{}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}]}},"required":["distribute","source"]},"_88ImageTemplateManagedImageDistributor":{"description":"Distribute as a Managed Disk Image.","type":"object","properties":{"___location":{"description":"Azure location for the image, should match if image already exists","type":"string"},"___type":{"type":"string","enum":["managedImage"]},"___imageId":{"description":"Resource Id of the Managed Disk Image","type":"string"}},"required":["imageId","location","type"]},"_88ImageTemplateSource":{"oneOf":[{"$eref":{"description":"Describes an image source that is an installation ISO. Currently only supports Red Hat Enterprise Linux 7.2-7.5 ISO's.","type":"object","properties":{"___type":{"type":"string","enum":["ISO"]},"___sourceURI":{"description":"URL to get the ISO image. This URL has to be accessible to the resource provider at the time of the imageTemplate creation.","type":"string"},"___sha256Checksum":{"description":"SHA256 Checksum of the ISO image.","type":"string"}},"required":["sha256Checksum","sourceURI","type"]}},{"$eref":{"description":"Describes an image source from [Azure Gallery Images](https:\/\/docs.microsoft.com\/en-us\/rest\/api\/compute\/virtualmachineimages).","type":"object","properties":{"___version":{"description":"Image version from the [Azure Gallery Images](https:\/\/docs.microsoft.com\/en-us\/rest\/api\/compute\/virtualmachineimages).","type":"string"},"___type":{"type":"string","enum":["PlatformImage"]},"___offer":{"description":"Image offer from the [Azure Gallery Images](https:\/\/docs.microsoft.com\/en-us\/rest\/api\/compute\/virtualmachineimages).","type":"string"},"___sku":{"description":"Image sku from the [Azure Gallery Images](https:\/\/docs.microsoft.com\/en-us\/rest\/api\/compute\/virtualmachineimages).","type":"string"},"___publisher":{"description":"Image Publisher in [Azure Gallery Images](https:\/\/docs.microsoft.com\/en-us\/rest\/api\/compute\/virtualmachineimages).","type":"string"}},"required":["type"]}}],"type":"object","properties":{}},"_88ImageTemplatePlatformImageSource":{"description":"Describes an image source from [Azure Gallery Images](https:\/\/docs.microsoft.com\/en-us\/rest\/api\/compute\/virtualmachineimages).","type":"object","properties":{"___version":{"description":"Image version from the [Azure Gallery Images](https:\/\/docs.microsoft.com\/en-us\/rest\/api\/compute\/virtualmachineimages).","type":"string"},"___type":{"type":"string","enum":["PlatformImage"]},"___offer":{"description":"Image offer from the [Azure Gallery Images](https:\/\/docs.microsoft.com\/en-us\/rest\/api\/compute\/virtualmachineimages).","type":"string"},"___sku":{"description":"Image sku from the [Azure Gallery Images](https:\/\/docs.microsoft.com\/en-us\/rest\/api\/compute\/virtualmachineimages).","type":"string"},"___publisher":{"description":"Image Publisher in [Azure Gallery Images](https:\/\/docs.microsoft.com\/en-us\/rest\/api\/compute\/virtualmachineimages).","type":"string"}},"required":["type"]},"_88ImageTemplateIsoSource":{"description":"Describes an image source that is an installation ISO. Currently only supports Red Hat Enterprise Linux 7.2-7.5 ISO's.","type":"object","properties":{"___type":{"type":"string","enum":["ISO"]},"___sourceURI":{"description":"URL to get the ISO image. This URL has to be accessible to the resource provider at the time of the imageTemplate creation.","type":"string"},"___sha256Checksum":{"description":"SHA256 Checksum of the ISO image.","type":"string"}},"required":["sha256Checksum","sourceURI","type"]},"_88ImageTemplateCustomizer":{"oneOf":[{"$eref":{"description":"Runs a shell script during the customization phase","type":"object","properties":{"___script":{"description":"The shell script to be run for customizing. It can be a github link, SAS URI for Azure Storage, etc","type":"string"},"___type":{"type":"string","enum":["shell"]}},"required":["type"]}}],"type":"object","properties":{"___name":{"description":"Friendly Name to provide context on what this customization step does","type":"string"}}},"_88ImageTemplateDistributor":{"oneOf":[{"$eref":{"description":"Distribute as a Managed Disk Image.","type":"object","properties":{"___location":{"description":"Azure location for the image, should match if image already exists","type":"string"},"___type":{"type":"string","enum":["managedImage"]},"___imageId":{"description":"Resource Id of the Managed Disk Image","type":"string"}},"required":["imageId","location","type"]}},{"$eref":{"description":"Distribute via Shared Image Gallery.","type":"object","properties":{"___type":{"type":"string","enum":["sharedImage"]},"___galleryImageId":{"description":"Resource Id of the Shared Image Gallery image","type":"string"},"___replicationRegions":{"oneOf":[{"type":"array","items":{"type":"string"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}]}},"required":["galleryImageId","replicationRegions","type"]}}],"description":"Generic distribution object","type":"object","properties":{"___artifactTags":{"oneOf":[{"additionalProperties":{"type":"string"},"type":"object","properties":{}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Tags that will be applied to the artifact once it has been created\/updated by the distributor."},"___runOutputName":{"oneOf":[{"pattern":"^[A-Za-z0-9-_]{1,64}$","type":"string"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The name to be used for the associated RunOutput."}},"required":["runOutputName"]},"_88ImageTemplateSharedImageDistributor":{"description":"Distribute via Shared Image Gallery.","type":"object","properties":{"___type":{"type":"string","enum":["sharedImage"]},"___galleryImageId":{"description":"Resource Id of the Shared Image Gallery image","type":"string"},"___replicationRegions":{"oneOf":[{"type":"array","items":{"type":"string"}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}]}},"required":["galleryImageId","replicationRegions","type"]}}}