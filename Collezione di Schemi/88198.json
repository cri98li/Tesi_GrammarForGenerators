{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"http:\/\/schemas.wbeme.com\/json-schema\/eme\/users\/event\/user-created\/1-0-0.json#","additionalProperties":false,"type":"object","definitions":{"_88address":{"anyOf":[{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"http:\/\/schemas.wbeme.com\/json-schema\/gdbots\/geo\/address\/1-0-0.json#","additionalProperties":false,"type":"object","properties":{"___street1":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":255},"____schema":{"default":"pbj:gdbots:geo::address:1-0-0","pattern":"^pbj:([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+):([0-9]+-[0-9]+-[0-9]+)$","type":"string"},"___po_box":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":20},"___continent":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":255},"___region_name":{"minLength":0,"pbj":{"rule":"single","type":"string"},"description":"The full name of the region, e.g. \"California\".","type":"string","maxLength":150},"___geo_hash":{"pattern":"^\\w+$","pbj":{"rule":"single","type":"string"},"type":"string"},"___is_verified":{"pbj":{"rule":"single","type":"boolean"},"type":"boolean"},"___postal_code":{"pattern":"^[\\w\\s-]+$","pbj":{"rule":"single","type":"string"},"type":"string"},"___street2":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":20},"___geo_point":{"pbj":{"rule":"single","type":"geo-point"},"additionalProperties":false,"type":"object","properties":{"___coordinates":{"type":"array","items":[{"maximum":180,"type":"number","minimum":-180,"required":true},{"maximum":90,"type":"number","minimum":-90,"required":true}]},"___type":{"pattern":"^Point$","type":"string"}},"required":["type","coordinates"]},"___country":{"pattern":"^[A-Z]{2}$","pbj":{"rule":"single","type":"string"},"type":"string"},"___city":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":100},"___region":{"pattern":"^[A-Z0-9]{2}$","description":"A two letter alpha or numeric code indicating the region, e.g. \"CA\". @link http:\/\/www.maxmind.com\/download\/geoip\/misc\/region_codes.csv","pbj":{"rule":"single","type":"string"},"type":"string"}},"required":["_schema"]}},{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"http:\/\/schemas.wbeme.com\/json-schema\/gdbots\/geo\/address\/1-0-1.json#","additionalProperties":false,"type":"object","properties":{"___verified":{"description":"Indicates if a verification has been run on this address.","pbj":{"rule":"single","type":"boolean"},"type":"boolean"},"___street1":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":255},"____schema":{"default":"pbj:gdbots:geo::address:1-0-1","pattern":"^pbj:([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+):([0-9]+-[0-9]+-[0-9]+)$","type":"string"},"___po_box":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":20},"___continent":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":255},"___region_name":{"minLength":0,"pbj":{"rule":"single","type":"string"},"description":"The full name of the region, e.g. \"California\".","type":"string","maxLength":150},"___geo_hash":{"pattern":"^\\w+$","pbj":{"rule":"single","type":"string"},"type":"string"},"___is_verified":{"description":"Indicates if this is a valid adddress or not. Generally only true if the verified field is also true.","pbj":{"rule":"single","type":"boolean"},"type":"boolean"},"___postal_code":{"pattern":"^[\\w\\s-]+$","pbj":{"rule":"single","type":"string"},"type":"string"},"___street2":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":20},"___geo_point":{"pbj":{"rule":"single","type":"geo-point"},"additionalProperties":false,"type":"object","properties":{"___coordinates":{"type":"array","items":[{"maximum":180,"type":"number","minimum":-180,"required":true},{"maximum":90,"type":"number","minimum":-90,"required":true}]},"___type":{"pattern":"^Point$","type":"string"}},"required":["type","coordinates"]},"___country":{"pattern":"^[A-Z]{2}$","pbj":{"rule":"single","type":"string"},"type":"string"},"___city":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":100},"___region":{"pattern":"^[A-Z0-9]{2}$","description":"A two letter alpha or numeric code indicating the region, e.g. \"CA\". @link http:\/\/www.maxmind.com\/download\/geoip\/misc\/region_codes.csv","pbj":{"rule":"single","type":"string"},"type":"string"}},"required":["_schema"]}},{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"http:\/\/schemas.wbeme.com\/json-schema\/gdbots\/geo\/address\/1-0-2.json#","additionalProperties":false,"type":"object","properties":{"___verified":{"description":"Indicates if a verification has been run on this address.","pbj":{"rule":"single","type":"boolean"},"type":"boolean"},"___street1":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":255},"____schema":{"default":"pbj:gdbots:geo::address:1-0-2","pattern":"^pbj:([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+):([0-9]+-[0-9]+-[0-9]+)$","type":"string"},"___po_box":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":20},"___continent":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":255},"___county":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":100},"___region_name":{"minLength":0,"pbj":{"rule":"single","type":"string"},"description":"The full name of the region, e.g. \"California\".","type":"string","maxLength":150},"___geo_hash":{"pattern":"^\\w+$","pbj":{"rule":"single","type":"string"},"type":"string"},"___is_verified":{"description":"Indicates if this is a valid adddress or not. Generally only true if the verified field is also true.","pbj":{"rule":"single","type":"boolean"},"type":"boolean"},"___postal_code":{"pattern":"^[\\w\\s-]+$","pbj":{"rule":"single","type":"string"},"type":"string"},"___street2":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":20},"___geo_point":{"pbj":{"rule":"single","type":"geo-point"},"additionalProperties":false,"type":"object","properties":{"___coordinates":{"type":"array","items":[{"maximum":180,"type":"number","minimum":-180,"required":true},{"maximum":90,"type":"number","minimum":-90,"required":true}]},"___type":{"pattern":"^Point$","type":"string"}},"required":["type","coordinates"]},"___country":{"pattern":"^[A-Z]{2}$","pbj":{"rule":"single","type":"string"},"type":"string"},"___city":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":100},"___region":{"pattern":"^[A-Z0-9]{2}$","description":"A two letter alpha or numeric code indicating the region, e.g. \"CA\". @link http:\/\/www.maxmind.com\/download\/geoip\/misc\/region_codes.csv","pbj":{"rule":"single","type":"string"},"type":"string"}},"required":["_schema"]}}],"type":"object"},"_88cloud":{"anyOf":[{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"http:\/\/schemas.wbeme.com\/json-schema\/gdbots\/contexts\/cloud\/1-0-0.json#","additionalProperties":false,"type":"object","properties":{"___instance_type":{"pattern":"^[\\w\\.-]+$","pbj":{"rule":"single","type":"string"},"type":"string"},"____schema":{"default":"pbj:gdbots:contexts::cloud:1-0-0","pattern":"^pbj:([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+):([0-9]+-[0-9]+-[0-9]+)$","type":"string"},"___provider":{"minLength":0,"pattern":"^([\\w\\\/-]|[\\w-][\\w\\\/-]*[\\w-])$","pbj":{"format":"slug","rule":"single","type":"string"},"type":"string","maxLength":20},"___instance_id":{"pattern":"^[\\w\\.-]+$","pbj":{"rule":"single","type":"string"},"type":"string"},"___zone":{"minLength":0,"pattern":"^([\\w\\\/-]|[\\w-][\\w\\\/-]*[\\w-])$","pbj":{"format":"slug","rule":"single","type":"string"},"type":"string","maxLength":20},"___region":{"minLength":0,"pattern":"^([\\w\\\/-]|[\\w-][\\w\\\/-]*[\\w-])$","pbj":{"format":"slug","rule":"single","type":"string"},"type":"string","maxLength":20}},"required":["_schema"]}}],"type":"object"},"_88node":{"anyOf":[{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"http:\/\/schemas.wbeme.com\/json-schema\/gdbots\/ncr\/mixin\/node\/1-0-0.json#","additionalProperties":true,"type":"object","properties":{"___creator_ref":{"pbj":{"rule":"single","type":"message-ref"},"description":"A fully qualified reference to what created this node. This is intentionally a message-ref and not a user id because it is often a program that creates nodes, not a user.","additionalProperties":false,"type":"object","properties":{"___curie":{"minLength":0,"pattern":"^([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+)$","type":"string","maxLength":146},"___id":{"minLength":0,"pattern":"^[A-Za-z0-9:_\\-]+$","type":"string","maxLength":255},"___tag":{"minLength":0,"pattern":"^([\\w\\\/-]|[\\w-][\\w\\\/-]*[\\w-])$","type":"string","maxLength":255}},"required":["curie","id"]},"___etag":{"pattern":"^[\\w\\.:-]+$","pbj":{"rule":"single","type":"string"},"type":"string"},"___status":{"default":"draft","pbj":{"rule":"single","type":"string-enum"},"type":"string","enum":["unknown","published","scheduled","pending","draft","expired","archived","deleted"]},"___updater_ref":{"pbj":{"rule":"single","type":"message-ref"},"description":"A fully qualified reference to what updated this node. This is intentionally a message-ref and not a user id because it is often a program that updates nodes, not a user. E.g. \"acme:iam:node:app:cli-scheduler\" or \"acme:iam:node:user:60c71df0-fda8-11e5-bfb9-30342d363854\"","additionalProperties":false,"type":"object","properties":{"___curie":{"minLength":0,"pattern":"^([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+)$","type":"string","maxLength":146},"___id":{"minLength":0,"pattern":"^[A-Za-z0-9:_\\-]+$","type":"string","maxLength":255},"___tag":{"minLength":0,"pattern":"^([\\w\\\/-]|[\\w-][\\w\\\/-]*[\\w-])$","type":"string","maxLength":255}},"required":["curie","id"]},"___created_at":{"pattern":"^[1-9]{1}[0-9]{12,15}$","pbj":{"rule":"single","type":"microtime"},"type":"string"},"___last_event_ref":{"pbj":{"rule":"single","type":"message-ref"},"description":"A reference to the last event that changed the state of this node. E.g. \"acme:blog:event:article-published:60c71df0-fda8-11e5-bfb9-30342d363854\"","additionalProperties":false,"type":"object","properties":{"___curie":{"minLength":0,"pattern":"^([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+)$","type":"string","maxLength":146},"___id":{"minLength":0,"pattern":"^[A-Za-z0-9:_\\-]+$","type":"string","maxLength":255},"___tag":{"minLength":0,"pattern":"^([\\w\\\/-]|[\\w-][\\w\\\/-]*[\\w-])$","type":"string","maxLength":255}},"required":["curie","id"]},"____id":{"pattern":"^[\\w\\\/\\.:-]+$","description":"The \"_id\" value: - MUST NOT change for the life of the node. - SHOULD be globally unique - SHOULD be generated by the app (ideally in default value closure... e.g. UuidIdentifier::generate())","pbj":{"overridable":true,"rule":"single","type":"identifier"},"type":"string"},"___title":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":255},"___updated_at":{"pattern":"^[1-9]{1}[0-9]{12,15}$","pbj":{"useTypeDefault":false,"rule":"single","type":"microtime"},"type":"string"}},"required":["_id"]}}],"type":"object"},"_88user-agent":{"anyOf":[{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"http:\/\/schemas.wbeme.com\/json-schema\/gdbots\/contexts\/user-agent\/1-0-0.json#","additionalProperties":false,"type":"object","properties":{"___os_major":{"default":0,"pbj":{"rule":"single","type":"small-int"},"maximum":65535,"type":"integer","minimum":0},"___br_major":{"default":0,"pbj":{"rule":"single","type":"small-int"},"maximum":65535,"type":"integer","minimum":0},"___os_patch":{"default":0,"pbj":{"rule":"single","type":"small-int"},"maximum":65535,"type":"integer","minimum":0},"____schema":{"default":"pbj:gdbots:contexts::user-agent:1-0-0","pattern":"^pbj:([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+):([0-9]+-[0-9]+-[0-9]+)$","type":"string"},"___os_family":{"pattern":".+","pbj":{"rule":"single","type":"string"},"type":"string"},"___os_minor":{"default":0,"pbj":{"rule":"single","type":"small-int"},"maximum":65535,"type":"integer","minimum":0},"___br_family":{"pattern":".+","pbj":{"rule":"single","type":"string"},"type":"string"},"___os_patch_minor":{"default":0,"pbj":{"rule":"single","type":"small-int"},"maximum":65535,"type":"integer","minimum":0},"___br_patch":{"default":0,"pbj":{"rule":"single","type":"small-int"},"maximum":65535,"type":"integer","minimum":0},"___br_minor":{"default":0,"pbj":{"rule":"single","type":"small-int"},"maximum":65535,"type":"integer","minimum":0},"___dvce_family":{"pattern":".+","pbj":{"rule":"single","type":"string"},"type":"string"}},"required":["_schema"]}}],"type":"object"},"_88app":{"anyOf":[{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"http:\/\/schemas.wbeme.com\/json-schema\/gdbots\/contexts\/app\/1-0-0.json#","additionalProperties":false,"type":"object","properties":{"___name":{"pattern":"^[\\w\\.-]+$","pbj":{"rule":"single","type":"string"},"type":"string"},"___version":{"pattern":"^[\\w\\.-]+$","pbj":{"rule":"single","type":"string"},"type":"string"},"___vendor":{"pattern":"^[\\w\\.-]+$","pbj":{"rule":"single","type":"string"},"type":"string"},"___variant":{"pattern":"^[\\w\\.-]+$","pbj":{"rule":"single","type":"string"},"type":"string"},"____schema":{"default":"pbj:gdbots:contexts::app:1-0-0","pattern":"^pbj:([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+):([0-9]+-[0-9]+-[0-9]+)$","type":"string"},"____id":{"pattern":"^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$","pbj":{"useTypeDefault":false,"rule":"single","type":"uuid"},"type":"string"},"___build":{"pattern":"^[\\w\\.-]+$","pbj":{"rule":"single","type":"string"},"type":"string"}},"required":["_schema"]}}],"type":"object"}},"properties":{"___ts_ymdh":{"default":0,"pbj":{"rule":"single","type":"int"},"maximum":4294967295,"type":"integer","minimum":0},"___ts_ym":{"default":0,"pbj":{"rule":"single","type":"medium-int"},"maximum":16777215,"type":"integer","minimum":0},"___ctx_causator_ref":{"pbj":{"rule":"single","type":"message-ref"},"additionalProperties":false,"type":"object","properties":{"___curie":{"minLength":0,"pattern":"^([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+)$","type":"string","maxLength":146},"___id":{"minLength":0,"pattern":"^[A-Za-z0-9:_\\-]+$","type":"string","maxLength":255},"___tag":{"minLength":0,"pattern":"^([\\w\\\/-]|[\\w-][\\w\\\/-]*[\\w-])$","type":"string","maxLength":255}},"required":["curie","id"]},"___ctx_ipv6":{"format":"ipv6","pbj":{"format":"ipv6","overridable":true,"rule":"single","type":"string"},"type":"string"},"___ctx_ua_parsed":{"anyOf":[{"$eref":{"anyOf":[{"$ref":"http:\/\/schemas.wbeme.com\/json-schema\/gdbots\/contexts\/user-agent\/1-0-0.json#"}],"type":"object"}}],"pbj":{"rule":"single","type":"message"},"type":"object"},"___ctx_ip_geo":{"anyOf":[{"$eref":{"anyOf":[{"$ref":"http:\/\/schemas.wbeme.com\/json-schema\/gdbots\/geo\/address\/1-0-0.json#"},{"$ref":"http:\/\/schemas.wbeme.com\/json-schema\/gdbots\/geo\/address\/1-0-1.json#"},{"$ref":"http:\/\/schemas.wbeme.com\/json-schema\/gdbots\/geo\/address\/1-0-2.json#"}],"type":"object"}}],"pbj":{"rule":"single","type":"message"},"type":"object"},"___account_id":{"pattern":"^[\\w\\\/\\.:-]+$","description":"The EME account that this message is associated with.","pbj":{"rule":"single","type":"identifier"},"type":"string"},"___day_of_week":{"default":0,"pbj":{"rule":"single","type":"int-enum"},"type":"integer","enum":[0,1,2,3,4,5,6,7]},"___is_weekend":{"pbj":{"rule":"single","type":"boolean"},"type":"boolean"},"____schema":{"default":"pbj:eme:users:event:user-created:1-0-0","pattern":"^pbj:([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+):([0-9]+-[0-9]+-[0-9]+)$","type":"string"},"___ctx_cloud":{"description":"The \"ctx_cloud\" is usually copied from the command that resulted in this event being published. This means the value most likely refers to the cloud that received the command originally, not the machine processing the event.","anyOf":[{"$eref":{"anyOf":[{"$ref":"http:\/\/schemas.wbeme.com\/json-schema\/gdbots\/contexts\/cloud\/1-0-0.json#"}],"type":"object"}}],"pbj":{"rule":"single","type":"message"},"type":"object"},"___event_id":{"pattern":"^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$","pbj":{"rule":"single","type":"time-uuid"},"type":"string"},"___day_of_month":{"default":0,"pbj":{"rule":"single","type":"tiny-int"},"maximum":31,"type":"integer","minimum":0},"___ctx_correlator_ref":{"pbj":{"rule":"single","type":"message-ref"},"additionalProperties":false,"type":"object","properties":{"___curie":{"minLength":0,"pattern":"^([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+)$","type":"string","maxLength":146},"___id":{"minLength":0,"pattern":"^[A-Za-z0-9:_\\-]+$","type":"string","maxLength":255},"___tag":{"minLength":0,"pattern":"^([\\w\\\/-]|[\\w-][\\w\\\/-]*[\\w-])$","type":"string","maxLength":255}},"required":["curie","id"]},"___ctx_ua":{"minLength":0,"pbj":{"overridable":true,"rule":"single","type":"text"},"type":"string","maxLength":65535},"___month_of_year":{"default":0,"pbj":{"rule":"single","type":"int-enum"},"type":"integer","enum":[0,1,2,3,4,5,6,7,8,9,10,11,12]},"___ctx_ip":{"format":"ipv4","pbj":{"format":"ipv4","overridable":true,"rule":"single","type":"string"},"type":"string"},"___ctx_app":{"description":"The \"ctx_app\" refers to the application used to send the command which in turn resulted in this event being published.","anyOf":[{"$eref":{"anyOf":[{"$ref":"http:\/\/schemas.wbeme.com\/json-schema\/gdbots\/contexts\/app\/1-0-0.json#"}],"type":"object"}}],"pbj":{"rule":"single","type":"message"},"type":"object"},"___ctx_user_ref":{"pbj":{"rule":"single","type":"message-ref"},"additionalProperties":false,"type":"object","properties":{"___curie":{"minLength":0,"pattern":"^([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+)$","type":"string","maxLength":146},"___id":{"minLength":0,"pattern":"^[A-Za-z0-9:_\\-]+$","type":"string","maxLength":255},"___tag":{"minLength":0,"pattern":"^([\\w\\\/-]|[\\w-][\\w\\\/-]*[\\w-])$","type":"string","maxLength":255}},"required":["curie","id"]},"___ts_ymd":{"default":0,"pbj":{"rule":"single","type":"int"},"maximum":4294967295,"type":"integer","minimum":0},"___occurred_at":{"pattern":"^[1-9]{1}[0-9]{12,15}$","pbj":{"rule":"single","type":"microtime"},"type":"string"},"___hour_of_day":{"default":0,"pbj":{"rule":"single","type":"tiny-int"},"maximum":23,"type":"integer","minimum":0},"___node":{"anyOf":[{"$eref":{"anyOf":[{"$ref":"http:\/\/schemas.wbeme.com\/json-schema\/gdbots\/ncr\/mixin\/node\/1-0-0.json#"}],"type":"object"}}],"pbj":{"overridable":true,"rule":"single","type":"message"},"type":"object"}},"required":["_schema","event_id","node"]}