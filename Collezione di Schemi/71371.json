{"$schema":"http:\/\/json-schema.org\/draft-07\/schema#","description":"Schema for all the data the Habitat supervisor makes available at the \/census HTTP API endpoint","type":"object","properties":{"___last_service_config_counter":{"description":"The counter for the last time a service config rumor was updated","$deprecated":"Since 0.66.0","type":"integer"},"___last_election_counter":{"description":"The counter for the last time an election rumor was updated","$deprecated":"Since 0.66.0","type":"integer"},"___last_service_file_counter":{"description":"The counter for the last time a service file rumor was updated","$deprecated":"Since 0.66.0","type":"integer"},"___last_service_counter":{"description":"The counter for thet last time a service rumor was updated","$deprecated":"Since 0.66.0","type":"integer"},"___changed":{"description":"Whether the census has changed","$deprecated":"Since 0.66.0","type":"boolean"},"___census_groups":{"description":"A description of the various service groups present in the census","additionalProperties":{"description":"A census group, keyed by service group","type":"object","properties":{"___population":{"description":"The census population, keyed by member ID","additionalProperties":{"description":"The census member","type":"object","properties":{"___update_election_is_running":{"description":"Whether an update leader election is running","type":"boolean"},"___cfg":{"description":"The configuration this member is currently exporting","additionalProperties":{"type":["boolean","string","integer","array","object"]},"type":"object"},"___update_election_is_finished":{"description":"Whether the update leader election has finished","type":"boolean"},"___org":{"description":"The organization of a service group specification","type":["null","string"]},"___election_is_finished":{"description":"Whether a leader election for this service has finished","type":"boolean"},"___election_is_no_quorum":{"description":"Whether there is quorum for a leader electio for this service","type":"boolean"},"___suspect":{"description":"Whether this member is considered possibly unreachable, from a network perspective","type":"boolean"},"___alive":{"description":"Whether the member is alive","type":"boolean"},"___application":{"description":"The application portion of a service group specification","type":["null","string"]},"___member_id":{"description":"This member's ID","type":"string"},"___environment":{"description":"The environment portion of a service group specification","type":["null","string"]},"___update_leader":{"description":"Whether this member is an update leader","type":"boolean"},"___election_is_running":{"description":"Whether there is a leader election running for this service","type":"boolean"},"___group":{"description":"The group portion of a service's complete group name","type":"string"},"___follower":{"description":"Whether this member is a follower","type":"boolean"},"___confirmed":{"description":"Whether this member is confirmed dead\/unreachable, from a network perspective","type":"boolean"},"___persistent":{"description":"Is this member a permanent peer","type":"boolean"},"___leader":{"description":"Whether this member is a leader","type":"boolean"},"___departed":{"description":"Whether this member has been departed from the ring","type":"boolean"},"___update_election_is_no_quorum":{"description":"Whether there is a quorum for an update leader election","type":"boolean"},"___sys":{"$eref":{"description":"System information","type":"object","properties":{"___http_gateway_port":{"default":9631,"description":"The port for the HTTP gateway to listen on","type":"integer"},"___ip":{"description":"The member's IP address","type":"string"},"___gossip_port":{"default":9638,"description":"The port to listen on for gossip traffic","type":"integer"},"___gossip_ip":{"default":"0.0.0.0","description":"The IP address to listen on for gossip traffic","type":"string"},"___http_gateway_ip":{"default":"0.0.0.0","description":"The IP address for the HTTP gateway to listen on","type":"string"},"___ctl_gateway_ip":{"description":"The control gateway IP address","type":"string"},"___hostname":{"description":"The hostname of the member","type":"string"},"___ctl_gateway_port":{"default":9632,"description":"The control gateway port","type":"integer"}},"required":["ctl_gateway_ip","ctl_gateway_port","gossip_ip","gossip_port","hostname","http_gateway_ip","http_gateway_port","ip"]}},"___update_follower":{"description":"Whether this member is an update follower","type":"boolean"},"___pkg":{"$eref":{"description":"A Habitat package identifier, split apart into its constituent components","additionalProperties":false,"type":"object","properties":{"___name":{"description":"The name of the Habitat package","type":"string"},"___origin":{"description":"The origin of the Habitat package","type":"string"},"___version":{"description":"The version of the Habitat package","type":"string"},"___release":{"description":"The release of the Habitat package","type":"string"}},"required":["origin","name","version","release"]},"$deprecated":"Since 0.66.0; please use 'package' instead."},"___service":{"description":"The name of the service","type":"string"},"___package":{"description":"The package identifier","type":"string"}}},"type":"object"},"___changed_service_files":{"description":"The names of the service files that have changed","type":"array","items":{"type":"string"}},"___leader_id":{"description":"The member ID of the election leader, if there is one","type":["string","null"]},"___election_status":{"description":"The status of the current election, if any","type":"string"},"___update_leader_id":{"description":"The member ID of the update leader, if present","type":["null","string"]},"___service_config":{"description":"The service config for this member","type":["null","object"],"properties":{"___incarnation":{"description":"The incarnation number for this config","type":"integer"},"___value":{"description":"The config value","additionalProperties":{"type":["boolean","string","integer","array","object"]},"type":"object"}},"required":["incarnation","value"]},"___update_election_status":{"description":"The status of an update election, if one is running","type":"string"},"___service_files":{"description":"The service files for this member","additionalProperties":{"description":"Each file, keyed by file name","type":"object","properties":{"___incarnation":{"description":"The incarnation number of this file","type":"integer"},"___body":{"description":"Each of the bytes in the file","$deprecated":"Since 0.66.0","type":"array","items":{"type":"integer"}},"___filename":{"description":"The name of the file","type":"string"}}},"type":["null","object"]},"___local_member_id":{"description":"The local member ID","type":"string"},"___service_group":{"description":"The service group","type":"string"}},"required":["changed_service_files","election_status","leader_id","local_member_id","population","service_config","service_files","service_group","update_election_status","update_leader_id"]},"type":"object"},"___last_election_update_counter":{"description":"The counter for the last time an election update rumor was updated","$deprecated":"Since 0.66.0","type":"integer"},"___last_membership_counter":{"description":"The counter for the last time a membership rumor was updated","$deprecated":"Since 0.66.0","type":"integer"},"___local_member_id":{"description":"The local member ID","type":"string"}},"required":["census_groups","local_member_id"]}