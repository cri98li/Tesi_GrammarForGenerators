{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"Microsoft Devices Resource Types","id":"https:\/\/schema.management.azure.com\/schemas\/2018-01-22\/Microsoft.Devices.Provisioning.json#","title":"Microsoft.Devices","resourceDefinitions":{"provisioningServices":{"description":"Microsoft.Devices\/provisioningServices","type":"object","properties":{"___location":{"description":"The resource location.","type":"string"},"___name":{"description":"Name of provisioning service to create or update.","type":"string"},"___etag":{"description":"The Etag field is *not* required. If it is provided in the response body, it must also be provided as a header per the normal ETag convention.","type":"string"},"___type":{"type":"string","enum":["Microsoft.Devices\/provisioningServices"]},"___tags":{"oneOf":[{"additionalProperties":{"type":"string"},"type":"object","properties":{}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The resource tags."},"___properties":{"oneOf":[{"$eref":{"description":"the service specific properties of a provisioning service, including keys, linked iot hubs, current state, and system generated properties such as hostname and idScope","type":"object","properties":{"___allocationPolicy":{"oneOf":[{"type":"string","enum":["Hashed","GeoLatency","Static"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Allocation policy to be used by this provisioning service."},"___state":{"oneOf":[{"type":"string","enum":["Activating","Active","Deleting","Deleted","ActivationFailed","DeletionFailed","Transitioning","Suspending","Suspended","Resuming","FailingOver","FailoverFailed"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Current state of the provisioning service."},"___authorizationPolicies":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/SharedAccessSignatureAuthorizationRuleAccessRightsDescription"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"List of authorization keys for a provisioning service."},"___provisioningState":{"description":"The ARM provisioning state of the provisioning service.","type":"string"},"___iotHubs":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/IotHubDefinitionDescription"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"List of IoT hubs associated with this provisioning service."}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"the service specific properties of a provisioning service, including keys, linked iot hubs, current state, and system generated properties such as hostname and idScope"},"___sku":{"oneOf":[{"$eref":{"description":"List of possible provisioning service SKUs.","type":"object","properties":{"___capacity":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The number of units to provision"},"___name":{"oneOf":[{"type":"string","enum":["S1"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Sku name."}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"List of possible provisioning service SKUs."},"___apiVersion":{"type":"string","enum":["2018-01-22"]},"___resources":{"type":"array","items":{"oneOf":[{"$eref":{"description":"Microsoft.Devices\/provisioningServices\/certificates","type":"object","properties":{"___certificate":{"description":"Base-64 representation of the X509 leaf certificate .cer file or just .pem file content.","type":"string"},"___name":{"description":"The name of the certificate create or update.","type":"string"},"___type":{"type":"string","enum":["certificates"]},"___apiVersion":{"type":"string","enum":["2018-01-22"]}},"required":["apiVersion","name","type"]}}]}}},"required":["apiVersion","location","name","properties","sku","type"]},"provisioningServices_certificates":{"description":"Microsoft.Devices\/provisioningServices\/certificates","type":"object","properties":{"___certificate":{"description":"Base-64 representation of the X509 leaf certificate .cer file or just .pem file content.","type":"string"},"___name":{"description":"The name of the certificate create or update.","type":"string"},"___type":{"type":"string","enum":["Microsoft.Devices\/provisioningServices\/certificates"]},"___apiVersion":{"type":"string","enum":["2018-01-22"]}},"required":["apiVersion","name","type"]}},"definitions":{"_88IotDpsSkuInfo":{"description":"List of possible provisioning service SKUs.","type":"object","properties":{"___capacity":{"oneOf":[{"type":"integer"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The number of units to provision"},"___name":{"oneOf":[{"type":"string","enum":["S1"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Sku name."}}},"_88provisioningServices_certificates_childResource":{"description":"Microsoft.Devices\/provisioningServices\/certificates","type":"object","properties":{"___certificate":{"description":"Base-64 representation of the X509 leaf certificate .cer file or just .pem file content.","type":"string"},"___name":{"description":"The name of the certificate create or update.","type":"string"},"___type":{"type":"string","enum":["certificates"]},"___apiVersion":{"type":"string","enum":["2018-01-22"]}},"required":["apiVersion","name","type"]},"_88SharedAccessSignatureAuthorizationRuleAccessRightsDescription":{"description":"Description of the shared access key.","type":"object","properties":{"___primaryKey":{"description":"Primary SAS key value.","type":"string"},"___keyName":{"description":"Name of the key.","type":"string"},"___rights":{"oneOf":[{"type":"string","enum":["ServiceConfig","EnrollmentRead","EnrollmentWrite","DeviceConnect","RegistrationStatusRead","RegistrationStatusWrite"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Rights that this key has."},"___secondaryKey":{"description":"Secondary SAS key value.","type":"string"}},"required":["keyName","rights"]},"_88IotDpsPropertiesDescription":{"description":"the service specific properties of a provisioning service, including keys, linked iot hubs, current state, and system generated properties such as hostname and idScope","type":"object","properties":{"___allocationPolicy":{"oneOf":[{"type":"string","enum":["Hashed","GeoLatency","Static"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Allocation policy to be used by this provisioning service."},"___state":{"oneOf":[{"type":"string","enum":["Activating","Active","Deleting","Deleted","ActivationFailed","DeletionFailed","Transitioning","Suspending","Suspended","Resuming","FailingOver","FailoverFailed"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Current state of the provisioning service."},"___authorizationPolicies":{"oneOf":[{"type":"array","items":{"$eref":{"description":"Description of the shared access key.","type":"object","properties":{"___primaryKey":{"description":"Primary SAS key value.","type":"string"},"___keyName":{"description":"Name of the key.","type":"string"},"___rights":{"oneOf":[{"type":"string","enum":["ServiceConfig","EnrollmentRead","EnrollmentWrite","DeviceConnect","RegistrationStatusRead","RegistrationStatusWrite"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Rights that this key has."},"___secondaryKey":{"description":"Secondary SAS key value.","type":"string"}},"required":["keyName","rights"]}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"List of authorization keys for a provisioning service."},"___provisioningState":{"description":"The ARM provisioning state of the provisioning service.","type":"string"},"___iotHubs":{"oneOf":[{"type":"array","items":{"$eref":{"description":"Description of the IoT hub.","type":"object","properties":{"___location":{"description":"ARM region of the IoT hub.","type":"string"},"___allocationWeight":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"weight to apply for a given iot h."},"___applyAllocationPolicy":{"oneOf":[{"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"flag for applying allocationPolicy or not for a given iot hub."},"___connectionString":{"description":"Connection string og the IoT hub.","type":"string"}},"required":["connectionString","location"]}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"List of IoT hubs associated with this provisioning service."}}},"_88IotHubDefinitionDescription":{"description":"Description of the IoT hub.","type":"object","properties":{"___location":{"description":"ARM region of the IoT hub.","type":"string"},"___allocationWeight":{"oneOf":[{"type":"integer"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"weight to apply for a given iot h."},"___applyAllocationPolicy":{"oneOf":[{"type":"boolean"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"flag for applying allocationPolicy or not for a given iot hub."},"___connectionString":{"description":"Connection string og the IoT hub.","type":"string"}},"required":["connectionString","location"]}}}