{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","type":"object","_copyright":"Copyright (c) 2014 Juniper Networks, Inc. All rights reserved.","properties":{"___email":{"default":null,"description":"Email id to send status of reimage\/provision.","type":"string"},"___parameters":{"type":"object","properties":{"___subnet_mask":{"default":null,"pattern":"^$|^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\/[0-9][0-9])?$","description":"Subnet mask that all the servers of the cluster will default to.","type":"string"},"___password":{"default":null,"description":"Root Password that all the servers of the cluster will default to.","type":"string"},"___gateway":{"default":null,"pattern":"^$|^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\/[0-9][0-9])?$","description":"Gateway IP that all the servers of the cluster will default to.","type":"string"},"___provision":{"type":"object","properties":{"___contrail":{"type":"object","properties":{"___vgw":{"type":"object","properties":{"___gateway_routes":{"default":"","description":"VGW routes","type":"string"},"___interface":{"default":"","description":"VGW interface name","type":"string"},"___public_subnet":{"default":"","description":"VGW public subnet address.","type":"string"},"___public_vn_name":{"default":"","description":"VGW public virtual network name.","type":"string"}}},"___xmpp_dns_auth_enable":{"default":false,"description":"flag to indicate if xmpp athentication is enabled between control node and vrouter dns agent.","type":"boolean"},"___kernel_upgrade":{"default":true,"description":"Whether to upgrade kernel version of target servers.","type":"boolean"},"___config":{"type":"object","properties":{"___manage_neutron":{"default":true,"description":"Whether config manages neutron service","type":"boolean"},"___amqp_use_ssl":{"default":false,"description":"Flag to enable or disable rabbitmq server SSL support for contrail config","type":"boolean"},"___healthcheck_interval":{"default":5,"description":"Discovery health check interval","type":"integer"},"___zookeeper_ip_port":{"default":2181,"description":"The IP Port that the zookeeper service listens on","type":"integer"}}},"___compute":{"type":"object","properties":{"___sriov":{"type":"object","properties":{"___enable":{"default":false,"description":"Flag to set if SRIOV is enabled","type":"boolean"}}},"___huge_pages":{"default":"","description":"Specify what percentage of host memory should be reserved for access with huge pages","type":"string"},"___core_mask":{"default":"","description":"Specify CPU affinity mask to run vRouter with. Supports hexadecimal, comma-separated list of CPUs, dash-separated range of CPUs","type":"string"}}},"___analytics":{"type":"object","properties":{"___data_directory":{"default":"","description":"Analytics dir name where data files are stored, default use the same value as database_dir in database role.","type":"string"},"___config_audit_ttl":{"default":2160,"description":"Analytics config audit TTL in hours","type":"integer"},"___statistics_ttl":{"default":168,"description":"Analytics statistics TTL in hours","type":"integer"},"___snmp_fast_scan_frequency":{"default":60,"description":"SNMP fast scan interval in seconds","type":"integer"},"___syslog_port":{"default":-1,"description":"Analytics syslog port value","type":"integer"},"___redis_password":{"default":null,"description":"Password to use for Redis service","type":"string"},"___ssd_data_directory":{"default":"","description":"Analytics dir name where ssd files are stored, default use the same value as database_dir in database role.","type":"string"},"___topology_scan_frequency":{"default":60,"description":"Topology scan interval in seconds","type":"integer"},"___data_ttl":{"default":48,"pattern":"number","description":"Analytics Data TTL in hours","type":"integer"},"___flow_ttl":{"default":2,"description":"Analytics flow TTL in hours","type":"integer"},"___snmp_scan_frequency":{"default":600,"description":"SNMP scan interval in seconds","type":"integer"}}},"___enable_lbass":{"default":false,"description":"flag to indicate if lbaas feature is enabled for the cluster.","type":"boolean"},"___vmware":{"type":"object","properties":{"___ip":{"default":"","description":"VMware IP address.","type":"string"},"___password":{"default":"","description":"VMware user password","type":"string"},"___username":{"default":"","description":"VMware user name","type":"string"},"___vswitch":{"default":"","description":"VMware vswitch name","type":"string"}}},"___kernel_version":{"default":"","description":"Kernel version to upgrade to. Optional parameter. Default upgrades to kernel version included with contrail package, if upgrade flag is set.","type":"string"},"___webui":{"type":"object","properties":{}},"___control":{"type":"object","properties":{"___external_bgp":{"default":"","description":"List of external BGP peers in the form of name, address tuples e.g. [('montreal', '13.1.0.254')]","type":"string"},"___router_asn":{"default":64512,"description":"The ASN that the cluster belongs to","type":"integer"},"___encapsulation_priority":{"default":"VXLAN,MPLSoUDP,MPLSoGRE","description":"The priority order for tunnel encapsulation methods used by Controller EVPN","type":"string"}}},"___tsn":{"type":"object","properties":{}},"___database":{"type":"object","properties":{"___directory":{"default":"\/var\/lib\/cassandra","description":"Dataabse directory path for Cassandra to use","type":"string"},"___ip_port":{"default":9160,"description":"Port number used by database service.","type":"integer"},"___minimum_diskGB":{"default":32,"pattern":"number","description":"Minimum free disk size needed (in GB)","type":"integer"}}},"___storage":{"type":"object","properties":{"___storage_chassis_config":{"description":"Storage chassis config","type":"array","items":{"type":"string"}},"___osd_bootstrap_key":{"default":"","description":"OSD Bootstrap Key value","type":"string"},"___storage_admin_key":{"default":"","description":"Ceph Storage admin key","type":"string"},"___storage_monitor_secret":{"default":"","description":"Key for Storage monitor Secret","type":"string"},"___live_migration_host":{"default":"","description":"Live migration host IP","type":"string"}}},"___xmpp_auth_enable":{"default":false,"description":"flag to indicate if xmpp athentication is enabled between control node and vrouter agent.","type":"boolean"},"___toragent":{"type":"object","properties":{}},"___ha":{"type":"object","properties":{"___contrail_external_vip":{"default":"","pattern":"^$|^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\/[0-9][0-9])?$","description":"Virtual Interface IP to be used for management interface of contrail HA nodes","type":"string"},"___contrail_internal_virtual_router_id":{"default":103,"description":"VRID for control\/data interface HA functionality.","type":"integer"},"___haproxy_enable":{"default":true,"description":"Whether HAproxy service is enabled or disabled.","type":"boolean"},"___contrail_internal_vip":{"default":"","pattern":"^$|^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\/[0-9][0-9])?$","description":"Virtual Interface IP to be used for control\/data interface of contrail HA nodes","type":"string"}}},"___amqp_ssl":{"default":false,"description":"Flag to enable or disable rabbitmq server SSL support globally for openstack and contrail config","type":"boolean"}}},"___openstack":{"type":"object","properties":{"___openstack_manage_amqp":{"default":false,"description":"Flag to set if Openstack nodes use their own AMQP cluster (Rabbit cluster)","type":"boolean"},"___enable_ceilometer":{"default":false,"description":"Flag to set if ceilometer service is enabled.","type":"boolean"},"___mysql":{"type":"object","properties":{"___allowed_hosts":{"description":"List of IP addresses that are allowed to access the MYSQL server on Openstack node of the cluster.","type":"array","items":{"type":"string"}},"___root_password":{"default":"c0ntrail123","description":"mysql root password value","type":"string"}}},"___keystone":{"type":"object","properties":{"___service_tenant":{"default":"services","description":"Keystone service tenant value","type":"string"},"___ip":{"default":"","pattern":"^$|^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\/[0-9][0-9])?$","description":"The External Keystone IP to use (If we are using a Central Keystone server, for example)","type":"string"},"___version":{"default":"v2.0","description":"Keystone API version","type":"string"},"___auth_port":{"default":35357,"description":"Keystone authentication port","type":"integer"},"___admin_user":{"default":"admin","description":"Keystone admin user value","type":"string"},"___admin_tenant":{"default":"admin","description":"Keystone admin tenant value","type":"string"},"___admin_password":{"default":"contrail123","description":"Keystone Admin Password value","type":"string"},"___mysql_service_password":{"default":"","description":"The MYSQL service password that Openstack services should use when talking to an external Keystone server.","type":"string"},"___auth_protocol":{"default":"http","description":"Keystone authentication protocol (http\/https)","type":"string"}}},"___multi_tenancy":{"default":true,"description":"Flag to set if multi tenancy is enabled","type":"boolean"},"___amqp":{"type":"object","properties":{"___server_ip":{"default":"","description":"AMQP Service IP to connect to","type":"string"},"___use_ssl":{"default":false,"description":"Flag to enable or disable rabbitmq server SSL support for openstack","type":"boolean"}}},"___ha":{"type":"object","properties":{"___nfs_server":{"default":"","pattern":"^$|^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\/[0-9][0-9])?$","description":"Address of NFS server used to keep images for HA.","type":"string"},"___internal_vip":{"default":"","pattern":"^$|^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\/[0-9][0-9])?$","description":"Virtual IP address for openstack node control interface","type":"string"},"___nfs_glance_path":{"default":"","description":"NFS path for glance images, used for HA.","type":"string"},"___external_virtual_router_id":{"default":101,"description":"VRID for openstack management network","type":"integer"},"___internal_virtual_router_id":{"default":102,"description":"VRID for openstack control network","type":"integer"},"___external_vip":{"default":"","pattern":"^$|^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\/[0-9][0-9])?$","description":"Virtual IP address for openstack node management interface","type":"string"}}},"___region":{"default":"RegionOne","description":"Openstack keystone region name","type":"string"},"___neutron":{"type":"object","properties":{"___port":{"default":9697,"description":"Neutron port to use","type":"integer"},"___service_protocol":{"default":"http","description":"Neutron service protocol (https\/http)","type":"string"}}}}}}},"___domain":{"default":null,"description":"Domain that all the servers of the cluster will default to.","type":"string"}}},"___base_image_id":{"default":null,"description":"Id of base image OS that the cluster will be reimaged with.","type":"string"},"___id":{"default":null,"description":"Id of the cluster being added. This is a mandatory parameter.","type":"string"},"___package_image_id":{"default":null,"description":"Id of Contrail package that the cluster will be provisioned with.","type":"string"}},"required":["id"]}