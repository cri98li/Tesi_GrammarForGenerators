{"$schema":"http:\/\/json-schema.org\/draft-04\/schema","description":"An object that defines the attribute schema and drawing information for a layer drawn using client-side graphics.","additionalProperties":false,"title":"layerDefinition","type":"object","properties":{"___definitionExpression":{"description":"SQL-based definition expression string that narrows the data to be displayed in the layer.","type":"string"},"___type":{"default":"Feature Layer","description":"Indicates whether the layerDefinition applies to a Feature Layer or a Table.","type":"string","enum":["Feature Layer","Table"]},"___supportsRollbackOnFailureParameter":{"description":"Boolean value indicating whether the layer supports rolling back edits made on a feature layer if some of the edits fail.","type":"boolean"},"___hasM":{"description":"Boolean value indicating whether layer has M values.","type":"boolean"},"___rangeInfos":{"minItems":1,"description":"Indicates range information","type":"array","items":{"$eref":{"esriDocumentation":{"examples":[{"schema":"layerDefinition_schema.json","code":{"layerDefinition":{"rangeInfos":[{"currentRangeExtent":[-2,10],"field":"floor","fullRangeExtent":[-2,100],"name":"floors","type":"rangeInfo"}]}},"title":"rangeInfo"}]},"$schema":"http:\/\/json-schema.org\/draft-04\/schema","description":"Range Information","additionalProperties":false,"title":"Range Information","properties":{"___name":{"description":"A unique name that can be referenced by webMap.activeRanges.","type":"string"},"___field":{"description":"Field name to used for the range.","type":"string"},"___fullRangeExtent":{"minItems":2,"maxItems":2,"description":"Contains the min and max values of all the features for this rangeInfo.","type":"array","items":{"type":"number"}},"___type":{"description":"Type of range object.","type":"string","enum":["rangeInfo"]},"___currentRangeExtent":{"minItems":2,"maxItems":2,"description":"Contains the min and max values within which the features are visible.","type":"array","items":{"type":"number"}}},"required":["field","name","type"]},"type":"object"}},"___geometryType":{"description":"A string defining the type of geometry. Possible geometry types are: `esriGeometryPoint`, `esriGeometryMultipoint`, `esriGeometryPolyline`, `esriGeometryPolygon`, and `esriGeometryEnvelope`.","type":"string"},"___spatialReference":{"$eref":{"esriDocumentation":{"additionalInformation":"All operational layers in the scene are drawn or requested in the spatial reference of the basemap layers.\n\nThe **basemap** defines the spatial reference and tiling scheme of the scene. Each **baseMapLayer** must be in the same spatial reference and tiling scheme.\n\n\n\nFor a complete list of supported IDs and their corresponding definition strings, see:\n\n[Projected Coordinate Systems Listing](http:\/\/resources.arcgis.com\/en\/help\/arcgis-rest-api\/index.html#\/Projected_coordinate_systems\/02r3000000vt000000\/)\n\n[Geographic Coordinate Systems Listing](http:\/\/resources.arcgis.com\/en\/help\/arcgis-rest-api\/index.html#\/Geographic_coordinate_systems\/02r300000105000000\/)\n\n[Vertical Coordinate Systems Listing](http:\/\/resources.arcgis.com\/en\/help\/rest\/apiref\/vcs.html)\n\n\n\nAdditional information regarding how web scenes work with geometry and spatial reference can be found on the Resource Center:\n\n[ArcGIS Server REST API Geometry object](http:\/\/resources.arcgis.com\/en\/help\/rest\/apiref\/geometry.html)\n\n[Using spatial references](http:\/\/resources.arcgis.com\/en\/help\/arcgis-rest-api\/index.html#\/Using_spatial_references\/02r3000000qq000000\/)\n\n[Working with Geometry Objects](http:\/\/resources.arcgis.com\/en\/help\/arcgis-rest-api\/index.html#\/Geometry_Objects\/02r3000000n1000000\/)","examples":[{"code":{"spatialreference":{"latestWkid":3857,"wkid":102100}},"title":"wkid"}]},"oneOf":[{"required":["wkt"]},{"required":["wkid"]}],"$schema":"http:\/\/json-schema.org\/draft-04\/schema","description":"The spatialReference object is located at the top level of the JSON hierarchy. In addition to this, it is also available within the operationalLayer and basemap objects.\n\nMany predefined spatial references have already been defined and are available for use. A spatial reference can be defined using a well-known ID (WKID) or well-known text (WKT). The default tolerance and resolution values for the associated coordinate system are used.\n\nA spatial reference can optionally include a definition for a vertical coordinate system (VCS), which is used to interpret the z values of a geometry.","additionalProperties":false,"title":"spatialReference","type":"object","properties":{"___wkid":{"default":102100,"description":"The well-known ID (WKID) of the coordinate system. Specify either WKID or the well-known text (WKT) of the coordinate system.","type":"number"},"___vcsWkid":{"description":"(Optional) The wkid value of the vertical coordinate system.","type":"number"},"___wkt":{"description":"The well-known text (WKT) of the coordinate system. Specify either WKT or WKID of the coordinate system.","type":"string"},"___latestVcsWkid":{"description":"(Optional) The current wkid value of the vertical coordinate system.","type":"number"},"___latestWkid":{"description":"(Optional) Identifies the current wkid value associated with the same spatial reference. For example a WKID of '102100' (Web Mercator) has a latestWKid of '3857'.","type":"number"}}},"description":"An object containing the WKID or WKT identifying the spatial reference of the layer's geometry.","type":"object"},"___supportsCalculate":{"description":"Boolean value indicating whether the layer supports the Calculate REST operation when updating features.","type":"boolean"},"___hasZ":{"description":"Boolean value indicating whether layer has Z values.","type":"boolean"},"___visibilityField":{"description":"String value indicating the attribute field that is used to control the visibility of a feature. If applicable, when rendering a feature the client should use this field to control visibility. The field's values are 0 = do not display, 1 = display.","type":"string"},"___hasStaticData":{"description":"Boolean value indicating whether data changes. True if it does not.","type":"boolean"},"___defaultVisibility":{"description":"Boolean value indicating whether the layer's visibility is turned on.","type":"boolean"},"___globalIdField":{"description":"The unique identifier for a feature or table row within a geodatabase.","type":"string"},"___fields":{"uniqueItems":true,"description":"An array of field objects containing information about the attribute fields for the feature collection or layer.","type":"array","items":{"$eref":{"esriDocumentation":{"examples":[{"code":{"field":{"editable":false,"name":"relationships\/2\/Postcode","alias":"Postcode","type":"esriFieldTypeString"}},"title":"field"}]},"$schema":"http:\/\/json-schema.org\/draft-04\/schema","description":"Contains information about an attribute field.","additionalProperties":false,"title":"field","type":"object","properties":{"___name":{"description":"A string defining the field name.","type":"string"},"___editable":{"description":"A Boolean defining whether this field is editable.","type":"boolean"},"___type":{"description":"A string defining the field type.","type":"string","enum":["esriFieldTypeBlob","esriFieldTypeDate","esriFieldTypeDouble","esriFieldTypeGeometry","esriFieldTypeGlobalID","esriFieldTypeGUID","esriFieldTypeInteger","esriFieldTypeOID","esriFieldTypeRaster","esriFieldTypeSingle","esriFieldTypeSmallInteger","esriFieldTypeString","esriFieldTypeXML"]},"___alias":{"description":"A string defining the field alias.","type":"string"},"___length":{"description":"A number defining how many characters are allowed in a string field.","type":"integer"},"___nullable":{"description":"A Boolean defining whether this field can have a null value.","type":"boolean"},"___exactMatch":{"description":"A Boolean defining whether or not the field is an exact match.","type":"boolean"},"___domain":{"description":"The domain objects if applicable.","type":"object","$ref":"domain_schema.json"}}},"type":"object"}},"___description":{"description":"String value of the layer as defined in the map service.","type":"string"},"___supportsValidateSql":{"description":"Boolean value indicating whether the validateSQL operation is supported across a feature service layer.","type":"boolean"},"___htmlPopupType":{"description":"String value indicating the HTML popup type.","type":"string","enum":["esriServerHTMLPopupTypeNone","esriServerHTMLPopupTypeAsURL","esriServerHTMLPopupTypeAsHTMLText"]},"___currentVersion":{"description":"Numeric value indicating the server version of the layer.","type":"number"},"___isDataVersioned":{"description":"Boolean value indicating whether the data is versioned.","type":"boolean"},"___allowGeometryUpdates":{"description":"Boolean value indicating whether the geometry of the features in the layer can be edited.","type":"boolean"},"___filters":{"description":"Filters for PointCloud layers","type":"array","items":{"$eref":{"oneOf":[{"$ref":"pointCloudBitfieldFilter_schema.json"},{"$ref":"pointCloudReturnFilter_schema.json"},{"$ref":"pointCloudValueFilter_schema.json"}],"$schema":"http:\/\/json-schema.org\/draft-04\/schema","description":"Filters applied to the pointCloud which will hide a point.","title":"PointCloud Filter","type":"object"},"type":"object"}},"___capabilities":{"description":"A comma separated list of supported capabilities, e.g. `Query,Editing`.","type":"string"},"___featureReduction":{"$eref":{"esriDocumentation":{"additionalInformation":"This feature reduction type is only supported for point symbols with non-draped icon symbol layers at the moment.","examples":[{"code":{"featureReduction":{"type":"selection"}},"title":"featureReduction of type 'selection'"}]},"$schema":"http:\/\/json-schema.org\/draft-04\/schema","description":"Feature reduction of type 'selection' declutters the screen by hiding features that would otherwise intersect with other features on screen. The default behavior of this feature reduction type is to select features by depth order, i.e. hide all features that would otherwise be overlapped by at least one other feature which is closer to the viewer.","title":"Feature Reduction: Selection","type":"object","properties":{"___type":{"description":"A string value indicating the feature reduction type.","type":"string","enum":["selection"]}}},"description":"An object that specifies how features are reduced or aggregated, with the goal of decluttering the view or presenting the user with an aggregate visualization. If unset, every feature is rendered individually.","type":"object"},"___elevationInfo":{"$eref":{"esriDocumentation":{"additionalInformation":"[ElevationInfo](https:\/\/developers.arcgis.com\/javascript\/latest\/api-reference\/esri-layers-FeatureLayer.html#elevationInfo) in ArcGIS API for JavaScript.<br><a id=\"unit\"><sup>1<\/sup><\/a>Supported units: `foot`, `kilometer`, `meter`, `mile`, `us-foot`, `yard`","examples":[{"code":{"elevationInfo":{"mode":"relativeToGround","unit":"foot","offset":200,"featureExpressionInfo":{"expression":"$feature.ELEVATION_FOOT"}}}}]},"$schema":"http:\/\/json-schema.org\/draft-04\/schema","description":"Elevation info defines how features are aligned to ground or other layers.","additionalProperties":false,"title":"elevationInfo","type":"object","properties":{"___featureExpression":{"description":"<em>Deprecated with 1.8, use `featureExpressionInfo` instead<\/em>. `{\"value\":0}` ignores geometry z-values.","additionalProperties":false,"type":"object","properties":{"___value":{"type":"number","enum":[0]}},"minProperties":1},"___mode":{"description":"Determines how the service elevation values are combined with the elevation of the scene.","type":"string","enum":["relativeToGround","absoluteHeight","onTheGround","relativeToScene"]},"___unit":{"default":"meter","description":"A string value indicating the unit for the values in elevationInfo. Applies to both `offset` and `featureExpressionInfo`. Defaults to `meter` if not set. <a href=\"#unit\"><sup>1<\/sup><\/a>","type":"string"},"___featureExpressionInfo":{"description":"An object that defines an expression for per-feature elevation. If not set, geometry.z values are used for elevation. `unit` is applied to the resulting expression value.","type":"object","$ref":"featureExpressionInfo_schema.json"},"___offset":{"description":"Offset is always added to the result of the above logic except for onTheGround where offset is ignored.","type":"number"}},"required":["mode"]},"type":"object"},"___overrideSymbols":{"description":"Dictates whether a client can support having an end user modify symbols on individual features.","type":"boolean"},"___minScale":{"description":"Represents the minimum scale at which the layer definition will be applied. This does not apply to layers of type: `ArcGISMapServiceLayer`, `ImageServiceVectorLayer` or `ImageServiceLayer`.","type":"number"},"___drawingInfo":{"description":"Contains drawing, labeling, and transparency information.","$fref":"drawingInfo_schema.json","type":"object"},"___maxScale":{"description":"Represents the maximum scale at which the layer definition will be applied. This does not apply to layers of type: `ArcGISMapServiceLayer`, `ImageServiceVectorLayer` or `ImageServiceLayer`.","type":"number"},"___extent":{"oneOf":[{"$eref":{"esriDocumentation":{"examples":[{"code":{"extent":{"ymin":3910293.086000003,"xmin":1.3871520850500003E7,"ymax":4686306.161399998,"xmax":1.4574034873400003E7,"spatialReference":{"latestWkid":3857,"wkid":102100}}},"title":"extent"}]},"$schema":"http:\/\/json-schema.org\/draft-04\/schema","description":"This object defines the bounding geometry given the lower-left and upper-right corners of the bounding box. A [spatial reference](spatialReference.md) is also required.","additionalProperties":false,"title":"extent","type":"object","properties":{"___xmax":{"description":"A numeric value indicating the top-right X-coordinate of an extent envelope.","type":"number"},"___ymax":{"description":"A numeric value indicating the top-right Y-coordinate of an extent envelope.","type":"number"},"___xmin":{"oneOf":[{"type":"number"},{"type":"null"},{"type":"string","enum":["NaN"]}],"description":"A numeric value indicating the bottom-left X-coordinate of an extent envelope."},"___spatialReference":{"description":"An object used to specify the spatial reference of the given geometry.","type":"object","$ref":"spatialReference_schema.json"},"___ymin":{"description":"A numeric value indicating the bottom-left Y-coordinate of an extent envelope.","type":"number"}}}},{"type":"null"}],"description":"An object defining the rectangular area."},"___typeIdField":{"description":"Contains the name of the field holding the type ID for the features.","type":"string"},"___displayField":{"description":"A string value that summarizes the feature.","type":"string"},"___maxRecordCount":{"description":"Numeric value indicating tbe maximum number of records that will be returned at once for a query.","type":"number"},"___supportsAttachmentsByUploadId":{"description":"Boolean value indicating whether the layer supports uploading attachments with the Uploads operation. This can then be used in the Add Attachment and Update Attachment operations.","type":"boolean"},"___types":{"uniqueItems":true,"description":"Contains information about an attribute field.","type":"array","items":{"$eref":{"esriDocumentation":{"examples":[{"code":{"types":{"templates":[{"name":"Active","description":"","drawingTool":"esriFeatureEditToolPoint","prototype":{"attributes":{"severity":null,"comments_hazard":null,"empname_reporting":null,"hazardous_issue":null,"issue_id":null,"comments_injuries":null,"issued_resolved":null,"occurence_local":null,"date_resolved":null,"issue_name":null,"hazard_date":null,"job_title":null,"comments_resolve":null,"number_injuries":null,"status":"1","emp_id":null}}}],"name":"Active","domains":{"severity":{"type":"inherited"},"hazardous_issue":{"type":"inherited"},"status":{"type":"inherited"}},"id":"1"}},"title":"types"}]},"$schema":"http:\/\/json-schema.org\/draft-04\/schema","description":"Contains information about an attribute field.","additionalProperties":false,"title":"type","type":"object","properties":{"___name":{"description":"A user-friendly name for the type.","type":"string"},"___templates":{"uniqueItems":true,"description":"Defined as a property of the layer definition when there are no types defined; otherwise, templates are defined as properties of the types.","type":"array","items":{"type":"object","$ref":"template_schema.json"}},"___domains":{"patternProperties":{"___.*":{"type":"object","$ref":"domain_schema.json"}},"description":"A comma-delimited series of domain objects for each domain in the type.","type":"object"},"___id":{"oneOf":[{"type":"string"},{"type":"number"}],"description":"A unique string or numerical ID for the type."}},"required":["id"]},"type":"object"}},"___source":{"$eref":{"oneOf":[{"$ref":"dynamicDataLayer_source_schema.json"},{"$ref":"dynamicMapLayer_source_schema.json"}],"$schema":"http:\/\/json-schema.org\/draft-04\/schema","description":"Contains [dynamicDataLayer](dynamicDataLayer_source.md) object and [dynamicMapLayer](dynamicDataLayer_source.md) object. If the service supports dynamic layers, the [layerDefinition's ](layerDefinition.md) source property must be specified.","title":"source","type":"object"},"description":"An object indicating the layerDefinition's layer source.","type":"object"},"___supportsAdvancedQueries":{"description":"Boolean value indicating whether the layer supports orderByFields in a query operation.","type":"boolean"},"___objectIdField":{"description":"Indicates the name of the object ID field in the dataset.","type":"string"},"___name":{"description":"Contains a unique name for the layer that can be displayed in a legend.","type":"string"},"___supportedQueryFormats":{"description":"String value indicating the output formats that are supported in a query.","type":"string"},"___hasAttachments":{"description":"Indicates whether attachments should be loaded for the layer.","type":"boolean"},"___supportsStatistics":{"description":"Boolean value indicating whether feature layer query operations support statistical functions.","type":"boolean"},"___id":{"description":"The identifier assigned to the layer.","type":"number"},"___copyrightText":{"description":"String value for the copyright text information for the layer.","type":"string"}}}