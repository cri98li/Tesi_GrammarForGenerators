{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"schema for Spydra configuration","id":"http:\/\/spydra.spotify.net\/configuration#","type":"object","properties":{"___cluster_type":{"description":"type of cluster to execute on","enum":["onpremise","dataproc","null"]},"___log_bucket":{"description":"bucket for storage of Hadoop logs and history information","type":"string"},"___metric_class":{"description":"Implementation to use for metrics reporting","type":"string"},"___submit":{"description":"options for job submission","type":"object","properties":{"___options":{"description":"gcloud options for job submission, see `gcloud dataproc jobs submit --help`","additionalProperties":{"type":"string"},"type":"object","properties":{}},"___job_args":{"description":"additional job arguments","type":"array","items":{"type":"string"}},"___py_file":{"description":"The main .py file to run as the driver.","type":"string"}}},"___cluster":{"description":"options for cluster creation","type":"object","properties":{"___options":{"description":"gcloud options for cluster creation, see `gcloud dataproc clusters create --help`","additionalProperties":{"type":"string"},"type":"object","properties":{}}}},"___job_type":{"description":"type of job to execute (e.g. hadoop\/spark\/etc), see `gcloud dataproc jobs submit --help`","type":"string"},"___dry_run":{"description":"do not execute anything, just print out commands that would be run","type":"boolean"},"___auto_scaler":{"description":"options for the EXPERIMENTAL autoscaler","type":"object","properties":{"___interval":{"description":"autoscaling interval in minutes","type":"number"},"___factor":{"description":"percentage of containers that should be running from 0.0 to 1.0","type":"number"},"___max":{"description":"maximum number of nodes to use for autoscaling","type":"number"},"___downscale_timeout":{"description":"how long to wait in minutes for active jobs to finish before terminating nodes","type":"number"},"___downscale":{"description":"whether or not to enable downscaling","type":"boolean"}}},"___client_id":{"description":"a unique ID of spydra client","type":"string"},"___history_timeout":{"description":"time in seconds to wait for job history to be moved","type":"number"},"___region":{"description":"The region in which the cluster should be created. Replaces the zone option in cluster.","type":"string"},"___pooling":{"description":"options for the EXPERIMENTAL pooling of cluster","type":"object","properties":{"___limit":{"description":"limit of concurrent clusters","type":"number"},"___max_age":{"description":"A java.time.Duration for the maximum age of a cluster","type":"string"}}}}}