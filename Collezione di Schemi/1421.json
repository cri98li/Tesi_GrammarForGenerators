{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"Microsoft ContainerRegistry Resource Types","id":"https:\/\/schema.management.azure.com\/schemas\/2018-02-01-preview\/Microsoft.ContainerRegistry.json#","title":"Microsoft.ContainerRegistry","resourceDefinitions":{"registries_buildTasks":{"description":"Microsoft.ContainerRegistry\/registries\/buildTasks","type":"object","properties":{"___location":{"description":"The location of the resource. This cannot be changed after the resource is created.","type":"string"},"___name":{"oneOf":[{"minLength":5,"pattern":"^[a-zA-Z0-9]*$","type":"string","maxLength":50},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The name of the container registry build task."},"___type":{"type":"string","enum":["Microsoft.ContainerRegistry\/registries\/buildTasks"]},"___tags":{"oneOf":[{"additionalProperties":{"type":"string"},"type":"object","properties":{}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The tags of the resource."},"___properties":{"oneOf":[{"$eref":{"description":"The properties of a build task.","type":"object","properties":{"___platform":{"oneOf":[{"$ref":"#\/definitions\/PlatformProperties"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The platform properties against which the build has to happen."},"___status":{"oneOf":[{"type":"string","enum":["Disabled","Enabled"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The current status of build task."},"___alias":{"description":"The alternative updatable name for a build task.","type":"string"},"___timeout":{"oneOf":[{"default":"3600","maximum":28800,"type":"integer","minimum":300},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Build timeout in seconds."},"___sourceRepository":{"oneOf":[{"$ref":"#\/definitions\/SourceRepositoryProperties"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The properties of the source code repository."}},"required":["alias","platform","sourceRepository"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The properties of a build task."},"___apiVersion":{"type":"string","enum":["2018-02-01-preview"]},"___resources":{"type":"array","items":{"oneOf":[{"$eref":{"description":"Microsoft.ContainerRegistry\/registries\/buildTasks\/steps","type":"object","properties":{"___name":{"oneOf":[{"minLength":5,"pattern":"^[a-zA-Z0-9]*$","type":"string","maxLength":50},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The name of a build step for a container registry build task."},"___type":{"type":"string","enum":["steps"]},"___properties":{"oneOf":[{"$ref":"#\/definitions\/BuildStepProperties"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Base properties for any build step."},"___apiVersion":{"type":"string","enum":["2018-02-01-preview"]}},"required":["apiVersion","name","properties","type"]}}]}}},"required":["apiVersion","location","name","properties","type"]},"registries_buildTasks_steps":{"description":"Microsoft.ContainerRegistry\/registries\/buildTasks\/steps","type":"object","properties":{"___name":{"oneOf":[{"minLength":5,"pattern":"^[a-zA-Z0-9]*$","type":"string","maxLength":50},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The name of a build step for a container registry build task."},"___type":{"type":"string","enum":["Microsoft.ContainerRegistry\/registries\/buildTasks\/steps"]},"___properties":{"oneOf":[{"$eref":{"oneOf":[{"$ref":"#\/definitions\/DockerBuildStep"}],"description":"Base properties for any build step.","type":"object","properties":{}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Base properties for any build step."},"___apiVersion":{"type":"string","enum":["2018-02-01-preview"]}},"required":["apiVersion","name","properties","type"]}},"definitions":{"_88BuildStepProperties":{"oneOf":[{"$eref":{"description":"The Docker build step.","type":"object","properties":{"___buildArguments":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/BuildArgument"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The custom arguments for building this build step."},"___isPushEnabled":{"oneOf":[{"default":true,"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The value of this property indicates whether the image built should be pushed to the registry or not."},"___branch":{"description":"The repository branch name.","type":"string"},"___contextPath":{"description":"The relative context path for a docker build in the source.","type":"string"},"___type":{"type":"string","enum":["Docker"]},"___baseImageTrigger":{"oneOf":[{"type":"string","enum":["All","Runtime","None"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The type of the auto trigger for base image dependency updates."},"___dockerFilePath":{"description":"The Docker file path relative to the source control root.","type":"string"},"___noCache":{"oneOf":[{"default":false,"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The value of this property indicates whether the image cache is enabled or not."},"___imageNames":{"oneOf":[{"type":"array","items":{"type":"string"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The fully qualified image names including the repository and tag."}},"required":["type"]}}],"description":"Base properties for any build step.","type":"object","properties":{}},"_88SourceControlAuthInfo":{"description":"The authorization properties for accessing the source code repository.","type":"object","properties":{"___refreshToken":{"description":"The refresh token used to refresh the access token.","type":"string"},"___token":{"description":"The access token used to access the source control provider.","type":"string"},"___scope":{"description":"The scope of the access token.","type":"string"},"___tokenType":{"oneOf":[{"type":"string","enum":["PAT","OAuth"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The type of Auth token."},"___expiresIn":{"oneOf":[{"type":"integer"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Time in seconds that the token remains valid"}},"required":["token"]},"_88BuildArgument":{"description":"Properties of a build argument.","type":"object","properties":{"___name":{"description":"The name of the argument.","type":"string"},"___type":{"oneOf":[{"type":"string","enum":["DockerBuildArgument"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The type of the argument."},"___isSecret":{"oneOf":[{"default":false,"type":"boolean"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Flag to indicate whether the argument represents a secret and want to be removed from build logs."},"___value":{"description":"The value of the argument.","type":"string"}},"required":["name","type","value"]},"_88BuildTaskProperties":{"description":"The properties of a build task.","type":"object","properties":{"___platform":{"oneOf":[{"$eref":{"description":"The platform properties against which the build has to happen.","type":"object","properties":{"___osType":{"oneOf":[{"type":"string","enum":["Windows","Linux"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The operating system type required for the build."},"___cpu":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The CPU configuration in terms of number of cores required for the build."}},"required":["osType"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The platform properties against which the build has to happen."},"___status":{"oneOf":[{"type":"string","enum":["Disabled","Enabled"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The current status of build task."},"___alias":{"description":"The alternative updatable name for a build task.","type":"string"},"___timeout":{"oneOf":[{"default":"3600","maximum":28800,"type":"integer","minimum":300},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Build timeout in seconds."},"___sourceRepository":{"oneOf":[{"$eref":{"description":"The properties of the source code repository.","type":"object","properties":{"___repositoryUrl":{"description":"The full URL to the source code repository","type":"string"},"___isCommitTriggerEnabled":{"oneOf":[{"default":false,"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The value of this property indicates whether the source control commit trigger is enabled or not."},"___sourceControlAuthProperties":{"oneOf":[{"$ref":"#\/definitions\/SourceControlAuthInfo"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The authorization properties for accessing the source code repository."},"___sourceControlType":{"oneOf":[{"type":"string","enum":["Github","VisualStudioTeamService"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The type of source control service."}},"required":["repositoryUrl","sourceControlType"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The properties of the source code repository."}},"required":["alias","platform","sourceRepository"]},"_88SourceRepositoryProperties":{"description":"The properties of the source code repository.","type":"object","properties":{"___repositoryUrl":{"description":"The full URL to the source code repository","type":"string"},"___isCommitTriggerEnabled":{"oneOf":[{"default":false,"type":"boolean"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The value of this property indicates whether the source control commit trigger is enabled or not."},"___sourceControlAuthProperties":{"oneOf":[{"$eref":{"description":"The authorization properties for accessing the source code repository.","type":"object","properties":{"___refreshToken":{"description":"The refresh token used to refresh the access token.","type":"string"},"___token":{"description":"The access token used to access the source control provider.","type":"string"},"___scope":{"description":"The scope of the access token.","type":"string"},"___tokenType":{"oneOf":[{"type":"string","enum":["PAT","OAuth"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The type of Auth token."},"___expiresIn":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Time in seconds that the token remains valid"}},"required":["token"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The authorization properties for accessing the source code repository."},"___sourceControlType":{"oneOf":[{"type":"string","enum":["Github","VisualStudioTeamService"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The type of source control service."}},"required":["repositoryUrl","sourceControlType"]},"_88DockerBuildStep":{"description":"The Docker build step.","type":"object","properties":{"___buildArguments":{"oneOf":[{"type":"array","items":{"$eref":{"description":"Properties of a build argument.","type":"object","properties":{"___name":{"description":"The name of the argument.","type":"string"},"___type":{"oneOf":[{"type":"string","enum":["DockerBuildArgument"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The type of the argument."},"___isSecret":{"oneOf":[{"default":false,"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Flag to indicate whether the argument represents a secret and want to be removed from build logs."},"___value":{"description":"The value of the argument.","type":"string"}},"required":["name","type","value"]}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The custom arguments for building this build step."},"___isPushEnabled":{"oneOf":[{"default":true,"type":"boolean"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The value of this property indicates whether the image built should be pushed to the registry or not."},"___branch":{"description":"The repository branch name.","type":"string"},"___contextPath":{"description":"The relative context path for a docker build in the source.","type":"string"},"___type":{"type":"string","enum":["Docker"]},"___baseImageTrigger":{"oneOf":[{"type":"string","enum":["All","Runtime","None"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The type of the auto trigger for base image dependency updates."},"___dockerFilePath":{"description":"The Docker file path relative to the source control root.","type":"string"},"___noCache":{"oneOf":[{"default":false,"type":"boolean"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The value of this property indicates whether the image cache is enabled or not."},"___imageNames":{"oneOf":[{"type":"array","items":{"type":"string"}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The fully qualified image names including the repository and tag."}},"required":["type"]},"_88PlatformProperties":{"description":"The platform properties against which the build has to happen.","type":"object","properties":{"___osType":{"oneOf":[{"type":"string","enum":["Windows","Linux"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The operating system type required for the build."},"___cpu":{"oneOf":[{"type":"integer"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The CPU configuration in terms of number of cores required for the build."}},"required":["osType"]},"_88registries_buildTasks_steps_childResource":{"description":"Microsoft.ContainerRegistry\/registries\/buildTasks\/steps","type":"object","properties":{"___name":{"oneOf":[{"minLength":5,"pattern":"^[a-zA-Z0-9]*$","type":"string","maxLength":50},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The name of a build step for a container registry build task."},"___type":{"type":"string","enum":["steps"]},"___properties":{"oneOf":[{"$eref":{"oneOf":[{"$ref":"#\/definitions\/DockerBuildStep"}],"description":"Base properties for any build step.","type":"object","properties":{}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Base properties for any build step."},"___apiVersion":{"type":"string","enum":["2018-02-01-preview"]}},"required":["apiVersion","name","properties","type"]}}}