{"$schema":"http:\/\/json-schema.org\/draft-04\/hyper-schema","description":"Working with MMS Alert Configurations","links":[{"schema":{"$fref":"\/schemata\/alertConfig"},"targetSchema":{"$fref":"\/schemata\/alertConfig"},"method":"POST","rel":"create","description":"Create a new alertConfig.","href":"\/groups\/{(%2Fschemata%2Fgroup%23%2Fdefinitions%2Fid)}\/alertConfigs","title":"Create"},{"method":"DELETE","rel":"destroy","description":"Delete an existing alertConfig.","href":"\/groups\/{(%2Fschemata%2Fgroup%23%2Fdefinitions%2Fid)}\/alertConfigs\/{(%2Fschemata%2FalertConfig%23%2Fdefinitions%2Fid)}","title":"Delete"},{"targetSchema":{"$fref":"\/schemata\/alertConfig"},"method":"GET","rel":"self","description":"Info for existing alertConfig.","href":"\/groups\/{(%2Fschemata%2Fgroup%23%2Fdefinitions%2Fid)}\/alertConfigs\/{(%2Fschemata%2FalertConfig%23%2Fdefinitions%2Fid)}","title":"Info"},{"targetSchema":{"type":"object","properties":{"___results":{"type":"array","items":{"$fref":"\/schemata\/alertConfig"}},"___totalCount":{"type":"integer","example":1}}},"method":"GET","rel":"instances","description":"List existing alertConfigs.","href":"\/groups\/{(%2Fschemata%2Fgroup%23%2Fdefinitions%2Fid)}\/alertConfigs","title":"List"},{"schema":{"$fref":"\/schemata\/alertConfig"},"targetSchema":{"$fref":"\/schemata\/alertConfig"},"method":"PUT","rel":"update","description":"Replace an existing alertConfig.","href":"\/groups\/{(%2Fschemata%2Fgroup%23%2Fdefinitions%2Fid)}\/alertConfigs\/{(%2Fschemata%2FalertConfig%23%2Fdefinitions%2Fid)}","title":"Replace"},{"schema":{"$fref":"\/schemata\/alertConfig"},"targetSchema":{"$fref":"\/schemata\/alertConfig"},"method":"PATCH","rel":"update","description":"Update an existing alertConfig.","href":"\/groups\/{(%2Fschemata%2Fgroup%23%2Fdefinitions%2Fid)}\/alertConfigs\/{(%2Fschemata%2FalertConfig%23%2Fdefinitions%2Fid)}","title":"Update"}],"id":"schemata\/alertConfig","title":"AlertConfig","type":"object","definitions":{"_88created":{"format":"date-time","description":"When this alert configuration was created.","type":"string","example":"2012-01-01T12:00:00Z"},"_88groupId":{"description":"ID of the group that owns this alert configuration.","type":"string","example":"5196d3628d022db4cbc26d9e"},"_88enabled":{"description":"Is this alert configuration enabled?","type":"boolean","example":true},"_88matcher":{"description":"Rules to apply when matching an object against this alert configuration. Only entities that match all these rules will be checked for an alert condition.","type":"object","properties":{"___fieldName":{"description":"The name of the field in the target object to match on. The available fields depend on the typeName.","type":"string","example":"hostnameAndPort"},"___value":{"description":"The value to test with the specified operator. When matching on the TYPE_NAME field for a HOST or HOST_METRIC alert, the possible typeName values are: PRIMARY SECONDARY STANDALONE CONFIG MONGOS","type":"string","example":"mongo.babypearfoo.com:27017"},"___operator":{"description":"The operator to test the field's value.","type":"string","enum":["EQUALS","NOT_EQUALS","CONTAINS","NOT_CONTAINS","STARTS_WITH","ENDS_WITH","REGEX"],"example":"EQUALS"}}},"_88updated":{"format":"date-time","description":"When this alert configuration was last updated.","type":"string","example":"2012-01-01T12:00:00Z"},"_88notification":{"description":"Notifications to send when an alert condition is detected.","type":"object","properties":{"___emailAddress":{"description":"The email address to which to send notification. Only present for notifications of type EMAIL.","type":"string","example":"jane.doe@gmail.com"},"___notificationToken":{"description":"A HipChat API token. Only present for notifications of type HIP_CHAT.","type":"string","example":"123456abcdef"},"___serviceKey":{"description":"PagerDuty service key.","type":"string","example":"123456abcdef"},"___typeName":{"description":"The type of alert notification. Note that SNMP notifications are not available in the cloud version of MMS. This feature is only available to On Premise installations.","type":"string","enum":["GROUP","USER","SMS","EMAIL","PAGER_DUTY","HIPCHAT","SNMP"],"example":"SMS"},"___intervalMin":{"description":"The number of minutes to wait between succcessive notifications for unacknowledged alerts that are not resolved.","type":"integer","example":0},"___delayMin":{"description":"The number of minutes to wait after an alert condition is detected before sending out the first notification.","type":"integer","example":5},"___emailEnabled":{"description":"Should email notifications be sent? Only present for notifications of type GROUP and USER.","type":"boolean","example":true},"___roomName":{"description":"HipChat room name. Only present for notifications of type HIP_CHAT.","type":"string","example":"Test Chat Room"},"___username":{"description":"The name of an MMS user to which to send notifications. Only a user in the group that owns the alert configuration is allowed here.","type":"string","example":"jane.doe@gmail.com"},"___snmpAddress":{"description":"Hostname and port to send SNMP traps to. Note that SNMP is only supported for On Premise MMS; also, at this time MMS is only able to send SNMP traps to the standard SNMP port (161).","type":"string","example":"somedomain.com:161"},"___smsEnabled":{"description":"Should SMS notifications be sent? Only present for notifications of type GROUP and USER.","type":"boolean","example":true},"___mobileNumber":{"description":"Mobile number to send SMS messages to. Only present for notifications of type SMS.","type":"string","example":"(212) 212-1212"}}},"_88id":{"description":"Unique identifier.","type":"string","example":"533dc40ae4b00835ff81eaee"},"_88metricThreshold":{"type":"object","properties":{"___units":{"$fref":"\/schemata\/metric#\/definitions\/units"},"___threshold":{"description":"The threshold value outside of which an alert will be triggered.","type":"integer","example":7},"___mode":{"description":"The mode to use when computing the current metric value.","type":"string","enum":["AVERAGE","TOTAL"],"example":"TOTAL"},"___metricName":{"$fref":"\/schemata\/metric#\/definitions\/metricName"},"___operator":{"description":"The operator to apply when checking the current metric value against the threshold value.","type":"string","enum":["GREATER_THAN","LESS_THAN"],"example":"GREATER_THAN"}}}},"properties":{"___updated":{"$fref":"\/schemata\/alertConfig#\/definitions\/updated"},"___metricThreshold":{"$fref":"\/schemata\/alertConfig#\/definitions\/metricThreshold"},"___eventTypeName":{"$fref":"\/schemata\/alert#\/definitions\/eventTypeName"},"___typeName":{"$fref":"\/schemata\/alert#\/definitions\/typeName"},"___matchers":{"type":"array","items":{"$fref":"#\/alertConfig\/definitions\/matcher"}},"___enabled":{"$fref":"\/schemata\/alertConfig#\/definitions\/enabled"},"___groupId":{"$fref":"\/schemata\/alertConfig#\/definitions\/groupId"},"___notifications":{"type":"array","items":{"$fref":"#\/alertConfig\/definitions\/notification"}},"___created":{"$fref":"\/schemata\/alertConfig#\/definitions\/created"},"___id":{"$fref":"\/schemata\/alertConfig#\/definitions\/id"}}}