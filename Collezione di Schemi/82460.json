{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"http:\/\/schemas.triniti.io\/json-schema\/triniti\/curator\/mixin\/render-widget-request\/1-0-0.json#","additionalProperties":true,"type":"object","definitions":{"_88cloud":{"anyOf":[{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"http:\/\/schemas.triniti.io\/json-schema\/gdbots\/contexts\/cloud\/1-0-0.json#","additionalProperties":false,"type":"object","properties":{"___instance_type":{"pattern":"^[\\w\\.-]+$","pbj":{"rule":"single","type":"string"},"type":"string"},"____schema":{"default":"pbj:gdbots:contexts::cloud:1-0-0","pattern":"^pbj:([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+):([0-9]+-[0-9]+-[0-9]+)$","type":"string"},"___provider":{"minLength":0,"pattern":"^([\\w\\\/-]|[\\w-][\\w\\\/-]*[\\w-])$","pbj":{"format":"slug","rule":"single","type":"string"},"type":"string","maxLength":20},"___instance_id":{"pattern":"^[\\w\\.-]+$","pbj":{"rule":"single","type":"string"},"type":"string"},"___zone":{"minLength":0,"pattern":"^([\\w\\\/-]|[\\w-][\\w\\\/-]*[\\w-])$","pbj":{"format":"slug","rule":"single","type":"string"},"type":"string","maxLength":20},"___region":{"minLength":0,"pattern":"^([\\w\\\/-]|[\\w-][\\w\\\/-]*[\\w-])$","pbj":{"format":"slug","rule":"single","type":"string"},"type":"string","maxLength":20}},"required":["_schema"]}}],"type":"object"},"_88render-context":{"anyOf":[{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"http:\/\/schemas.triniti.io\/json-schema\/triniti\/common\/render-context\/1-0-0.json#","additionalProperties":false,"type":"object","properties":{"___section":{"pattern":"^[\\w-]+$","description":"Refers to the location on the screen or application that the rendering is happening in, e.g. \"article-detail\", \"blogroll\", \"modal\", \"jumbotron\". Renderers can use this to customize the output.","pbj":{"rule":"single","type":"string"},"type":"string"},"____schema":{"default":"pbj:triniti:common::render-context:1-0-0","pattern":"^pbj:([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+):([0-9]+-[0-9]+-[0-9]+)$","type":"string"},"___trinaries":{"patternProperties":{"___^[a-zA-Z_]{1}[\\w\\.:-]+$":{"default":0,"maximum":2,"type":"integer","minimum":0}},"pbj":{"rule":"map","type":"trinary"},"additionalProperties":false,"type":"object"},"___viewer_country":{"pattern":"^[A-Z]{2}$","pbj":{"rule":"single","type":"string"},"type":"string"},"___device_view":{"minLength":0,"pattern":"^([\\w\\\/-]|[\\w-][\\w\\\/-]*[\\w-])$","pbj":{"format":"slug","rule":"single","type":"string"},"type":"string","maxLength":255},"___floats":{"patternProperties":{"___^[a-zA-Z_]{1}[\\w\\.:-]+$":{"default":0,"type":"number"}},"pbj":{"rule":"map","type":"float"},"additionalProperties":false,"type":"object"},"___container":{"description":"A message (e.g. article) where the rendering is taking place. This is used by some renderers when it needs data from the container or to generate urls.","pbj":{"rule":"single","type":"message"},"type":"object"},"___strings":{"patternProperties":{"___^[a-zA-Z_]{1}[\\w\\.:-]+$":{"minLength":0,"type":"string","maxLength":255}},"pbj":{"rule":"map","type":"string"},"additionalProperties":false,"type":"object"},"___platform":{"default":"web","minLength":0,"pattern":"^([\\w\\\/-]|[\\w-][\\w\\\/-]*[\\w-])$","pbj":{"format":"slug","rule":"single","type":"string"},"description":"The platform the rendering is happening in, e.g. web, amp, apple-news, facebook-instant-articles.","type":"string","maxLength":255},"___promotion_slot":{"minLength":0,"pattern":"^([\\w\\\/-]|[\\w-][\\w\\\/-]*[\\w-])$","pbj":{"format":"slug","rule":"single","type":"string"},"description":"The promotion_slot the rendering is happening in, e.g. desktop-home-sidebar or smartphone-global-html-head.","type":"string","maxLength":255},"___cache_expiry":{"default":300,"pbj":{"rule":"single","type":"medium-int"},"description":"Number of seconds the rendered output can be cached, if the cache_enabled field is true. Zero means cache indefinitely.","maximum":16777215,"type":"integer","minimum":0},"___cache_enabled":{"default":true,"pbj":{"rule":"single","type":"boolean"},"type":"boolean"},"___ints":{"patternProperties":{"___^[a-zA-Z_]{1}[\\w\\.:-]+$":{"default":0,"maximum":4294967295,"type":"integer","minimum":0}},"pbj":{"rule":"map","type":"int"},"additionalProperties":false,"type":"object"},"___booleans":{"patternProperties":{"___^[a-zA-Z_]{1}[\\w\\.:-]+$":{"type":"boolean"}},"pbj":{"rule":"map","type":"boolean"},"additionalProperties":false,"type":"object"}},"required":["_schema"]}},{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"http:\/\/schemas.triniti.io\/json-schema\/triniti\/common\/render-context\/1-0-1.json#","additionalProperties":false,"type":"object","properties":{"___section":{"pattern":"^[\\w-]+$","description":"Refers to the location on the screen or application that the rendering is happening in, e.g. \"article-detail\", \"blogroll\", \"modal\", \"jumbotron\". Renderers can use this to customize the output.","pbj":{"rule":"single","type":"string"},"type":"string"},"____schema":{"default":"pbj:triniti:common::render-context:1-0-1","pattern":"^pbj:([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+):([0-9]+-[0-9]+-[0-9]+)$","type":"string"},"___trinaries":{"patternProperties":{"___^[a-zA-Z_]{1}[\\w\\.:-]+$":{"default":0,"maximum":2,"type":"integer","minimum":0}},"pbj":{"rule":"map","type":"trinary"},"additionalProperties":false,"type":"object"},"___viewer_country":{"pattern":"^[A-Z]{2}$","pbj":{"rule":"single","type":"string"},"type":"string"},"___device_view":{"minLength":0,"pattern":"^([\\w\\\/-]|[\\w-][\\w\\\/-]*[\\w-])$","pbj":{"format":"slug","rule":"single","type":"string"},"type":"string","maxLength":255},"___floats":{"patternProperties":{"___^[a-zA-Z_]{1}[\\w\\.:-]+$":{"default":0,"type":"number"}},"pbj":{"rule":"map","type":"float"},"additionalProperties":false,"type":"object"},"___container":{"description":"A message (e.g. article) where the rendering is taking place. This is used by some renderers when it needs data from the container or to generate urls.","pbj":{"rule":"single","type":"message"},"type":"object"},"___strings":{"patternProperties":{"___^[a-zA-Z_]{1}[\\w\\.:-]+$":{"minLength":0,"type":"string","maxLength":255}},"pbj":{"rule":"map","type":"string"},"additionalProperties":false,"type":"object"},"___format":{"minLength":0,"pattern":"^([\\w\\\/-]|[\\w-][\\w\\\/-]*[\\w-])$","pbj":{"format":"slug","rule":"single","type":"string"},"description":"The format to be used for rendering, e.g. \"html\" or \"json\".","type":"string","maxLength":255},"___platform":{"default":"web","minLength":0,"pattern":"^([\\w\\\/-]|[\\w-][\\w\\\/-]*[\\w-])$","pbj":{"format":"slug","rule":"single","type":"string"},"description":"The platform the rendering is happening in, e.g. web, amp, apple-news, facebook-instant-articles.","type":"string","maxLength":255},"___promotion_slot":{"minLength":0,"pattern":"^([\\w\\\/-]|[\\w-][\\w\\\/-]*[\\w-])$","pbj":{"format":"slug","rule":"single","type":"string"},"description":"The promotion_slot the rendering is happening in, e.g. desktop-home-sidebar or smartphone-global-html-head.","type":"string","maxLength":255},"___cache_expiry":{"default":300,"pbj":{"rule":"single","type":"medium-int"},"description":"Number of seconds the rendered output can be cached, if the cache_enabled field is true. Zero means cache indefinitely.","maximum":16777215,"type":"integer","minimum":0},"___cache_enabled":{"default":true,"pbj":{"rule":"single","type":"boolean"},"type":"boolean"},"___ints":{"patternProperties":{"___^[a-zA-Z_]{1}[\\w\\.:-]+$":{"default":0,"maximum":4294967295,"type":"integer","minimum":0}},"pbj":{"rule":"map","type":"int"},"additionalProperties":false,"type":"object"},"___booleans":{"patternProperties":{"___^[a-zA-Z_]{1}[\\w\\.:-]+$":{"type":"boolean"}},"pbj":{"rule":"map","type":"boolean"},"additionalProperties":false,"type":"object"}},"required":["_schema"]}}],"type":"object"},"_88widget":{"anyOf":[{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"http:\/\/schemas.triniti.io\/json-schema\/triniti\/curator\/mixin\/widget\/1-0-0.json#","additionalProperties":true,"type":"object","properties":{"___creator_ref":{"pbj":{"rule":"single","type":"message-ref"},"description":"A fully qualified reference to what created this node. This is intentionally a message-ref and not a user id because it is often a program that creates nodes, not a user.","additionalProperties":false,"type":"object","properties":{"___curie":{"minLength":0,"pattern":"^([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+)$","type":"string","maxLength":146},"___id":{"minLength":0,"pattern":"^[A-Za-z0-9:_\\-]+$","type":"string","maxLength":255},"___tag":{"minLength":0,"pattern":"^([\\w\\\/-]|[\\w-][\\w\\\/-]*[\\w-])$","type":"string","maxLength":255}},"required":["curie","id"]},"___etag":{"pattern":"^[\\w\\.:-]+$","pbj":{"rule":"single","type":"string"},"type":"string"},"___status":{"default":"draft","pbj":{"rule":"single","type":"string-enum"},"type":"string","enum":["unknown","published","scheduled","pending","draft","expired","archived","deleted"]},"___partner_text":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":255},"___created_at":{"pattern":"^[1-9]{1}[0-9]{12,15}$","pbj":{"rule":"single","type":"microtime"},"type":"string"},"___last_event_ref":{"pbj":{"rule":"single","type":"message-ref"},"description":"A reference to the last event that changed the state of this node. E.g. \"acme:blog:event:article-published:60c71df0-fda8-11e5-bfb9-30342d363854\"","additionalProperties":false,"type":"object","properties":{"___curie":{"minLength":0,"pattern":"^([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+)$","type":"string","maxLength":146},"___id":{"minLength":0,"pattern":"^[A-Za-z0-9:_\\-]+$","type":"string","maxLength":255},"___tag":{"minLength":0,"pattern":"^([\\w\\\/-]|[\\w-][\\w\\\/-]*[\\w-])$","type":"string","maxLength":255}},"required":["curie","id"]},"___title":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":255},"___post_render_code":{"minLength":0,"pbj":{"rule":"single","type":"text"},"description":"A string containing HTML that is injected into the application after the widget renders.","type":"string","maxLength":65535},"___partner_url":{"pattern":"^(https?:\\\/\\\/)?([\\da-z\\.-]+)\\.([a-z\\.]{2,6})([\\\/\\w \\.-]*)*\\\/?$","pbj":{"format":"url","rule":"single","type":"text"},"type":"string"},"___header_text":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":255},"___show_border":{"pbj":{"rule":"single","type":"boolean"},"type":"boolean"},"___updater_ref":{"pbj":{"rule":"single","type":"message-ref"},"description":"A fully qualified reference to what updated this node. This is intentionally a message-ref and not a user id because it is often a program that updates nodes, not a user. E.g. \"acme:iam:node:app:cli-scheduler\" or \"acme:iam:node:user:60c71df0-fda8-11e5-bfb9-30342d363854\"","additionalProperties":false,"type":"object","properties":{"___curie":{"minLength":0,"pattern":"^([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+)$","type":"string","maxLength":146},"___id":{"minLength":0,"pattern":"^[A-Za-z0-9:_\\-]+$","type":"string","maxLength":255},"___tag":{"minLength":0,"pattern":"^([\\w\\\/-]|[\\w-][\\w\\\/-]*[\\w-])$","type":"string","maxLength":255}},"required":["curie","id"]},"___view_all_text":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":255},"___pre_render_code":{"minLength":0,"pbj":{"rule":"single","type":"text"},"description":"A string containing HTML that is injected into the application before the widget renders.","type":"string","maxLength":65535},"____id":{"pattern":"^[\\w\\\/\\.:-]+$","pbj":{"overridable":true,"rule":"single","type":"identifier"},"type":"string"},"___show_header":{"default":true,"pbj":{"rule":"single","type":"boolean"},"type":"boolean"},"___updated_at":{"pattern":"^[1-9]{1}[0-9]{12,15}$","pbj":{"useTypeDefault":false,"rule":"single","type":"microtime"},"type":"string"},"___view_all_url":{"pattern":"^(https?:\\\/\\\/)?([\\da-z\\.-]+)\\.([a-z\\.]{2,6})([\\\/\\w \\.-]*)*\\\/?$","pbj":{"format":"url","rule":"single","type":"text"},"type":"string"}},"required":["_id"]}}],"type":"object"},"_88app":{"anyOf":[{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"http:\/\/schemas.triniti.io\/json-schema\/gdbots\/contexts\/app\/1-0-0.json#","additionalProperties":false,"type":"object","properties":{"___name":{"pattern":"^[\\w\\.-]+$","pbj":{"rule":"single","type":"string"},"type":"string"},"___version":{"pattern":"^[\\w\\.-]+$","pbj":{"rule":"single","type":"string"},"type":"string"},"___vendor":{"pattern":"^[\\w\\.-]+$","pbj":{"rule":"single","type":"string"},"type":"string"},"___variant":{"pattern":"^[\\w\\.-]+$","pbj":{"rule":"single","type":"string"},"type":"string"},"____schema":{"default":"pbj:gdbots:contexts::app:1-0-0","pattern":"^pbj:([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+):([0-9]+-[0-9]+-[0-9]+)$","type":"string"},"____id":{"pattern":"^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$","pbj":{"useTypeDefault":false,"rule":"single","type":"uuid"},"type":"string"},"___build":{"pattern":"^[\\w\\.-]+$","pbj":{"rule":"single","type":"string"},"type":"string"}},"required":["_schema"]}}],"type":"object"}},"properties":{"___ctx_causator_ref":{"pbj":{"rule":"single","type":"message-ref"},"additionalProperties":false,"type":"object","properties":{"___curie":{"minLength":0,"pattern":"^([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+)$","type":"string","maxLength":146},"___id":{"minLength":0,"pattern":"^[A-Za-z0-9:_\\-]+$","type":"string","maxLength":255},"___tag":{"minLength":0,"pattern":"^([\\w\\\/-]|[\\w-][\\w\\\/-]*[\\w-])$","type":"string","maxLength":255}},"required":["curie","id"]},"___ctx_retries":{"default":0,"pbj":{"rule":"single","type":"tiny-int"},"description":"The \"ctx_retries\" field is used to keep track of how many attempts were made to handle this request. In some cases, the service or transport that handles the request may be down or over capacity and is being retried.","maximum":255,"type":"integer","minimum":0},"___ctx_ipv6":{"format":"ipv6","pbj":{"format":"ipv6","overridable":true,"rule":"single","type":"string"},"type":"string"},"___ctx_cloud":{"description":"The \"ctx_cloud\" is set by the server making the request and is generally only used internally for tracking and performance monitoring.","anyOf":[{"$eref":{"anyOf":[{"$ref":"http:\/\/schemas.triniti.io\/json-schema\/gdbots\/contexts\/cloud\/1-0-0.json#"}],"type":"object"}}],"pbj":{"rule":"single","type":"message"},"type":"object"},"___widget_ref":{"pattern":"^[\\w\\\/\\.:-]+$","pbj":{"rule":"single","type":"identifier"},"type":"string"},"___request_id":{"pattern":"^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$","pbj":{"rule":"single","type":"uuid"},"type":"string"},"___ctx_correlator_ref":{"pbj":{"rule":"single","type":"message-ref"},"additionalProperties":false,"type":"object","properties":{"___curie":{"minLength":0,"pattern":"^([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+)$","type":"string","maxLength":146},"___id":{"minLength":0,"pattern":"^[A-Za-z0-9:_\\-]+$","type":"string","maxLength":255},"___tag":{"minLength":0,"pattern":"^([\\w\\\/-]|[\\w-][\\w\\\/-]*[\\w-])$","type":"string","maxLength":255}},"required":["curie","id"]},"___ctx_ua":{"minLength":0,"pbj":{"overridable":true,"rule":"single","type":"text"},"type":"string","maxLength":65535},"___derefs":{"uniqueItems":true,"pbj":{"rule":"set","type":"string"},"description":"Field names to dereference, this serves as a hint to the server and is not necessarily gauranteed since authorization, availability, etc. are determined by the server not the client.","additionalProperties":false,"type":"array","items":[{"pattern":"^[\\w\\.-]+$","type":"string"}]},"___widget":{"anyOf":[{"$eref":{"anyOf":[{"$ref":"http:\/\/schemas.triniti.io\/json-schema\/triniti\/curator\/mixin\/widget\/1-0-0.json#"}],"type":"object"}}],"pbj":{"rule":"single","type":"message"},"type":"object"},"___ctx_ip":{"format":"ipv4","pbj":{"format":"ipv4","overridable":true,"rule":"single","type":"string"},"type":"string"},"___ctx_app":{"description":"The \"ctx_app\" refers to the application used to make the request. This is different from ctx_ua (user_agent) because the agent used (Safari, Firefox) is not necessarily the app used (cms, iOS app, website)","anyOf":[{"$eref":{"anyOf":[{"$ref":"http:\/\/schemas.triniti.io\/json-schema\/gdbots\/contexts\/app\/1-0-0.json#"}],"type":"object"}}],"pbj":{"rule":"single","type":"message"},"type":"object"},"___ctx_user_ref":{"pbj":{"rule":"single","type":"message-ref"},"additionalProperties":false,"type":"object","properties":{"___curie":{"minLength":0,"pattern":"^([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+)$","type":"string","maxLength":146},"___id":{"minLength":0,"pattern":"^[A-Za-z0-9:_\\-]+$","type":"string","maxLength":255},"___tag":{"minLength":0,"pattern":"^([\\w\\\/-]|[\\w-][\\w\\\/-]*[\\w-])$","type":"string","maxLength":255}},"required":["curie","id"]},"___occurred_at":{"pattern":"^[1-9]{1}[0-9]{12,15}$","pbj":{"rule":"single","type":"microtime"},"type":"string"},"___context":{"anyOf":[{"$eref":{"anyOf":[{"$ref":"http:\/\/schemas.triniti.io\/json-schema\/triniti\/common\/render-context\/1-0-0.json#"},{"$ref":"http:\/\/schemas.triniti.io\/json-schema\/triniti\/common\/render-context\/1-0-1.json#"}],"type":"object"}}],"pbj":{"rule":"single","type":"message"},"type":"object"}},"required":["request_id"]}