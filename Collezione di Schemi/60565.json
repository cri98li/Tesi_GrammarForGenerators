{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"A result from running the NoSE design tool","id":"https:\/\/michael.mior.ca\/projects\/NoSE\/schema#","title":"Result","type":"object","definitions":{"_88index_ref":{"additionalProperties":false,"type":"object","properties":{"___key":{"type":"string"}},"required":["key"]},"_88entity":{"type":"object","properties":{"___name":{"type":"string"},"___fields":{"type":"array","items":{"type":"object","properties":{"___name":{"type":"string"},"___type":{"type":"string","enum":["id","foreign_key","date","float","integer","string"]},"___cardinality":{"type":"integer"},"___size":{"type":"number"}},"required":["name","type"]}},"___count":{"type":"integer","minimum":1}},"required":["name"]},"_88update_plan":{"type":"object","properties":{"___name":{"type":"string"},"___cost_model":{"$eref":{"type":"object","properties":{"___name":{"type":"string"}},"required":["name"]}},"___weight":{"type":"number","minimum":0},"___statement":{"type":"string"},"___update_cost":{"type":"number","minimum":0},"___cost":{"type":"number","minimum":0},"___query_plans":{"type":"array","items":{"$eref":{"type":"object","properties":{"___name":{"type":"string"},"___weight":{"type":"number","minimum":0},"___query":{"type":"string"},"___cost":{"type":"number","minimum":0},"___group":{"type":"string"},"___steps":{"type":"array","items":{"allOf":[{"$ref":"#\/definitions\/query_plan_step"},{"oneOf":[{"type":"object","properties":{"___order_by":{"type":"array","items":{"$ref":"#\/definitions\/field_ref"}},"___type":{"type":"string","enum":["index_lookup"]},"___index":{"$ref":"#\/definitions\/index_ref"},"___eq_filter":{"type":"array","items":{"$ref":"#\/definitions\/field_ref"}}},"required":["type","cost","cardinality","hash_cardinality","index"]},{"type":"object","properties":{"___type":{"type":"string","enum":["filter"]},"___eq":{"type":"array","items":{"$ref":"#\/definitions\/field_ref"}},"___range":{"$ref":"#\/definitions\/field_ref"}},"required":["type","cost","cardinality","hash_cardinality"]},{"type":"object","properties":{"___limit":{"type":"integer","minimum":1},"___type":{"type":"string","enum":["limit"]}},"required":["type","cost","cardinality","hash_cardinality","limit"]},{"type":"object","properties":{"___type":{"type":"string","enum":["sort"]},"___sort_fields":{"type":"array","items":{"$ref":"#\/definitions\/field_ref"}}},"required":["type","cost","cardinality","hash_cardinality","sort_fields"]}]}]}}},"required":["query"]}}},"___update_steps":{"type":"array","items":{"type":"object","properties":{"___fields":{"type":"array","items":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___parent":{"type":"string"}},"required":["name","parent"]}}},"___type":{"type":"string","enum":["update","delete","insert"]},"___index":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___key":{"type":"string"}},"required":["key"]}},"___cardinality":{"type":"number","minimum":0}}},"required":["type"]},"___group":{"type":"string"}}},"_88query_plan":{"type":"object","properties":{"___name":{"type":"string"},"___weight":{"type":"number","minimum":0},"___query":{"type":"string"},"___cost":{"type":"number","minimum":0},"___group":{"type":"string"},"___steps":{"type":"array","items":{"allOf":[{"$eref":{"type":"object","properties":{"___cardinality":{"type":"number","minimum":0},"___cost":{"type":"number","minimum":0},"___hash_cardinality":{"type":"number","minimum":0}}}},{"oneOf":[{"type":"object","properties":{"___order_by":{"type":"array","items":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___parent":{"type":"string"}},"required":["name","parent"]}}},"___type":{"type":"string","enum":["index_lookup"]},"___index":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___key":{"type":"string"}},"required":["key"]}},"___eq_filter":{"type":"array","items":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___parent":{"type":"string"}},"required":["name","parent"]}}}},"required":["type","cost","cardinality","hash_cardinality","index"]},{"type":"object","properties":{"___type":{"type":"string","enum":["filter"]},"___eq":{"type":"array","items":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___parent":{"type":"string"}},"required":["name","parent"]}}},"___range":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___parent":{"type":"string"}},"required":["name","parent"]}}},"required":["type","cost","cardinality","hash_cardinality"]},{"type":"object","properties":{"___limit":{"type":"integer","minimum":1},"___type":{"type":"string","enum":["limit"]}},"required":["type","cost","cardinality","hash_cardinality","limit"]},{"type":"object","properties":{"___type":{"type":"string","enum":["sort"]},"___sort_fields":{"type":"array","items":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___parent":{"type":"string"}},"required":["name","parent"]}}}},"required":["type","cost","cardinality","hash_cardinality","sort_fields"]}]}]}}},"required":["query"]},"_88index":{"id":"index","type":"object","properties":{"___extra":{"type":"array","items":{"$fref":"https:\/\/michael.mior.ca\/projects\/NoSE\/schema#\/definitions\/field_ref"}},"___key":{"type":"string"},"___graph":{"type":"object","properties":{"___nodes":{"type":"array","items":{"type":"string"}},"___edges":{"type":"array","items":{"$fref":"https:\/\/michael.mior.ca\/projects\/NoSE\/schema#\/definitions\/field_ref"}}}},"___hash_fields":{"type":"array","items":{"$fref":"https:\/\/michael.mior.ca\/projects\/NoSE\/schema#\/definitions\/field_ref"}},"___entry_size":{"type":"integer","exclusiveMinimum":true,"minimum":0},"___entries":{"type":"integer","exclusiveMinimum":true,"minimum":0},"___order_fields":{"type":"array","items":{"$fref":"https:\/\/michael.mior.ca\/projects\/NoSE\/schema#\/definitions\/field_ref"}},"___hash_count":{"type":"integer","exclusiveMinimum":true,"minimum":0},"___size":{"type":"integer","exclusiveMinimum":true,"minimum":0},"___per_hash_count":{"type":"number","exclusiveMinimum":true,"minimum":0}},"required":["key","hash_fields","order_fields","extra","graph"]},"_88cost_model":{"type":"object","properties":{"___name":{"type":"string"}},"required":["name"]},"_88field_ref":{"additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___parent":{"type":"string"}},"required":["name","parent"]},"_88query_plan_step":{"type":"object","properties":{"___cardinality":{"type":"number","minimum":0},"___cost":{"type":"number","minimum":0},"___hash_cardinality":{"type":"number","minimum":0}}}},"properties":{"___total_cost":{"type":"number","minimum":0},"___cost_model":{"$eref":{"type":"object","properties":{"___name":{"type":"string"}},"required":["name"]}},"___time":{},"___enumerated_indexes":{"type":"array","items":{"$eref":{"id":"index","type":"object","properties":{"___extra":{"type":"array","items":{"$ref":"https:\/\/michael.mior.ca\/projects\/NoSE\/schema#\/definitions\/field_ref"}},"___key":{"type":"string"},"___graph":{"type":"object","properties":{"___nodes":{"type":"array","items":{"type":"string"}},"___edges":{"type":"array","items":{"$ref":"https:\/\/michael.mior.ca\/projects\/NoSE\/schema#\/definitions\/field_ref"}}}},"___hash_fields":{"type":"array","items":{"$ref":"https:\/\/michael.mior.ca\/projects\/NoSE\/schema#\/definitions\/field_ref"}},"___entry_size":{"type":"integer","exclusiveMinimum":true,"minimum":0},"___entries":{"type":"integer","exclusiveMinimum":true,"minimum":0},"___order_fields":{"type":"array","items":{"$ref":"https:\/\/michael.mior.ca\/projects\/NoSE\/schema#\/definitions\/field_ref"}},"___hash_count":{"type":"integer","exclusiveMinimum":true,"minimum":0},"___size":{"type":"integer","exclusiveMinimum":true,"minimum":0},"___per_hash_count":{"type":"number","exclusiveMinimum":true,"minimum":0}},"required":["key","hash_fields","order_fields","extra","graph"]}}},"___revision":{"description":"The revision of the NoSE code used to generate these results","type":"string"},"___plans":{"type":"array","items":{"$eref":{"type":"object","properties":{"___name":{"type":"string"},"___weight":{"type":"number","minimum":0},"___query":{"type":"string"},"___cost":{"type":"number","minimum":0},"___group":{"type":"string"},"___steps":{"type":"array","items":{"allOf":[{"$ref":"#\/definitions\/query_plan_step"},{"oneOf":[{"type":"object","properties":{"___order_by":{"type":"array","items":{"$ref":"#\/definitions\/field_ref"}},"___type":{"type":"string","enum":["index_lookup"]},"___index":{"$ref":"#\/definitions\/index_ref"},"___eq_filter":{"type":"array","items":{"$ref":"#\/definitions\/field_ref"}}},"required":["type","cost","cardinality","hash_cardinality","index"]},{"type":"object","properties":{"___type":{"type":"string","enum":["filter"]},"___eq":{"type":"array","items":{"$ref":"#\/definitions\/field_ref"}},"___range":{"$ref":"#\/definitions\/field_ref"}},"required":["type","cost","cardinality","hash_cardinality"]},{"type":"object","properties":{"___limit":{"type":"integer","minimum":1},"___type":{"type":"string","enum":["limit"]}},"required":["type","cost","cardinality","hash_cardinality","limit"]},{"type":"object","properties":{"___type":{"type":"string","enum":["sort"]},"___sort_fields":{"type":"array","items":{"$ref":"#\/definitions\/field_ref"}}},"required":["type","cost","cardinality","hash_cardinality","sort_fields"]}]}]}}},"required":["query"]}}},"___total_size":{"type":"number","minimum":0},"___properties":{"model":{"type":"object","properties":{"___entities":{"type":"array","items":{"$eref":{"type":"object","properties":{"___name":{"type":"string"},"___fields":{"type":"array","items":{"type":"object","properties":{"___name":{"type":"string"},"___type":{"type":"string","enum":["id","foreign_key","date","float","integer","string"]},"___cardinality":{"type":"integer"},"___size":{"type":"number"}},"required":["name","type"]}},"___count":{"type":"integer","minimum":1}},"required":["name"]}}}}}},"___workload":{"type":"object","properties":{"___weights":{},"___statements":{"type":"array","items":{"type":"string"}},"___mix":{"type":"string"}}},"___command":{"description":"The full command line used to run NoSE","type":"string"},"___indexes":{"type":"array","items":{"$eref":{"id":"index","type":"object","properties":{"___extra":{"type":"array","items":{"$ref":"https:\/\/michael.mior.ca\/projects\/NoSE\/schema#\/definitions\/field_ref"}},"___key":{"type":"string"},"___graph":{"type":"object","properties":{"___nodes":{"type":"array","items":{"type":"string"}},"___edges":{"type":"array","items":{"$ref":"https:\/\/michael.mior.ca\/projects\/NoSE\/schema#\/definitions\/field_ref"}}}},"___hash_fields":{"type":"array","items":{"$ref":"https:\/\/michael.mior.ca\/projects\/NoSE\/schema#\/definitions\/field_ref"}},"___entry_size":{"type":"integer","exclusiveMinimum":true,"minimum":0},"___entries":{"type":"integer","exclusiveMinimum":true,"minimum":0},"___order_fields":{"type":"array","items":{"$ref":"https:\/\/michael.mior.ca\/projects\/NoSE\/schema#\/definitions\/field_ref"}},"___hash_count":{"type":"integer","exclusiveMinimum":true,"minimum":0},"___size":{"type":"integer","exclusiveMinimum":true,"minimum":0},"___per_hash_count":{"type":"number","exclusiveMinimum":true,"minimum":0}},"required":["key","hash_fields","order_fields","extra","graph"]}}},"___update_plans":{"type":"array","items":{"$eref":{"type":"object","properties":{"___name":{"type":"string"},"___cost_model":{"$ref":"#\/definitions\/cost_model"},"___weight":{"type":"number","minimum":0},"___statement":{"type":"string"},"___update_cost":{"type":"number","minimum":0},"___cost":{"type":"number","minimum":0},"___query_plans":{"type":"array","items":{"$ref":"#\/definitions\/query_plan"}},"___update_steps":{"type":"array","items":{"type":"object","properties":{"___fields":{"type":"array","items":{"$ref":"#\/definitions\/field_ref"}},"___type":{"type":"string","enum":["update","delete","insert"]},"___index":{"$ref":"#\/definitions\/index_ref"},"___cardinality":{"type":"number","minimum":0}}},"required":["type"]},"___group":{"type":"string"}}}}}}}