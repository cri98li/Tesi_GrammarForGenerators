{"$schema":"http:\/\/json-schema.org\/draft-04\/hyper-schema","description":"order_update_v1","links":[{"schema":{"allOf":[{"type":"object","properties":{"___action":{"description":"Action Name name","type":"string","example":"catalog_get_config"},"___version":{"description":"Action Version","type":"integer","example":1},"___integration_auth_token":{"description":"Randomly generated authorization token, for authenticating genuine RetailOps- originated requests.","type":"string","example":"2KuxqV9rsAtAM78i47CITMvtnflUapNmgGJAvWiHqgUrk1xkeDNWlM3EsrmJEtmV"},"___channel_info":{"type":"object","properties":{"___id":{"description":"channel id","type":"integer","example":21}}},"___client_id":{"description":"RetailOPS client id","type":"integer","example":497}},"required":["action","version","client_id","channel_info"]},{"type":"object","properties":{"___rmas":{"type":"array","items":{"type":"object","properties":{"___refund_amt":{"description":"amount refunded","type":"number","example":30},"___tax_amt":{"description":"tax amount on returned items","type":"number","example":0},"___items":{"type":"array","items":{"description":"credited item ref","type":"object","properties":{"___tax_amt":{"description":"","type":"number","example":0},"___retailops_item_id":{"description":"order item id","type":"integer","example":7395},"___quantity":{"description":"quantity","type":"integer","example":1},"___shipping_amt":{"description":"item shipped amount","type":"number","example":0},"___reason":{"description":"return reason","type":"string","example":"CustomerReturn"},"___subtotal_amt":{"description":"","type":"number","example":30},"___credit_amt":{"description":"","type":"number","example":30},"___product_amt":{"description":"","type":"number","example":30},"___channel_item_refnum":{"description":"ref number of returned item being credited","type":"string","example":"return_item 90"},"___giftwrap_amt":{"description":"item giftwrap cost","type":"number","example":0},"___recycling_amt":{"description":"","type":"number","example":0},"___sku":{"description":"sku id","type":"string","example":"132"},"___giftwrap_tax_amt":{"description":"","type":"number","example":0},"___restock_fee_amt":{"description":"item restock fee","type":"number","example":0},"___item_shipping_tax_amt":{"description":"","type":"number","example":30}}}},"___shipping_amt":{"description":"amount shipped","type":"integer","example":0},"___discount_amt":{"description":"amount of applied discount","type":"number","example":0},"___refund_action":{"description":"action name of return","type":"string","example":"refund"},"___subtotal_amt":{"description":"","type":"number","example":30},"___retailops_rma_id":{"description":"RetailOps RMA id","type":"string","example":"null"},"___retailops_return_id":{"description":"RetailOps Order return id","type":"integer","example":87},"___product_amt":{"description":"","type":"number","example":30}}}},"___order":{"type":"object","properties":{"___retailops_order_id":{"description":"RetailOps Order ID","type":"integer"},"___grand_total":{"description":"RetailOps current order grand total","type":"number"},"___unshipped_items":{"description":"List of items which were not shipped as of the time of order completion. Presumably these items should be canceled in the channel","type":"array","items":{"type":"object","properties":{"___effective_unit_price":{"description":"effective unit price associated with the order item (after discounts), specified in the counterparty currency","type":"number"},"___effective_extended_price":{"description":"extended price associated with the order item (after discounts), specified in the counterparty currency","type":"number"},"___unshipped_quantity":{"description":"quantity of the order item which has not been shipped","type":"integer"},"___sku":{"description":"SKU specified by the order item","type":"string"},"___channel_item_refnum":{"description":"channel reference number for order","type":"string"},"___ordered_quantity":{"description":"quantity of the order item which was ordered","type":"integer"}}}},"___channel_order_refnum":{"description":"channel reference number for order","type":"string"},"___shipments":{"description":"List of all fulfilled shipments for this order. Each RetailOps shipment corresponds to one portion of the order routing plan, usually one per each facility or vendor. Each fulfilled shipment will contain one or more packages","type":"array","items":{"type":"object","properties":{"___retailops_shipment_id":{"description":"RetailOps Shipment ID","type":"integer"},"___packages":{"type":"array","items":{"description":"a package included in shipment","type":"object","properties":{"___package_items":{"type":"array","items":{"type":"object","properties":{"___retailops_shipment_item_id":{"description":"RetailOps Shipment Item ID","type":"integer"},"___quantity":{"description":"Quantity of the referenced items which was included in this package","type":"integer"},"___sku":{"description":"SKU Number of the item","type":"string"},"___retailops_order_item_id":{"description":"RetailOps Order Item ID","type":"integer"},"___channel_item_refnum":{"description":"Channel reference number for this item","type":"string"}}}},"___weight_kg":{"description":"Weight in Kilograms","type":"number"},"___tracking_number":{"description":"Tracking number","type":"string","example":"ZX29827782929"},"___carrier_class_name":{"description":"Ship Carrier's Class Name","type":"string","example":"Ground"},"___carrier_name":{"description":"Ship Carrier Name","type":"string","example":"UPS"},"___channel_ship_code":{"description":"Code which has been configured for this channel to represent the above carrier\/class. EG: 'UPS Ground' -> 'UPSGRND' or 'U,GRD'","type":"string"},"___retailops_package_id":{"description":"RetailOps Package ID","type":"integer"},"___date_shipped":{"description":"Date the package was shipped","type":"string","example":"2016-04-08T21:13:11Z"}}}}}}},"___order_items":{"description":"List of order line items","type":"array","items":{"type":"object","properties":{"___estimated_cost":{"description":"Estimated item cost","type":"number"},"___unit_price":{"description":"base unit price of item","type":"number"},"___estimated_unit_cost":{"description":"Estimated unit cost of item","type":"number"},"___order_item_id":{"description":"Retail Ops order item ID","type":"integer"},"___quantity":{"description":"Order quantity of item","type":"integer"},"___direct_ship_amt":{"description":"Direct ship amount","type":"number"},"___removed":{"description":"boolean indicator of whether the item was removed from the order.","type":"boolean"},"___estimated_extended_cost":{"description":"Estimated extended cost of item","type":"number"},"___sku":{"description":"SKU specified by the order item","type":"string"},"___apportioned_ship_amt":{"description":"Apportioned ship amount","type":"number"},"___estimated_ship_date":{"description":"estimated ship date of item","type":"string","example":"2016-04-08T21:13:11Z"},"___channel_item_refnum":{"description":"channel reference number for order","type":"string"}}}}}}}}]},"targetSchema":{"type":"object","properties":{"___events":{"type":["array","null"],"items":{"description":"event returned in action response","type":"object","properties":{"___diagnostic_data":{"description":"","type":"string"},"___message":{"description":"descriptive error\/warning message","type":"string","example":"Example error message"},"___event_type":{"description":"event type","type":"string","enum":["error","warning","info"],"example":"error"},"___code":{"description":"error\/warning code","type":"string","example":"ERR1234"},"___associations":{"description":"","type":["array","null"],"items":{"type":"object","properties":{"___identifier_type":{"description":"Type of identifier being provided","type":"string","enum":["order_id","order_refnum","orderitem_id","orderitem_refnum","shipment_id","shipmentitem_id","product_id","sku_number"],"example":"sku_number"},"___identifier":{"description":"identify value corresponding to the type","type":"string","example":"S1234"}}}}}}},"___values":{"type":"object","properties":{"___discount_pct":{"type":"number"},"___tax_amt":{"type":"number"},"___tax_pct":{"type":"number"},"___shipping_amt":{"type":"number"},"___discount_amt":{"type":"number"}}},"___line_items":{"type":["array","null"],"items":{"description":"individual writeback line item","type":"object","properties":{"___unit_tax_pct":{"description":"item unit tax percentage","type":"number"},"___discount_pct":{"description":"Item discount percentage","type":"number"},"___ship_amt":{"description":"Item ship amount","type":"number"},"___order_item_id":{"description":"RetailOps order item ID (required)","type":"integer"},"___quantity":{"description":"Quantity of line item","type":"integer"},"___shiptax_amt":{"description":"item ship tax amount","type":"number"},"___unit_tax":{"description":"item unit tax","type":"number"},"___discount_amt":{"description":"Item discount amount (if any)","type":"number"},"___refnum":{"description":"The channel item refnum (required)","type":"string"}},"required":["order_item_id","refnum"]}}}},"method":"post","rel":"instances","description":"order_update_v1","href":"\/order_update_v1","title":"\/order_update_v1"}],"id":"\/order_update_v1","additionalProperties":true,"title":"\/order_update_v1","type":"object","definitions":{},"properties":{},"stability":"draft"}