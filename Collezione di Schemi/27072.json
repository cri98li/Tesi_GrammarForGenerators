{"$schema":"http:\/\/json-schema.org\/draft-04\/schema","description":"Json format for defining new faction (aka towns) in VCMI","additionalProperties":false,"title":"VCMI faction format","type":"object","definitions":{"_88townIcon":{"additionalProperties":false,"type":"object","properties":{"___large":{"format":"imageFile","type":"string"},"___small":{"format":"imageFile","type":"string"}},"required":["small","large"]},"_88townIconPair":{"additionalProperties":false,"type":"object","properties":{"___built":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___large":{"format":"imageFile","type":"string"},"___small":{"format":"imageFile","type":"string"}},"required":["small","large"]},"description":"Icon used after player build something in town"},"___normal":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___large":{"format":"imageFile","type":"string"},"___small":{"format":"imageFile","type":"string"}},"required":["small","large"]},"description":"Icon used normally"}},"required":["normal","built"]}},"properties":{"___name":{"description":"Translatable name of town","type":"string"},"___creatureBackground":{"description":"Backgrounds for creature info card","additionalProperties":false,"type":"object","properties":{"___130px":{"format":"imageFile","description":"Version that is 130 pixels in height","type":"string"},"___120px":{"format":"imageFile","description":"Version that is 120 pixels in height","type":"string"}},"required":["120px","130px"]},"___puzzleMap":{"description":"Puzzle map from obelisks for this town. Must contain 48 pieces","additionalProperties":false,"type":"object","properties":{"___prefix":{"description":"Prefix for image names, e.g. \"PUZCAS\" for name \"PUZCAS12.png\"","type":"string"},"___pieces":{"minItems":48,"maxItems":48,"description":"Lits of pieces definitions","type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___index":{"description":"Order in which images will be opened","type":"number"},"___x":{"description":"X coordinate on screen","type":"number"},"___y":{"description":"X coordinate on screen","type":"number"}}}}},"required":["prefix","pieces"]},"___index":{"description":"Private field to break things, do not use.","type":"number"},"___nativeTerrain":{"description":"Native terrain for creatures. Creatures fighting on native terrain receive several bonuses","type":"string"},"___town":{"description":"town","additionalProperties":false,"type":"object","properties":{"___guildBackground":{"format":"imageFile","description":"Image with background of mage guild","type":"string"},"___horde":{"maxItems":2,"description":"Levels of creatures that have hordes in town","type":"array","items":{"type":"number"}},"___hallSlots":{"minItems":5,"maxItems":5,"description":"Description of town hall","type":"array","items":{"minItems":1,"maxItems":4,"type":"array","items":{"description":"List of buildings available in one slot","type":"array","items":{"type":"string"}}}},"___musicTheme":{"format":"musicFile","description":"Path to town music theme","type":"string"},"___creatures":{"minItems":7,"maxItems":7,"description":"List of creatures available for recruitment on each level","type":"array","items":{"type":"array","items":{"type":"string"}}},"___icons":{"description":"Town icons","additionalProperties":false,"type":"object","properties":{"___village":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___built":{"description":"Icon used after player build something in town","$ref":"#\/definitions\/townIcon"},"___normal":{"description":"Icon used normally","$ref":"#\/definitions\/townIcon"}},"required":["normal","built"]},"description":"Icons for town without fort"},"___fort":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___built":{"description":"Icon used after player build something in town","$ref":"#\/definitions\/townIcon"},"___normal":{"description":"Icon used normally","$ref":"#\/definitions\/townIcon"}},"required":["normal","built"]},"description":"Icons for town with built fort"}},"required":["fort","village"]},"___hallBackground":{"format":"imageFile","description":"background image for town hall","type":"string"},"___defaultTavern":{"description":"Default chance for hero to appear in tavern, used only when value vas not set in tavern field","type":"number","minimum":0},"___structures":{"additionalProperties":{"$fref":"vcmi:townStructure"},"type":"object"},"___siege":{"$fref":"vcmi:townSiege"},"___moatDamage":{"description":"Damage dealt to creature that entered town moat during siege","type":"number"},"___tavern":{"description":"Hero classes available in tavern. Value indicates chance for hero of this class to appear","additionalProperties":{"type":"number","minimum":0},"type":"object"},"___buildings":{"additionalProperties":{"$fref":"vcmi:townBuilding"},"type":"object"},"___buildingsIcons":{"format":"animationFile","description":"Path to .def file with building icons","type":"string"},"___warMachine":{"description":"Identifier of war machine produced by blacksmith in town","type":"string"},"___townBackground":{"format":"imageFile","description":"Background for town screen","type":"string"},"___guildSpells":{"description":"Spells available in mage guild. Value indicates chance for this spell to appear","additionalProperties":{"type":"number"},"type":"object"},"___mageGuild":{"description":"Maximal level of mage guild","type":"number"},"___guildWindow":{"description":"Image with small view on town from mage guild","type":"string"},"___primaryResource":{"description":"Primary resource for this town. Produced by Silo and offered as starting bonus","type":"string"},"___tavernVideo":{"format":"videoFile","description":"Video for tavern window","type":"string"},"___mapObject":{"properties":{"___filters":{"additionalProperties":{"type":"array"},"type":"object"}}},"___names":{"minItems":1,"description":"Names for towns on adventure map","type":"array","items":{"type":"string"}}},"required":["mapObject","buildingsIcons","buildings","creatures","guildWindow","names","hallBackground","hallSlots","horde","mageGuild","moatDamage","defaultTavern","tavernVideo","guildBackground","musicTheme","siege","structures","townBackground","warMachine"]},"___alignment":{"description":"Town alignment, good, neutral or evil","type":"string","enum":["good","neutral","evil"]}},"required":["name","alignment","creatureBackground"],"dependencies":{"town":["puzzleMap"]}}