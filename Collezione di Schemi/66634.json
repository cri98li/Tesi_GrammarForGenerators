{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"https:\/\/github.com\/pegasus-isi\/craft-schema","title":"Design Flow","type":"object","properties":{"___name":{"minLength":1,"description":"Design flow name.","id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/name","type":"string"},"___files":{"description":"List of files from the flow.","id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/files","type":"array","items":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/file","type":"object","properties":{"___link":{"format":"uri","pattern":"^(https?|ftp|file):\/\/","id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/file\/link","type":"string"},"___format":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/file\/format","type":"string"},"___description":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/file\/description","type":"string"},"___content":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/file\/content","type":"string"},"___notes":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/file\/notes","type":"string"},"___id":{"minLength":1,"pattern":"^[0-9a-zA-Z -_]*$","description":"A short, unique, informative identifier containing only alphanumeric characters and underscores.","id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/file\/id","type":"string"}}}},"___stages":{"description":"List of stages from the flow.","id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stages","type":"array","items":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage","type":"object","properties":{"___name":{"minLength":1,"description":"A human-readable name for the stage.","id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/name","type":"string"},"___outputs":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/outputs","type":"object","properties":{"___files":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/outputs\/files","type":"array","items":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/outputs\/file","type":"object","properties":{"___report":{"default":false,"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/outputs\/file\/report","type":"boolean"},"___id":{"minLength":1,"pattern":"^[0-9a-zA-Z -_]*$","description":"A short, unique, informative identifier containing only alphanumeric characters and underscores.","id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/outputs\/file\/id","type":"string"}},"required":["id","report"]}}},"required":["files"]},"___tool":{"oneOf":[{"required":["tool-id"]},{"required":["sc-tool-id"]}],"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/tool","type":"object","properties":{"___tool-id":{"description":"ID of a custom defined tool","id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/tool\/tool-id","type":"string"},"___sc-tool-id":{"description":"ID of a tool from the software catalog","id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/tool\/sc-tool-id","type":"string"},"___option-control-module":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/tool\/option-control-modules","type":"array","items":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/tool\/option-control-module","type":"object","properties":{"___description":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/tool\/option-control-module\/description","type":"string"},"___designer-guide":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/tool\/option-control-module\/designer-guide","type":"string"},"___notes":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/tool\/option-control-module\/notes","type":"string"},"___id":{"minLength":1,"pattern":"^[0-9a-zA-Z -_]*$","description":"A short, unique, informative identifier containing only alphanumeric characters and underscores.","id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/tool\/option-control-module\/id","type":"string"},"___purpose":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/tool\/option-control-module\/purpose","type":"string"}},"required":["id","description","purpose"]}}}},"___inputs":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/inputs","type":"object","properties":{"___files":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/inputs\/files","type":"array","items":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/inputs\/file","type":"object","properties":{"___optional":{"default":false,"description":"Whether this input is optional.","id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/input-file\/optional","type":"boolean"},"___provided-by":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/input-file\/provided-by","enum":["User","Vendor"]},"___id":{"pattern":"^[0-9a-zA-Z -_]*$","description":"ID of an input file.","id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/inputs\/file\/input-id","type":"string"}},"required":["id","provided-by"]}},"___libraries":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/inputs\/libraries","type":"array","items":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/inputs\/library","type":"object","properties":{"___name":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/inputs\/library\/name","type":"string"},"___link":{"format":"uri","pattern":"^(https?|ftp|file):\/\/","id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/inputs\/library\/link","type":"string"},"___compatible_versions":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/inputs\/library\/versions","type":"array","items":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/inputs\/library\/version","type":"string"}},"___id":{"minLength":1,"pattern":"^[0-9a-zA-Z -_]*$","description":"A short, unique, informative identifier containing only alphanumeric characters and underscores.","id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/inputs\/library\/id","type":"string"}},"required":["id","name","compatible_versions"]}},"___interaction":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/inputs\/interactions","type":"array","items":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/inputs\/interaction","type":"object","properties":{"___name":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/inputs\/interaction\/name","type":"string"},"___notes":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/inputs\/interaction\/notes","type":"string"},"___id":{"minLength":1,"pattern":"^[0-9a-zA-Z -_]*$","description":"A short, unique, informative identifier containing only alphanumeric characters and underscores.","id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/inputs\/interaction\/input-number","type":"string"}},"required":["id","name"]}}},"required":["files"]},"___id":{"minLength":1,"pattern":"^[0-9a-zA-Z -_]*$","description":"A short, unique, informative identifier containing only alphanumeric characters and underscores.","id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/id","type":"string"},"___flow-control":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/controls","type":"array","items":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/control","type":"object","properties":{"___description":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/control\/description","type":"string"},"___route-to":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/control\/route-to","type":"string"},"___condition":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/control\/condition","enum":["Success","Error"]},"___designer-guide":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/control\/designer-guide","type":"string"},"___notes":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/control\/notes","type":"string"},"___id":{"minLength":1,"pattern":"^[0-9a-zA-Z -_]*$","description":"A short, unique, informative identifier containing only alphanumeric characters and underscores.","id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/stage\/control\/id","type":"string"}},"required":["id","condition","route-to","description"]}}},"required":["id","name","tool","inputs","outputs","flow-control"]}},"___tools":{"description":"List of tools from the flow.","id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/tools","type":"array","items":{"oneOf":[{"required":["id","name","version","functionality"]},{"required":["sc-id","options"]}],"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/tool","type":"object","properties":{"___name":{"minLength":1,"description":"A human-readable name for the tool.","id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/tool\/name","type":"string"},"___functionality":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/tool\/functionality","type":"object","properties":{"___description":{"description":"Description of the stage.","id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/tool\/functionality\/description","type":"string"},"___notes":{"description":"Additional notes.","id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/tool\/functionality\/notes","type":"string"}},"required":["description"]},"___script":{"minLength":1,"description":"Installation and configuration script.","id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/tool\/script","type":"string"},"___options":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/tool\/options","type":"array","items":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/tool\/option","type":"object","properties":{"___description":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/tool\/option\/description","type":"string"},"___notes":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/tool\/option\/notes","type":"string"},"___id":{"minLength":1,"pattern":"^[0-9a-zA-Z -_]*$","description":"A short, unique, informative identifier containing only alphanumeric characters and underscores.","id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/tool\/option\/id","type":"string"},"___purpose":{"id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/tool\/option\/purpose","type":"string"}},"required":["id","description","purpose"]}},"___version":{"minLength":1,"description":"Tool version.","id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/tool\/version","type":"string"},"___sc-id":{"minLength":1,"pattern":"^[0-9a-zA-Z -_]*$","description":"The id for the tool in the software catalog","id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/tool\/sc-id","type":"string"},"___id":{"minLength":1,"pattern":"^[0-9a-zA-Z -_]*$","description":"A short, unique, informative identifier containing only alphanumeric characters and underscores.","id":"https:\/\/github.com\/pegasus-isi\/craft-schema\/tool\/id","type":"string"}}}}},"required":["name","tools","stages"]}