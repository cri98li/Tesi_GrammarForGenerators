{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"Microsoft ContainerRegistry Resource Types","id":"https:\/\/schema.management.azure.com\/schemas\/2018-02-01-preview\/Microsoft.ContainerRegistry.json#","title":"Microsoft.ContainerRegistry","resourceDefinitions":{"registries_buildTasks":{"description":"Microsoft.ContainerRegistry\/registries\/buildTasks","type":"object","properties":{"___location":{"description":"The location of the resource. This cannot be changed after the resource is created.","type":"string"},"___name":{"oneOf":[{"pattern":"^[a-zA-Z0-9]*$","type":"string"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The name of the container registry build task."},"___type":{"type":"string","enum":["Microsoft.ContainerRegistry\/registries\/buildTasks"]},"___tags":{"oneOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The tags of the resource."},"___properties":{"oneOf":[{"$eref":{"description":"The properties of a build task.","type":"object","properties":{"___platform":{"oneOf":[{"$ref":"#\/definitions\/PlatformProperties"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The platform properties against which the build has to happen."},"___status":{"oneOf":[{"type":"string","enum":["Disabled","Enabled"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The current status of build task."},"___alias":{"description":"The alternative updatable name for a build task.","type":"string"},"___timeout":{"oneOf":[{"default":"3600","maximum":28800,"type":"integer","minimum":300},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Build timeout in seconds."},"___sourceRepository":{"oneOf":[{"$ref":"#\/definitions\/SourceRepositoryProperties"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The properties that describes the source(code) for the build task."}},"required":["alias","sourceRepository","platform"]}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The properties of a build task."},"___apiVersion":{"type":"string","enum":["2018-02-01-preview"]},"___resources":{"type":"array","items":{"oneOf":[{"$eref":{"description":"Microsoft.ContainerRegistry\/registries\/buildTasks\/steps","type":"object","properties":{"___name":{"oneOf":[{"pattern":"^[a-zA-Z0-9]*$","type":"string"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The name of a build step for a container registry build task."},"___type":{"type":"string","enum":["steps"]},"___properties":{"oneOf":[{"$ref":"#\/definitions\/BuildStepProperties"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The properties of a build step."},"___apiVersion":{"type":"string","enum":["2018-02-01-preview"]}},"required":["name","type","apiVersion","properties"]}}]}}},"required":["name","type","apiVersion","location","properties"]},"registries_buildTasks_steps":{"description":"Microsoft.ContainerRegistry\/registries\/buildTasks\/steps","type":"object","properties":{"___name":{"oneOf":[{"pattern":"^[a-zA-Z0-9]*$","type":"string"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The name of a build step for a container registry build task."},"___type":{"type":"string","enum":["Microsoft.ContainerRegistry\/registries\/buildTasks\/steps"]},"___properties":{"oneOf":[{"$eref":{"allOf":[{"properties":{"___type":{"type":"string","enum":["BuildStepProperties","Docker"]}}},{"anyOf":[{"$ref":"#\/definitions\/Docker"}]}],"description":"Base properties for any build step.","type":"object"}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The properties of a build step."},"___apiVersion":{"type":"string","enum":["2018-02-01-preview"]}},"required":["name","type","apiVersion","properties"]}},"definitions":{"_88BuildStepProperties":{"allOf":[{"properties":{"___type":{"type":"string","enum":["BuildStepProperties","Docker"]}}},{"anyOf":[{"$eref":{"allOf":[{"properties":{"___buildArguments":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/BuildArgument"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The custom arguments for building this build step."},"___isPushEnabled":{"oneOf":[{"default":true,"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The value of this property indicates whether the image built should be pushed to the registry or not."},"___branch":{"description":"The repository branch name.","type":"string"},"___contextPath":{"description":"The relative context path for a docker build in the source.","type":"string"},"___baseImageTrigger":{"oneOf":[{"type":"string","enum":["All","Runtime","None"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The type of the auto trigger for base image dependency updates."},"___dockerFilePath":{"description":"The Docker file path relative to the source control root.","type":"string"},"___noCache":{"oneOf":[{"default":false,"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The value of this property indicates whether the image cache is enabled or not."},"___imageNames":{"oneOf":[{"type":"array","items":{"type":"string"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The fully qualified image names including the repository and tag."}}}],"description":"The Docker build step.","type":"object"}}]}],"description":"Base properties for any build step.","type":"object"},"_88SourceControlAuthInfo":{"description":"The authorization properties for accessing the source code repository.","type":"object","properties":{"___refreshToken":{"description":"The refresh token used to refresh the access token.","type":"string"},"___token":{"description":"The access token used to access the source control provider.","type":"string"},"___scope":{"description":"The scope of the access token.","type":"string"},"___tokenType":{"oneOf":[{"type":"string","enum":["PAT","OAuth"]},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The type of Auth token."},"___expiresIn":{"oneOf":[{"type":"integer"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Time in seconds that the token remains valid"}},"required":["token"]},"_88Docker":{"allOf":[{"properties":{"___buildArguments":{"oneOf":[{"type":"array","items":{"$eref":{"description":"Properties of a build argument.","type":"object","properties":{"___name":{"description":"The name of the argument.","type":"string"},"___type":{"description":"The type of the argument.","type":"string","enum":["DockerBuildArgument"]},"___isSecret":{"oneOf":[{"default":false,"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Flag to indicate whether the argument represents a secret and want to be removed from build logs."},"___value":{"description":"The value of the argument.","type":"string"}},"required":["type","name","value"]}}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The custom arguments for building this build step."},"___isPushEnabled":{"oneOf":[{"default":true,"type":"boolean"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The value of this property indicates whether the image built should be pushed to the registry or not."},"___branch":{"description":"The repository branch name.","type":"string"},"___contextPath":{"description":"The relative context path for a docker build in the source.","type":"string"},"___baseImageTrigger":{"oneOf":[{"type":"string","enum":["All","Runtime","None"]},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The type of the auto trigger for base image dependency updates."},"___dockerFilePath":{"description":"The Docker file path relative to the source control root.","type":"string"},"___noCache":{"oneOf":[{"default":false,"type":"boolean"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The value of this property indicates whether the image cache is enabled or not."},"___imageNames":{"oneOf":[{"type":"array","items":{"type":"string"}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The fully qualified image names including the repository and tag."}}}],"description":"The Docker build step.","type":"object"},"_88BuildArgument":{"description":"Properties of a build argument.","type":"object","properties":{"___name":{"description":"The name of the argument.","type":"string"},"___type":{"description":"The type of the argument.","type":"string","enum":["DockerBuildArgument"]},"___isSecret":{"oneOf":[{"default":false,"type":"boolean"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Flag to indicate whether the argument represents a secret and want to be removed from build logs."},"___value":{"description":"The value of the argument.","type":"string"}},"required":["type","name","value"]},"_88BuildTaskProperties":{"description":"The properties of a build task.","type":"object","properties":{"___platform":{"oneOf":[{"$eref":{"description":"The platform properties against which the build has to happen.","type":"object","properties":{"___osType":{"oneOf":[{"type":"string","enum":["Windows","Linux"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The operating system type required for the build."},"___cpu":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The CPU configuration in terms of number of cores required for the build."}},"required":["osType"]}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The platform properties against which the build has to happen."},"___status":{"oneOf":[{"type":"string","enum":["Disabled","Enabled"]},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The current status of build task."},"___alias":{"description":"The alternative updatable name for a build task.","type":"string"},"___timeout":{"oneOf":[{"default":"3600","maximum":28800,"type":"integer","minimum":300},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Build timeout in seconds."},"___sourceRepository":{"oneOf":[{"$eref":{"description":"The properties of the source code repository.","type":"object","properties":{"___repositoryUrl":{"description":"The full URL to the source code respository","type":"string"},"___isCommitTriggerEnabled":{"oneOf":[{"default":false,"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The value of this property indicates whether the source control commit trigger is enabled or not."},"___sourceControlAuthProperties":{"oneOf":[{"$ref":"#\/definitions\/SourceControlAuthInfo"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The authorization properties for accessing the source code repository."},"___sourceControlType":{"oneOf":[{"type":"string","enum":["Github","VisualStudioTeamService"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The type of source control service."}},"required":["sourceControlType","repositoryUrl"]}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The properties that describes the source(code) for the build task."}},"required":["alias","sourceRepository","platform"]},"_88SourceRepositoryProperties":{"description":"The properties of the source code repository.","type":"object","properties":{"___repositoryUrl":{"description":"The full URL to the source code respository","type":"string"},"___isCommitTriggerEnabled":{"oneOf":[{"default":false,"type":"boolean"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The value of this property indicates whether the source control commit trigger is enabled or not."},"___sourceControlAuthProperties":{"oneOf":[{"$eref":{"description":"The authorization properties for accessing the source code repository.","type":"object","properties":{"___refreshToken":{"description":"The refresh token used to refresh the access token.","type":"string"},"___token":{"description":"The access token used to access the source control provider.","type":"string"},"___scope":{"description":"The scope of the access token.","type":"string"},"___tokenType":{"oneOf":[{"type":"string","enum":["PAT","OAuth"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The type of Auth token."},"___expiresIn":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Time in seconds that the token remains valid"}},"required":["token"]}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The authorization properties for accessing the source code repository."},"___sourceControlType":{"oneOf":[{"type":"string","enum":["Github","VisualStudioTeamService"]},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The type of source control service."}},"required":["sourceControlType","repositoryUrl"]},"_88PlatformProperties":{"description":"The platform properties against which the build has to happen.","type":"object","properties":{"___osType":{"oneOf":[{"type":"string","enum":["Windows","Linux"]},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The operating system type required for the build."},"___cpu":{"oneOf":[{"type":"integer"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The CPU configuration in terms of number of cores required for the build."}},"required":["osType"]},"_88registries_buildTasks_steps_childResource":{"description":"Microsoft.ContainerRegistry\/registries\/buildTasks\/steps","type":"object","properties":{"___name":{"oneOf":[{"pattern":"^[a-zA-Z0-9]*$","type":"string"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The name of a build step for a container registry build task."},"___type":{"type":"string","enum":["steps"]},"___properties":{"oneOf":[{"$eref":{"allOf":[{"properties":{"___type":{"type":"string","enum":["BuildStepProperties","Docker"]}}},{"anyOf":[{"$ref":"#\/definitions\/Docker"}]}],"description":"Base properties for any build step.","type":"object"}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The properties of a build step."},"___apiVersion":{"type":"string","enum":["2018-02-01-preview"]}},"required":["name","type","apiVersion","properties"]}}}