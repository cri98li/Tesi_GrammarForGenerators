{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"JSON Schema for process data of a traffic controller.","id":"http:\/\/schlothauer.de\/schemas\/lsa-process-data.json","type":"object","properties":{"___timestamp":{"format":"date-time","description":"RFC 3339 compliant timestamp without fractional seconds. Example: '2017-04-05T12:30:00+01:00'.","type":"string"},"___programNr":{"description":"Number of the signal program; only if changed","type":"integer"},"___tx":{"description":"Cycle second; starting with 0","type":"integer"},"___variables":{"type":"array","items":{"type":"object","properties":{"___name":{"description":"Variable name.","type":"string"},"___value":{"description":"Variable value.","type":"string"}},"required":["name","value"]}},"___detectorFlanks":{"description":"Detector flank occurences for the given timestamp offset. The encoding format for a detector flank is '<ObjNr>(+|-)<FractionalSeconds>'. The +\/- part indicates a rising\/falling flank. FractionalSeconds is the millisecond part of the given timestamp where flank occured. Example: ['2+100','2-900','4+700'].","type":"array","items":{"type":"object","properties":{"___name":{"description":"Name of the detector (optional).","type":"string"},"___nr":{"type":"integer"},"___frac":{"description":"fractional seconds","type":"integer"}}}},"___signalChanges":{"description":"Signal changes for the given timestamp offset.","type":"array","items":{"type":"object","properties":{"___name":{"description":"Name of the signal group (optional).","type":"string"},"___nr":{"type":"integer"},"___code":{"description":"OCIT signal code","type":"integer"}},"required":["nr","code"]}},"___domainUUID":{"pattern":"^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$","description":"RFC 4122 compliant universally unique identifier (UUID) for identifying the domain of the traffic controller.","type":"string"},"___telegrams":{"description":"Array with public transport telegrams.","type":"array","items":{"description":"Public transport telegram.","type":"object","properties":{"___linie":{"description":"Number of the PT line.","type":"integer"},"___amliProperties":{"description":"OevAmliTelegramm extension.","type":"object","properties":{"___gruenAnfang":{"description":"Gruenanfang der OV-Signalgruppe (GNA).","type":"integer"},"___relKnoten":{"description":"relative UnitNr des beeinflussten Knotens.","type":"integer"},"___modifikation":{"description":"gibt an, ob OEPNV Modifikation durch Zentrale aktiv ist.","type":"boolean"},"___zeitschalter":{"description":"Zeitschalterwert (TX).","type":"integer"},"___gruenEnde":{"description":"Gruenende der OV-Signalgruppe (GNE).","type":"integer"},"___laufPhase":{"description":"Laufende Phase (PH).","type":"integer"},"___gewPhase":{"description":"Gewuenschte Phase (UE).","type":"integer"},"___fahrzeit":{"description":"Bei Abmeldung die echte Fahrzeit des OV von Anmeldung bis Abmeldung. Bei Anmeldung die theoretisch (berechnete) Fahrzeit des OV von Anmeldung bis Abmeldung (TWF).","type":"integer"},"___signalplan":{"description":"Laufender Signalplan (SP).","type":"integer"}}},"___kurs":{"type":"integer"},"___abw":{"description":"Fahrplanabweichung.","type":"integer"},"___zuglaenge":{"description":"Vehicle length.","type":"integer"},"___route":{"type":"integer"},"___mpNr":{"description":"Number of the PT detection point.","type":"integer"},"___prio":{"description":"Priority.","type":"integer"},"___richtung":{"description":"Manual direction.","type":"integer"}},"required":["mpNr","linie","kurs","route","prio","zuglaenge","richtung","abw"]}},"___unitNr":{"description":"Unit number of the traffic controller. The unit number must be unique per domain.","type":"integer"}},"required":["domainUUID","unitNr","timestamp","tx"]}