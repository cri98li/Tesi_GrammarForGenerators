{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"This schema defines what is acceptable to send as a payload data with the Push API from the FxA servers to a device connected to FxA","anyOf":[{"$eref":{"additionalProperties":false,"properties":{"___version":{"description":"The version of this push payload data instance. Bump this if you make changes to any part of this schema.","type":"integer"},"___command":{"description":"Helps the receiving device discriminate payloads","type":"string","enum":["fxaccounts:device_connected"]},"___data":{"additionalProperties":false,"type":"object","properties":{"___deviceName":{"description":"The name of the device who joined this account","type":"string"}},"required":["deviceName"]}},"required":["version","command","data"]}},{"$eref":{"additionalProperties":false,"properties":{"___version":{"type":"integer"},"___command":{"type":"string","enum":["fxaccounts:device_disconnected"]},"___data":{"additionalProperties":false,"type":"object","properties":{"___id":{"description":"The id of the device who was disconnected remotely","type":"string"}},"required":["id"]}},"required":["version","command","data"]}},{"$eref":{"additionalProperties":false,"properties":{"___version":{"type":"integer"},"___command":{"type":"string","enum":["fxaccounts:profile_updated"]}},"required":["version","command"]}},{"$eref":{"additionalProperties":false,"properties":{"___version":{"type":"integer"},"___command":{"type":"string","enum":["sync:collection_changed"]},"___data":{"additionalProperties":false,"type":"object","properties":{"___reason":{"description":"Event that lead to this push notification","type":"string","enum":["sendtab","firstsync"]},"___collections":{"minItems":1,"uniqueItems":true,"description":"A list of collections that were changed","type":"array","items":{"enum":["addons","bookmarks","history","forms","prefs","tabs","passwords","clients"]}}},"required":["collections"]}},"required":["version","command","data"]}},{"$eref":{"additionalProperties":false,"properties":{"___version":{"type":"integer"},"___command":{"type":"string","enum":["fxaccounts:password_changed"]}},"required":["version","command"]}},{"$eref":{"additionalProperties":false,"properties":{"___version":{"type":"integer"},"___command":{"type":"string","enum":["fxaccounts:password_reset"]}},"required":["version","command"]}},{"$eref":{"additionalProperties":false,"properties":{"___version":{"type":"integer"},"___command":{"type":"string","enum":["fxaccounts:account_destroyed"]},"___data":{"additionalProperties":false,"type":"object","properties":{"___uid":{"description":"The UID of the account which was destroyed","type":"string"}},"required":["uid"]}},"required":["version","command","data"]}}],"title":"FxA Push Payload schema","type":"object","definitions":{"_88collectionsChanged":{"additionalProperties":false,"properties":{"___version":{"type":"integer"},"___command":{"type":"string","enum":["sync:collection_changed"]},"___data":{"additionalProperties":false,"type":"object","properties":{"___reason":{"description":"Event that lead to this push notification","type":"string","enum":["sendtab","firstsync"]},"___collections":{"minItems":1,"uniqueItems":true,"description":"A list of collections that were changed","type":"array","items":{"enum":["addons","bookmarks","history","forms","prefs","tabs","passwords","clients"]}}},"required":["collections"]}},"required":["version","command","data"]},"_88accountDestroyed":{"additionalProperties":false,"properties":{"___version":{"type":"integer"},"___command":{"type":"string","enum":["fxaccounts:account_destroyed"]},"___data":{"additionalProperties":false,"type":"object","properties":{"___uid":{"description":"The UID of the account which was destroyed","type":"string"}},"required":["uid"]}},"required":["version","command","data"]},"_88passwordReset":{"additionalProperties":false,"properties":{"___version":{"type":"integer"},"___command":{"type":"string","enum":["fxaccounts:password_reset"]}},"required":["version","command"]},"_88passwordChanged":{"additionalProperties":false,"properties":{"___version":{"type":"integer"},"___command":{"type":"string","enum":["fxaccounts:password_changed"]}},"required":["version","command"]},"_88deviceConnected":{"additionalProperties":false,"properties":{"___version":{"description":"The version of this push payload data instance. Bump this if you make changes to any part of this schema.","type":"integer"},"___command":{"description":"Helps the receiving device discriminate payloads","type":"string","enum":["fxaccounts:device_connected"]},"___data":{"additionalProperties":false,"type":"object","properties":{"___deviceName":{"description":"The name of the device who joined this account","type":"string"}},"required":["deviceName"]}},"required":["version","command","data"]},"_88deviceDisconnected":{"additionalProperties":false,"properties":{"___version":{"type":"integer"},"___command":{"type":"string","enum":["fxaccounts:device_disconnected"]},"___data":{"additionalProperties":false,"type":"object","properties":{"___id":{"description":"The id of the device who was disconnected remotely","type":"string"}},"required":["id"]}},"required":["version","command","data"]},"_88profileUpdated":{"additionalProperties":false,"properties":{"___version":{"type":"integer"},"___command":{"type":"string","enum":["fxaccounts:profile_updated"]}},"required":["version","command"]}}}