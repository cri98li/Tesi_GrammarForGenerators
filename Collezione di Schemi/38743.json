{"$schema":"http:\/\/json-schema.org\/draft-07\/schema#","additionalProperties":false,"title":"turbobuilder.json schema","type":"object","properties":{"___wildCards":{"description":"List of wildcards that can be used to be dinamically replaced on this setup, with different values for the build and release commands","type":"array","items":{"description":"","additionalProperties":false,"type":"object","properties":{"___name":{"description":"The name for the wildcard. This string will be searched on all the setup file and replaced with the build or release value","type":"string"},"___build":{"description":"The value that will be assigned to all the wildcard occurences when the build process is executed","type":"string"},"___release":{"description":"The value that will be assigned to all the wildcard occurences when the release process is executed","type":"string"}},"required":["name","build","release"]}},"___$schema":{"description":"Url to the json schema definition to validate this file","type":"string","enum":["https:\/\/raw.githubusercontent.com\/edertone\/TurboBuilder\/master\/TurboBuilder-Node\/src\/main\/resources\/json-schema\/turbobuilder.schema.json"]},"___sync":{"description":"Defines the parameters for the sync process","anyOf":[{"maxProperties":0,"type":"object"},{"additionalProperties":false,"type":"object","properties":{"___destPath":{"description":"A file system path where the source files will be copied","type":"string"},"___type":{"description":"Defines the type of task to execute: an ftp or fileSystem synchronization","type":"string","enum":["fileSystem"]},"___remoteUrl":{"description":"The root url from where the synchronized files will be accessible via web browser","type":"string"},"___excludes":{"description":"List of string patterns that will be used to exclude files or folders from the sync task.","type":"array","items":{"type":"string"}},"___sourcePath":{"description":"A path relative to the defined source root where the files to be synced are located","type":"string"},"___runAfterBuild":{"description":"If enabled, this sync task will be executed automatically after each build","type":"boolean"},"___deleteDestPathContents":{"description":"If set to true, all files found on the destPath will be deleted before executing the sync","type":"boolean"}},"minProperties":7},{"additionalProperties":false,"type":"object","properties":{"___remotePath":{"description":"A path relative to the remote host where the files will be synchronized","type":"string"},"___user":{"description":"The remote user","type":"string"},"___type":{"description":"Defines the type of task to execute: an ftp or fileSystem synchronization","type":"string","enum":["ftp"]},"___remoteUrl":{"description":"The root url from where the synchronized files will be accessible via web browser","type":"string"},"___psw":{"description":"The remote password","type":"string"},"___excludes":{"description":"List of string patterns that will be used to exclude files or folders from the sync task.","type":"array","items":{"type":"string"}},"___sourcePath":{"description":"A path relative to the target compiled folder root (target\/project-name\/)","type":"string"},"___runAfterBuild":{"description":"If enabled, this sync task will be executed automatically after each build","type":"boolean"},"___host":{"description":"A remote host where the files will be synchronized","type":"string"}},"minProperties":9}],"type":"object"},"___build":{"oneOf":[{"required":["site_php"]},{"required":["server_php"]},{"required":["lib_php"]},{"required":["lib_java"]},{"required":["lib_js"]},{"required":["lib_ts"]},{"required":["lib_angular"]},{"required":["app_angular"]},{"required":["app_node_cmd"]}],"description":"Defines the parameters for the build process","additionalProperties":false,"type":"object","properties":{"___lib_java":{"description":"The Lib_java Schema","additionalProperties":false,"type":"object","properties":{"___createJar":{"description":"The Createjar Schema","type":"boolean"}}},"___server_php":{"description":"A subset of the site_php project type. It basically shares the same project structure, folders, files and setup but without all the visual part. This project type can be upgraded at any time to a site_php one","additionalProperties":false,"type":"object"},"___lib_angular":{"description":"An angular library project type","additionalProperties":false,"type":"object"},"___app_angular":{"description":"An angular application project type","additionalProperties":false,"type":"object"},"___lib_js":{"description":"A project that contains javascript files and generates a reusable js library","additionalProperties":false,"type":"object","properties":{"___deleteNonMergedJs":{"description":"If set to true, no source js files will be copied to the dist folder","type":"boolean"},"___createMergedFile":{"description":"If set to true, all source js files will be merged into the specified mergedFileName file","type":"boolean"},"___mergedFileName":{"description":"Defines the name for the js file that contains all the library merged code. Extension (.js) must not be written here. If left empty, the project name will be used by default","type":"string"}},"required":["deleteNonMergedJs","createMergedFile","mergedFileName"]},"___site_php":{"description":"A php website project type","additionalProperties":false,"type":"object"},"___app_node_cmd":{"description":"A command line nodejs application project type","additionalProperties":false,"type":"object"},"___lib_php":{"description":"The Lib_php Schema","additionalProperties":false,"type":"object","properties":{"___createPhar":{"description":"The Createphar Schema","type":"boolean"}}},"___replaceVersion":{"description":"This feature allows us to replace a specific wildcard with the current project version number on all the specified file types as part of the build and release processes","additionalProperties":false,"type":"object","properties":{"___wildCard":{"description":"A pattern to search on the specified file extensions which will be replaced with the project version number","type":"string"},"___extensions":{"description":"List of file extensions where the wildcard search and replacement will be performed ('php', 'js', 'json', etc...)","type":"array"},"___enabled":{"description":"Enables or disables the replace version feature","type":"boolean"}},"required":["enabled","wildCard","extensions"]},"___lib_ts":{"description":"A typescript library project type","additionalProperties":false,"type":"object","properties":{"___strict":{"description":"The Strict Schema","type":"boolean"},"___targets":{"description":"The Targets Schema","type":"array","items":{"description":"The Items Schema","additionalProperties":false,"type":"object","properties":{"___mergedFile":{"description":"Defines the name for the js file that contains all the library code merged for this specific ES target. Extension (.js) must not be written here","type":"string"},"___jsTarget":{"description":"TODO","type":"string"},"___folder":{"description":"TODO","type":"string"},"___globalVar":{"description":"Defines the name of the global namespace variable that will be generated to contain the compiled library code. This can then be safely used along with other libraries without danger of collision cause all the classes and methods will be declared under this global variable","type":"string"}},"required":["folder","jsTarget"]}},"___declaration":{"description":"The Declaration Schema","type":"boolean"},"___sourceMap":{"description":"The Sourcemap Schema","type":"boolean"}}},"___printTodoFiles":{"description":"If enabled, the contents of all the files on the extras\/todo folder will be displayed as part of the build console output","type":"boolean"}}},"___validate":{"description":"The Validate Schema","additionalProperties":false,"type":"object","properties":{"___filesContent":{"description":"Defines validations related to the content of the project files","additionalProperties":false,"type":"object","properties":{"___copyPasteDetect":{"description":"Contains the setup for the copy paste detection feature that allows us to find duplicate code on several project folders. Each element of the array defines the setup for a specific path relative to the project root","type":"array","items":{"description":"Defines each one of the paths where duplicate code will be searched for","additionalProperties":false,"type":"object","properties":{"___maxPercentErrorLevel":{"description":"A numeric value from 0 to 100 that defines the maximum allowed percentage of duplicate code to be found on the specified path that will cause a validation error. If the duplicate code exceeds this values, all builds will fail. Set it to -1 to disable the duplicate code limits for this path","type":"number"},"___report":{"description":"if we want the copy paste detector to output a report inside target\/project-name\/copypaste report, we will set the project type or types on this field, seppared with comas. For example: html,json,xml","type":"string"},"___maxPercentErrorDifference":{"description":"A numeric value from 0 to 100 that defines the maximum difference between the real percentage of copy pasted code on the specified path and the maxPercentErrorLevel value. If the difference is bigger that the number specified here, validation will fail. This is used to make sure we keep lowering the maxPercentErrorLevel value after we reduce the effective duplicate code in our project. Set it to -1 to disable this","type":"number"},"___path":{"description":"Defines a path based on project root where duplicate code will be looked for","type":"string"}},"required":["path","maxPercentErrorLevel","maxPercentErrorDifference","report"]}},"___tabsForbidden":{"description":"Contains the setup for the rule that allows us to totally disallow the tabulation characters in the project files","additionalProperties":false,"type":"object","properties":{"___enabled":{"description":"Enables the forbidden tabs validation rule","type":"boolean"},"___excludes":{"description":"A list of strings. Any file inside the affectedPaths folders which full path contains any of the provided texts will be ignored","type":"array"},"___affectedPaths":{"examples":["src","extras"],"description":"List of folders relative to project root that will be scanned for tab characters.","type":"array"}},"required":["enabled","affectedPaths"]},"___copyrightHeaders":{"description":"Defines the validation rules that apply to copyright headers that must exist on all the files that meet the configured criteria","type":"array","items":{"description":"Defines each one of the copyright headers validation items","additionalProperties":false,"type":"object","properties":{"___excludes":{"description":"Any included file which full filesystem path contanis any of the provided strings will be excluded from copyright headers validation","type":"array","items":{"type":"string"}},"___affectedPaths":{"description":"List of folders relative to project root that will be scanned for copyright headers","type":"array","items":{"type":"string"}},"___path":{"description":"Defines a path based on project root that points to a copyright header template that must exist at the beginning of all the files that meet the configured criteria","type":"string"},"___includes":{"description":"List of string patterns that will be used to include files or folders into the validation","type":"array","items":{"type":"string"}}},"required":["path","affectedPaths","includes","excludes"]}}},"required":["copyPasteDetect"]},"___angularApp":{"description":"Defines validation rules that apply to angular applications","additionalProperties":false,"type":"object","properties":{"___forceHttpsWithHtaccess":{"description":"If enabled, the application must have an src\/htaccess.txt file that forces the redirect of the url from http to https","type":"boolean"},"___forceMobileWebAppCapable":{"description":"If enabled, the index.html file must contain the <meta name=\"mobile-web-app-capable\" content=\"yes\"> metadata tag, which will inform the mobile browsers to treat the application as a mobile app when being added to the desktop as a link","type":"boolean"},"___noLegacyFavicon":{"description":"If enabled, the legacy favicon.ico metadata won't be allowed on index.html file","type":"boolean"},"___forceOverscrollContain":{"description":"If enabled, the index.html file must contain style=\"overscroll-behavior: contain\" at the opening body tag, which will prevent the mobile browsers from reloading the application when user performs a scrolldown from top","type":"boolean"}}},"___javascript":{"description":"Defines validation rules that apply to javascript code","additionalProperties":false,"type":"object","properties":{"___useStrict":{"description":"Sets up the requirement of having 'use strict' at the first line of the js files","additionalProperties":false,"type":"object","properties":{"___enabled":{"description":"Enables or disables the 'use strict' rule for javascript files","type":"boolean"},"___excludes":{"description":"List of string patterns that will be used to exclude files or folders from the validation","type":"array"},"___includes":{"description":"List of string patterns that will be used to include files or folders into the validation","type":"array"}},"required":["enabled","includes","excludes"]}}},"___runBeforeBuild":{"description":"The Runbeforebuild Schema","type":"boolean"},"___styleSheets":{"description":"Defines validations related to the project css style sheets","additionalProperties":false,"type":"object","properties":{"___onlyScss":{"description":"If enabled, only scss files will be allowed for stylesheets on the project","type":"boolean"},"___noCssHardcodedColors":{"description":"If enabled, no hardcoded colors will be accepted on the project css files. Use a palete with variables instead","type":"boolean"}}},"___php":{"description":"Defines validation rules that apply to PHP code","additionalProperties":false,"type":"object","properties":{"___coding":{"description":"Defines several rules that will apply to how is the php code written on the project files","type":"object"},"___namespaces":{"description":"Defines the validation of php namespaces for all the php project files","additionalProperties":false,"type":"object","properties":{"___enabled":{"description":"Enables or disables the php namespaces validation","type":"boolean"},"___excludes":{"description":"Any php file which full filesystem path contanis any of the provided strings will be excluded from namespace validation","type":"array","items":{"type":"string"}},"___mandatory":{"description":"If set to true, all php files on the project (except those which path matches any of the exclude strings) must have a namespace declaration","type":"boolean"},"___mustContain":{"description":"A list of strings that must appear on namespaces for all files of the project. Wildcards can be used to customize these strings: $path will be replaced with the php file path relative to src folder (For example: main\\php\\model)","type":"array","items":{"description":"A pattern that must appear on all the php files namespaces","type":"string"}}},"required":["enabled","mandatory","mustContain","excludes"]}}},"___projectStructure":{"description":"Defines validations related to the project files and folders structure","additionalProperties":false,"type":"object","properties":{"___readmeFileMandatory":{"description":"If set to true, the README.md file will be mandatory at the root of the project","type":"boolean"},"___strictSrcFolders":{"description":"Defines several rules that will be applied to all the folders contained by the src folder: libs and resources will be only allowed at the root of src\/main and src\/test","additionalProperties":false,"type":"object","properties":{"___enabled":{"description":"Enables or disables the strictSrcFolders validation","type":"boolean"},"___excludes":{"description":"A list of strings. Any file inside the affectedPaths folders which full path contains any of the provided texts will be ignored","type":"array"}},"required":["enabled","excludes"]},"___extrasFolderMandatory":{"description":"If set to true, the extras folder will be mandatory at the root of the project","type":"boolean"},"___extrasTodoExtension":{"description":"If set to true, all files inside the extras\/todo folder must have a .todo extension","type":"boolean"},"___strictFileExtensionCase":{"description":"Defines which project files must have lower case extension","additionalProperties":false,"type":"object","properties":{"___excludes":{"description":"A list of strings. Any file inside the affectedPaths folders which full path contains any of the provided texts will be ignored","type":"array"},"___affectedPaths":{"examples":["src","extras"],"description":"List of folders relative to project root that will be scanned for file extension case","type":"array"}},"required":["affectedPaths","excludes"]},"___extrasSubFoldersMandatory":{"description":"Defines a list of folder names that must exist inside the extras folder","type":"array","items":{"description":"A sub folder name","type":"string"}}}}}},"___test":{"description":"Defines the parameters for the test process","type":"array","items":{"anyOf":[{"additionalProperties":false,"type":"object","properties":{"___coverageReport":{"type":"boolean"},"___type":{"type":"string","enum":["phpUnit"]},"___coverageReportOpenAfterTests":{"type":"boolean"},"___testsRoot":{"type":"string"}},"required":["type","testsRoot","coverageReport","coverageReportOpenAfterTests"]},{"additionalProperties":false,"type":"object","properties":{"___type":{"type":"string","enum":["jasmine"]},"___jasmineConfig":{"type":"string"}},"required":["type","jasmineConfig"]},{"additionalProperties":false,"type":"object","properties":{"___browsers":{"type":"object"},"___type":{"type":"string","enum":["qunit"]},"___targets":{"type":"array"},"___testsRoot":{"type":"string"},"___httpServerPort":{"type":"string"}},"required":["type","testsRoot","httpServerPort","targets","browsers"]}]}},"___release":{"description":"The Release Schema","additionalProperties":false,"type":"object","properties":{"___gitChangeLogCount":{"description":"Defines the number of most recent tags to be included into the GIT change log file","type":"integer"},"___optimizePictures":{"description":"If enabled, all project pictures will be optimized to be as small as possible into the release folder","type":"boolean"},"___gitChangeLog":{"description":"If enabled, a Changelog.txt file containing the list of recent GIT changes will be generated inside the release folder","type":"boolean"},"___generateCodeDocumentation":{"description":"If enabled, a docs folder will be created into the release destination containing auto generted code documentation for the project languages","type":"boolean"},"___printTodoFiles":{"description":"If enabled, the contents of all the files on the extras\/todo folder will be displayed as part of the release console output","type":"boolean"}},"required":[]},"___metadata":{"description":"Contains information about the project","additionalProperties":false,"type":"object","properties":{"___name":{"description":"The project name","type":"string"},"___builderVersion":{"description":"The turbo builder version that is used by this project","type":"string"},"___description":{"description":"The project description","type":"string"}},"required":["builderVersion"]}},"required":["$schema","metadata","build"],"$id":"http:\/\/example.com\/root.json"}