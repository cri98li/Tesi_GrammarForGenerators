{"invocation-schema":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","title":"Invocation manifest for BIDS Freesurfer: Freesurfer recon-all BIDS App","type":"object","properties":{"___config":{"type":"object","properties":{"___gear-run-bids-validation":{"default":true,"type":"boolean"},"___multiple_sessions":{"default":"longitudinal","type":"string","enum":["longitudinal","multiday"]},"___gear-FREESURFER_LICENSE":{"type":"string"},"___stages":{"default":"autorecon-all","type":"string"},"___acquisition_label":{"type":"string"},"___3T":{"type":"boolean"},"___gear-analysis-level":{"default":"participant","type":"string","enum":["participant","group1","group2"]},"___session_label":{"type":"string"},"___gear-keep-output":{"default":false,"type":"boolean"},"___template_name":{"default":"average","type":"string"},"___gear-dry-run":{"default":false,"type":"boolean"},"___steps":{"type":"string"},"___refine_pial_acquisition_label":{"type":"string"},"___parcellations":{"default":"aparc","type":"string"},"___measurements":{"default":"thickness","type":"string"},"___skip_bids_validator":{"default":false,"type":"boolean"},"___refine_pial":{"default":"T2","type":"string","enum":["T2","FLAIR","None","T1only"]},"___n_cpus":{"type":"integer"},"___gear-abort-on-bids-error":{"default":false,"type":"boolean"},"___hires_mode":{"default":"auto","type":"string","enum":["auto","enable","disable"]},"___participant_label":{"type":"string"},"___gear-log-level":{"default":"INFO","type":"string","enum":["ERROR","WARNING","INFO","DEBUG"]}},"required":["stages","template_name","multiple_sessions","refine_pial","hires_mode","parcellations","measurements","skip_bids_validator","gear-analysis-level","gear-abort-on-bids-error","gear-log-level","gear-run-bids-validation","gear-dry-run","gear-keep-output"]},"___inputs":{"type":"object","properties":{"___key":{"type":"object"},"___bids_validator_config":{"type":"object","properties":{}},"___freesurfer_license":{"type":"object","properties":{}}},"required":["key"]}},"required":["config","inputs"]},"exchange":{"rootfs-hash":"sha384:4807941a3f9a90f033b7a8afaa1debcd949a3bdc51aa48a11ad296459597c8c434d1f45445dba29a861ece3b1cf89d0e","git-commit":"0c8930885ff7c68018cc984f44c5a95ed89bf3f4","rootfs-url":"https:\/\/storage.googleapis.com\/flywheel-exchange\/flywheel-bids-freesurfer-sha384-4807941a3f9a90f033b7a8afaa1debcd949a3bdc51aa48a11ad296459597c8c434d1f45445dba29a861ece3b1cf89d0e.tgz"},"gear":{"author":"http:\/\/surfer.nmr.mgh.harvard.edu\/","inputs":{"freesurfer_license":{"description":"FreeSurfer license file, provided during registration with FreeSurfer. This file will by copied to the $FSHOME directory and used during execution of the Gear.","optional":true,"base":"file"},"bids_validator_config":{"description":"JSON file specifying the configuration of bids-validator: See https:\/\/github.com\/bids-standard\/bids-validator#configuration for more info","optional":true,"base":"file"},"key":{"read-only":true,"base":"api-key"}},"custom":{"license":{"non-commercial-use-only":false,"main":{"name":"Apache-2.0","url":"https:\/\/github.com\/BIDS-Apps\/freesurfer\/blob\/master\/LICENSE"}},"gear-builder":{"image":"flywheel\/bids-freesurfer:1.0.1_6.0.1-5","category":"analysis"},"flywheel":{"suite":"BIDS Apps"},"docker-image":"flywheel\/bids-freesurfer:1.0.1_6.0.1-5"},"description":"BIDS-Apps\/Freesurfer (6.0.1-5) This app implements surface reconstruction using Freesurfer. It reconstructs the surface for each subject individually and then creates a study specific template. In case there are multiple sessions the Freesurfer longitudinal pipeline is used (creating subject specific templates) unless instructed to combine data across sessions.  The current Freesurfer version is based on: freesurfer-Linux-centos6_x86_64-stable-pub-v6.0.0.tar.gz.","source":"https:\/\/github.com\/flywheel-apps\/bids-freesurfer","label":"BIDS Freesurfer: Freesurfer recon-all BIDS App","version":"1.0.1_6.0.1-5","url":"https:\/\/github.com\/BIDS-Apps\/freesurfer","maintainer":"Flywheel <support@flywheel.io>","command":"\/usr\/local\/miniconda\/bin\/python3 run.py","license":"Apache-2.0","environment":{"PATH":"PATH=\/usr\/local\/miniconda\/bin:\/opt\/freesurfer\/bin:\/opt\/freesurfer\/fsfast\/bin:\/opt\/freesurfer\/tktools:\/opt\/freesurfer\/mni\/bin:\/usr\/local\/sbin:\/usr\/local\/bin:\/usr\/sbin:\/usr\/bin:\/sbin:\/bin","PYTHONUNBUFFERED":"1"},"name":"bids-freesurfer","cite":"https:\/\/surfer.nmr.mgh.harvard.edu\/fswiki\/FreeSurferMethodsCitation","config":{"participant_label":{"description":"The label of the participant that should be analyzed. The label corresponds to sub-<participant_label> from the BIDS spec (so it does not include 'sub-'). If this parameter is not provided all subjects should be analyzed. Multiple participants can be specified with a space separated list.","optional":true,"type":"string"},"3T":{"description":"enables the two 3T specific options that recon-all supports: nu intensity correction params, and the special schwartz atlas","optional":true,"type":"boolean"},"gear-FREESURFER_LICENSE":{"description":"Text from license file generated during FreeSurfer registration. *Entries should be space separated*","optional":true,"type":"string"},"n_cpus":{"description":"Number of of CPUs\/cores to use. Default is all available.","optional":true,"type":"integer"},"session_label":{"description":"The label of the session that should be analyzed. The label corresponds to ses-<session_label> from the BIDS spec (so it does not include 'ses-'). If this parameter is not provided all sessions should be analyzed. Multiple sessions can be specified with a space separated list.","optional":true,"type":"string"},"skip_bids_validator":{"default":false,"description":"skips bids validation","type":"boolean"},"gear-dry-run":{"default":false,"description":"Do everything except actually executing the command line","type":"boolean"},"refine_pial_acquisition_label":{"description":"REFINE_PIAL_ACQUISITION_LABEL If the dataset contains multiple T2 or FLAIR weighted images from different acquisitions which one should be used? Corresponds to 'acq-<acquisition_label>'","optional":true,"type":"string"},"hires_mode":{"default":"auto","description":"{auto,enable,disable} Submilimiter (high resolution) processing. 'auto' - use only if <1.0mm data detected, 'enable' - force on, 'disable' - force off","type":"string","enum":["auto","enable","disable"]},"steps":{"description":"{cross-sectional,template,longitudinal} [{cross-sectional,template,longitudinal} ...] Longitudinal pipeline steps to run (space separated list).","optional":true,"type":"string"},"gear-keep-output":{"default":false,"description":"Don't delete output.  Output is always zipped into a single file for easy download.  Choose this option to prevent output deletion after zipping.","type":"boolean"},"gear-log-level":{"default":"INFO","description":"Gear Log verbosity level (ERROR|WARNING|INFO|DEBUG)","type":"string","enum":["ERROR","WARNING","INFO","DEBUG"]},"refine_pial":{"default":"T2","description":"{T2,FLAIR,None,T1only} If the dataset contains 3D T2 or T2 FLAIR weighted images (~1x1x1), these can be used to refine the pial surface. If you want to ignore these, specify None or T1only to base surfaces on the T1 alone.","type":"string","enum":["T2","FLAIR","None","T1only"]},"multiple_sessions":{"default":"longitudinal","description":"{longitudinal,multiday} For datasets with multiday sessions where you do not want to use the longitudinal pipeline, i.e., sessions were back-to-back, set this to multiday, otherwise sessions with T1w data will be considered independent sessions for longitudinal analysis.","type":"string","enum":["longitudinal","multiday"]},"template_name":{"default":"average","description":"TEMPLATE_NAME Name for the custom group level template generated for this dataset","type":"string"},"gear-abort-on-bids-error":{"default":false,"description":"Gear will not run if there are any BIDS errors detected","type":"boolean"},"gear-run-bids-validation":{"default":true,"description":"Gear will run BIDS validation before Freesurfer.  If validation fails and gear-abort-on-bids-error is true, Freesurfer will NOT be run.","type":"boolean"},"stages":{"default":"autorecon-all","description":"{autorecon1,autorecon2,autorecon2-cp,autorecon2-wm,autorecon-pial,autorecon3,autorecon-all,all} [{autorecon1,autorecon2,autorecon2-cp,autorecon2-wm,autorecon-pial,autorecon3,autorecon-all,all} ...] Autorecon stages to run (space separated list).","type":"string"},"gear-analysis-level":{"default":"participant","description":"Level of the analysis that will be performed. Multiple participant level analyses can be run independently (in parallel) using the same output_dir. 'group1' creates study specific group template. 'group2' exports group stats tables for cortical parcellation, subcortical segmentation a table with euler numbers.","type":"string","enum":["participant","group1","group2"]},"acquisition_label":{"description":"ACQUISITION_LABEL If the dataset contains multiple T1 weighted images from different acquisitions which one should be used?  Corresponds to 'acq-<acquisition_label>'","optional":true,"type":"string"},"parcellations":{"default":"aparc","description":"{aparc,aparc.a2009s} [{aparc,aparc.a2009s} ...] Group2 option: cortical parcellation(s) to extract stats from (space separated list).","type":"string"},"measurements":{"default":"thickness","description":"{area,volume,thickness,thicknessstd,meancurv,gauscurv,foldind,curvind} [{area,volume,thickness,thicknessstd,meancurv,gauscurv,foldind,curvind} ...] Group2 option: cortical measurements to extract stats for (space separated list).","type":"string"}}}}