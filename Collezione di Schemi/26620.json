{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","title":"Generic manifest","type":"object","definitions":{"_88bytes":{"pattern":"^\\d+([KMGT]i?B|B)$","type":"string"},"_88partition":{"type":"object","properties":{"___filesystem":{"enum":["ext2","ext3","ext4","xfs"]},"___size":{"$eref":{"pattern":"^\\d+([KMGT]i?B|B)$","type":"string"}}},"required":["size","filesystem"]},"_88no_partitions":{"additionalProperties":false,"type":"object","properties":{"___type":{"enum":["none"]},"___root":{"$eref":{"type":"object","properties":{"___filesystem":{"enum":["ext2","ext3","ext4","xfs"]},"___size":{"$ref":"#\/definitions\/bytes"}},"required":["size","filesystem"]}}},"required":["root"]},"_88partition_table":{"additionalProperties":false,"type":"object","properties":{"___type":{"enum":["msdos","gpt"]},"___boot":{"$eref":{"type":"object","properties":{"___filesystem":{"enum":["ext2","ext3","ext4","xfs"]},"___size":{"$ref":"#\/definitions\/bytes"}},"required":["size","filesystem"]}},"___root":{"$eref":{"type":"object","properties":{"___filesystem":{"enum":["ext2","ext3","ext4","xfs"]},"___size":{"$ref":"#\/definitions\/bytes"}},"required":["size","filesystem"]}},"___swap":{"type":"object","properties":{"___size":{"$eref":{"pattern":"^\\d+([KMGT]i?B|B)$","type":"string"}}},"required":["size"]}},"required":["root"]},"_88path":{"pattern":"^[^\\0]+$","type":"string"},"_88absolute_path":{"pattern":"^\/[^\\0]+$","type":"string"}},"properties":{"___bootstrapper":{"type":"object","properties":{"___workspace":{"$eref":{"pattern":"^[^\\0]+$","type":"string"}},"___tarball":{"type":"boolean"},"___mirror":{"format":"uri","type":"string"}},"required":["workspace"]},"___volume":{"type":"object","properties":{"___partitions":{"oneOf":[{"$eref":{"additionalProperties":false,"type":"object","properties":{"___type":{"enum":["none"]},"___root":{"$ref":"#\/definitions\/partition"}},"required":["root"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___type":{"enum":["msdos","gpt"]},"___boot":{"$ref":"#\/definitions\/partition"},"___root":{"$ref":"#\/definitions\/partition"},"___swap":{"type":"object","properties":{"___size":{"$ref":"#\/definitions\/bytes"}},"required":["size"]}},"required":["root"]}}],"type":"object"},"___backing":{"type":"string"}},"required":["partitions"]},"___provider":{"type":"string"},"___packages":{"additionalProperties":false,"type":"object","properties":{"___trusted-keys":{"minItems":1,"type":"array","items":{"$eref":{"pattern":"^\/[^\\0]+$","type":"string"}}},"___sources":{"minItems":1,"patternProperties":{"___^\\w+$":{"minItems":1,"type":"array","items":{"pattern":"^(deb|deb-src)\\s+(\\[\\s*(.+\\S)?\\s*\\]\\s+)?\\S+\\s+\\S+(\\s+(.+\\S))?\\s*$","type":"string"}}},"additionalProperties":false,"type":"object"},"___mirror":{"format":"uri","type":"string"},"___install":{"minItems":1,"type":"array","items":{"anyOf":[{"pattern":"^[^\/]+(\/[^\/]+)?$"},{"$eref":{"pattern":"^\/[^\\0]+$","type":"string"}}]}}}},"___image":{"type":"object","properties":{"___name":{"type":"string"}},"required":["name"]},"___plugins":{"patternProperties":{"___^\\w+$":{"type":"object"}},"additionalProperties":false,"type":"object"},"___system":{"type":"object","properties":{"___locale":{"type":"string"},"___charmap":{"type":"string"},"___architecture":{"enum":["i386","amd64"]},"___sections":{"minItems":1,"type":"array"},"___bootloader":{"enum":["pvgrub","grub","extlinux"]},"___timezone":{"type":"string"},"___release":{"enum":["wheezy","testing","unstable"]}},"required":["release","architecture","bootloader","timezone","locale","charmap"]}},"required":["provider","bootstrapper","system","packages","volume"]}