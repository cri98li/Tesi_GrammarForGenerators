{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"JSON schema for a user.","additionalProperties":false,"title":"user","type":"object","properties":{"___library":{"description":"Library affiliation.","title":"Library","type":"object","properties":{"___$ref":{"pattern":"^https:\/\/ils.rero.ch\/api\/libraries\/.*?$","title":"Library URI","type":"string"}}},"___email":{"validationMessage":"Email should have at least one <code>@<\/code> and one <code>.<\/code>","minLength":6,"format":"email","pattern":"^.*@.*\\..*$","title":"Email","type":"string"},"___first_name":{"minLength":2,"validationMessage":"First Name is required.","title":"First name","type":"string"},"___roles":{"minItems":1,"maxItems":3,"uniqueItems":true,"description":"Define the roles of the user.","title":"Role","type":"array","items":{"type":"string","enum":["system_librarian","librarian","patron"]}},"___communication_channel":{"title":"Communication channel","type":"string","enum":["email","mail"]},"___pid":{"title":"User ID","type":"string"},"___$schema":{"default":"https:\/\/ils.rero.ch\/schema\/patrons\/patron-v0.0.1.json","minLength":9,"description":"Schema to validate user records against.","title":"Schema","type":"string"},"___communication_language":{"title":"Communication language","type":"string","enum":["ger","eng","fre","ita"]},"___patron_type":{"description":"Patron type in terms of circulation policy.","title":"Patron Type","type":"object","properties":{"___$ref":{"pattern":"^https:\/\/ils.rero.ch\/api\/patron_types\/.*?$","title":"Patron Type URI","type":"string"}}},"___barcode":{"minLength":6,"title":"Patron's barcode or card number","type":"string"},"___postal_code":{"minLength":4,"validationMessage":"Required. A valid postal code with a min of 4 characters.","title":"Postal code","type":"string"},"___phone":{"pattern":"^\\+[0-9]*$","description":"Phone number with the international prefix, without spaces.","title":"Phone number","type":"string"},"___street":{"validationMessage":"Required.","minLength":4,"description":"Street and number of the address, separated by a coma.","title":"Street","type":"string"},"___last_name":{"minLength":2,"validationMessage":"Last Name is required.","title":"Last name","type":"string"},"___birth_date":{"validationMessage":"Required. Should be in the ISO 8601, YYYY-MM-DD.","format":"date","pattern":"\\d{4}-((0[1-9])|(1[0-2]))-(((0[1-9])|[1-2][0-9])|(3[0-1]))$","title":"Date of birth","type":"string"},"___city":{"minLength":3,"validationMessage":"Required.","title":"City","type":"string"}},"required":["$schema","pid","first_name","last_name","birth_date","email","street","postal_code","city","roles"]}