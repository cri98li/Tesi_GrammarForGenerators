{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"http:\/\/github.com\/boutiques\/boutiques-schema","additionalProperties":false,"title":"Tool","type":"object","properties":{"___environment-variables":{"description":"An array of key-value pairs specifying environment variable names and their values to be used in the execution environment.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/environment-variables","type":"array","items":{"id":"http:\/\/github.com\/boutiques\/boutiques-schema\/environment-variable","additionalProperties":false,"type":"object","properties":{"___name":{"minLength":1,"pattern":"^[a-z,A-Z][0-9,_,a-z,A-Z]*$","description":"The environment variable name (identifier) containing only alphanumeric characters and underscores. Example: \"PROGRAM_PATH\".","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/environment-variable\/name","type":"string"},"___description":{"description":"Description of the environment variable.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/environment-variable\/description","type":"string"},"___value":{"description":"The value of the environment variable.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/environment-variable\/value","type":"string"}},"required":["name","value"]}},"___tool-version":{"minLength":1,"description":"Tool version.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/description","type":"string"},"___walltime-estimate":{"minLength":1,"description":"Estimated wall time of a task in seconds.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/walltime-estimate","type":"number"},"___invocation-schema":{"id":"http:\/\/github.com\/boutiques\/boutiques-schema\/invocation-schema","type":"object"},"___custom":{"id":"http:\/\/github.com\/boutiques\/boutiques-schema\/custom","type":"object"},"___schema-version":{"description":"Version of the schema used.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/schema-version","type":"string","enum":["0.4"]},"___name":{"minLength":1,"description":"Tool name.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/name","type":"string"},"___groups":{"description":"Sets of identifiers of inputs, each specifying an input group.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/groups","type":"array","items":{"id":"http:\/\/github.com\/boutiques\/boutiques-schema\/group","additionalProperties":false,"type":"object","properties":{"___name":{"minLength":1,"description":"A human-readable name for the input group.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/group\/name","type":"string"},"___one-is-required":{"description":"True if at least one of the inputs in the group must be active at runtime.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/group\/one-is-required","type":"boolean"},"___description":{"description":"Description of the input group.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/group\/description","type":"string"},"___mutually-exclusive":{"description":"True if only one input in the group may be active at runtime.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/group\/mutually-exclusive","type":"boolean"},"___id":{"minLength":1,"pattern":"^[0-9,_,a-z,A-Z]*$","description":"A short, unique, informative identifier containing only alphanumeric characters and underscores. Typically used to generate variable names. Example: \"outfile_group\".","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/group\/id","type":"string"},"___members":{"description":"IDs of the inputs belonging to this group.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/group\/members","type":"array","items":{"minLength":1,"pattern":"^[0-9,_,a-z,A-Z]*$","type":"string"}}},"required":["name","id","members"]}},"___description":{"minLength":1,"description":"Tool description.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/description","type":"string"},"___output-files":{"id":"http:\/\/github.com\/boutiques\/boutiques-schema\/output-files","type":"array","items":{"anyOf":[{"properties":{"___list":{"enum":[false]},"___file-template":{"minItems":1,"type":"array","items":{"type":"string"}}}},{"properties":{"___file-template":{"enum":[false]}}}],"id":"http:\/\/github.com\/boutiques\/boutiques-schema\/output","additionalProperties":false,"type":"object","properties":{"___name":{"minLength":1,"description":"A human-readable output name. Example: 'Data file'","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/output\/name","type":"string"},"___optional":{"description":"True if output may not be produced by the tool.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/output\/optional","type":"boolean"},"___description":{"description":"Output description.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/output\/description","type":"string"},"___value-key":{"description":"A string contained in command-line, substituted by the output value and\/or flag at runtime.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/output\/value-key","type":"string"},"___path-template":{"minLength":1,"description":"Describes the output file path relatively to the execution directory. May contain input value keys. Example: \"results\/[INPUT1]_brain.mnc\".","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/output\/path-template","type":"string"},"___list":{"description":"True if output is a list of value.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/output\/list","type":"boolean"},"___uses-absolute-path":{"description":"Specifies that this output filepath will be given as an absolute path.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/output-files\/uses-absolute-path","type":"boolean"},"___command-line-flag-separator":{"description":"Separator used between flags and their arguments. Defaults to a single space.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/output\/command-line-flag-separator","type":"string"},"___file-template":{"minItems":1,"description":"An array of strings that may contain value keys. Each item will be a line in the configuration file.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/input\/file-template","type":"array","items":{"type":"string"}},"___path-template-stripped-extensions":{"description":"List of file extensions that will be stripped from the input values before being substituted in the path template. Example: [\".nii\",\".nii.gz\"].","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/output\/path-template-stripped-extensions","type":"array","items":{"type":"string"}},"___id":{"minLength":1,"pattern":"^[0-9,_,a-z,A-Z]*$","description":"A short, unique, informative identifier containing only alphanumeric characters and underscores. Typically used to generate variable names. Example: \"data_file\"","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/output\/id","type":"string"},"___command-line-flag":{"description":"Option flag of the output, involved in the value-key substitution. Examples: -o, --output","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/output\/command-line-flag","type":"string"}},"required":["id","name","path-template"],"dependencies":{"command-line-flag-separator":["command-line-flag"]}}},"___command-line":{"minLength":1,"description":"A string that describes the tool command line, where input and output values are identified by \"keys\". At runtime, command-line keys are substituted with flags and values.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/command-line","type":"string"},"___inputs":{"id":"http:\/\/github.com\/boutiques\/boutiques-schema\/inputs","type":"array","items":{"anyOf":[{"properties":{"___type":{"enum":["Flag"]},"___list":{"enum":[false]}}},{"properties":{"___type":{"enum":["String","File","Number"]}}}],"id":"http:\/\/github.com\/boutiques\/boutiques-schema\/input","additionalProperties":false,"type":"object","properties":{"___type":{"description":"Input type.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/input\/type","type":"string","enum":["String","File","Flag","Number"]},"___default-value":{"description":"Default value of the input, used by the tool when no option is specified.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/input\/default-value"},"___list":{"description":"True if input is a list of value. An input of type \"Flag\" cannot be a list.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/input\/list","type":"boolean"},"___uses-absolute-path":{"description":"Specifies that this input must be given as an absolute path. Only specifiable for File type inputs.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/input\/uses-absolute-path","type":"boolean"},"___minimum":{"description":"Specify the minimum value of the input (inclusive). May only be used with Number type inputs.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/input\/minimum","type":"number"},"___value-choices":{"description":"Permitted choices for input value. May not be used with the Flag type.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/input\/value-choices","type":"array","items":{"oneOf":[{"type":"string"},{"type":"number"}]}},"___maximum":{"description":"Specify the maximum value of the input (inclusive). May only be used with Number type inputs.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/input\/maximum","type":"number"},"___name":{"minLength":1,"description":"A human-readable input name. Example: 'Data file'.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/input\/name","type":"string"},"___optional":{"description":"True if input is optional.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/input\/optional","type":"boolean"},"___disables-inputs":{"description":"Ids of the inputs that are disabled when this input is active.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/output\/disabled-by-inputs","type":"array","items":{"type":"string"}},"___exclusive-maximum":{"description":"Specify whether the maximum is exclusive or not. May only be used with Number type inputs.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/input\/exclusive-maximum","type":"boolean"},"___description":{"description":"Input description.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/input\/description","type":"string"},"___value-key":{"description":"A string contained in command-line, substituted by the input value and\/or flag at runtime.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/input\/value-key","type":"string"},"___max-list-entries":{"description":"Specify the maximum number of entries in the list. May only be used with List type inputs.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/input\/max-list-entries","type":"number"},"___requires-inputs":{"description":"Ids of the inputs which must be active for this input to be available.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/output\/required-inputs","type":"array","items":{"type":"string"}},"___integer":{"description":"Specify whether the input should be an integer. May only be used with Number type inputs.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/input\/integer","type":"boolean"},"___min-list-entries":{"description":"Specify the minimum number of entries in the list. May only be used with List type inputs.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/input\/min-list-entries","type":"number"},"___command-line-flag-separator":{"description":"Separator used between flags and their arguments. Defaults to a single space.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/input\/command-line-flag-separator","type":"string"},"___exclusive-minimum":{"description":"Specify whether the minimum is exclusive or not. May only be used with Number type inputs.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/input\/exclusive-minimum","type":"boolean"},"___id":{"minLength":1,"pattern":"^[0-9,_,a-z,A-Z]*$","description":"A short, unique, informative identifier containing only alphanumeric characters and underscores. Typically used to generate variable names. Example: \"data_file\".","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/input\/id","type":"string"},"___command-line-flag":{"description":"Option flag of the input, involved in the value-key substitution. Inputs of type \"Flag\" have to have a command-line flag. Examples: -v, --force.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/input\/command-line-flag","type":"string"}},"required":["name","id","type"],"dependencies":{"exclusive-minimum":["minimum"],"command-line-flag-separator":["command-line-flag"],"exclusive-maximum":["maximum"],"value-choices":{"properties":{"___type":{"enum":["String","Number"]}}},"uses-absolute-path":{"properties":{"___type":{"enum":["File"]}}},"maximum":{"properties":{"___type":{"enum":["Number"]}}},"max-list-entries":["list"],"min-list-entries":["list"],"integer":{"properties":{"___type":{"enum":["Number"]}}},"minimum":{"properties":{"___type":{"enum":["Number"]}}}}}},"___container-image":{"allOf":[{"properties":{"___container-hash":{"minLength":1,"description":"Hash for the given container.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/container\/container-hash","type":"string"},"___working-directory":{"minLength":1,"description":"Location from which this task must be launched within the container.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/container\/working-directory","type":"string"}}},{"oneOf":[{"description":"Object representing a docker container for the tool.","additionalProperties":false,"properties":{"___index":{"default":"http:\/\/index.docker.io","minLength":1,"description":"Index where the image is available.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/container\/index","type":"string"},"___type":{"enum":["docker"]},"___container-hash":{},"___image":{"minLength":1,"description":"Name of an image where the tool is installed and configured. Example: docker.io\/neurodebian.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/container\/image","type":"string"},"___working-directory":{}},"required":["type","image"]},{"description":"Object representing a rootfs or singularity container for the tool.","additionalProperties":false,"properties":{"___type":{"enum":["rootfs","singularity"]},"___url":{"minLength":1,"description":"URL where the image is available.","id":"http:\/\/github.com\/boutiques\/boutiques-schema\/container\/url","type":"string"},"___container-hash":{},"___working-directory":{}},"required":["type","url"]}]}],"id":"http:\/\/github.com\/boutiques\/boutiques-schema\/container-image","type":"object"}},"required":["name","description","command-line","schema-version","inputs","output-files","tool-version"]}