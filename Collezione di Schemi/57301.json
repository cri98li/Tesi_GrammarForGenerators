{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"microsoft insights Resource Types","id":"http:\/\/schema.management.azure.com\/schemas\/2016-03-01\/microsoft.insights.json#","title":"microsoft.insights","resourceDefinitions":{"alertrules":{"description":"microsoft.insights\/alertrules","type":"object","properties":{"___location":{"description":"Resource location","type":"string"},"___name":{"description":"The name of the rule.","type":"string"},"___type":{"type":"string","enum":["microsoft.insights\/alertrules"]},"___tags":{"oneOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Resource tags"},"___properties":{"oneOf":[{"$eref":{"description":"An alert rule.","type":"object","properties":{"___name":{"description":"the name of the alert rule.","type":"string"},"___description":{"description":"the description of the alert rule that will be included in the alert email.","type":"string"},"___isEnabled":{"oneOf":[{"type":"boolean"},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the flag that indicates whether the alert rule is enabled."},"___actions":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/RuleAction"}},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the actions that are performed when the alert rule becomes active, and when an alert condition is resolved."},"___condition":{"oneOf":[{"$ref":"#\/definitions\/RuleCondition"},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the condition that results in the alert rule being activated."}},"required":["name","isEnabled"]}},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}]},"___apiVersion":{"type":"string","enum":["2016-03-01"]}},"required":["name","type","apiVersion","location","properties"]}},"definitions":{"_88LocationThresholdRuleCondition":{"description":"A rule condition based on a certain number of locations failing.","type":"object","properties":{"___dataSource":{"oneOf":[{"$eref":{"allOf":[{"properties":{"___odata.type":{"oneOf":[{"type":"string","enum":["Microsoft.Azure.Management.Insights.Models.RuleMetricDataSource","Microsoft.Azure.Management.Insights.Models.RuleManagementEventDataSource"]},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}]}}},{"anyOf":[{"$ref":"#\/definitions\/RuleMetricDataSource"},{"$ref":"#\/definitions\/RuleManagementEventDataSource"}]}],"description":"The resource from which the rule collects its data.","type":"object"}},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the resource from which the rule collects its data."},"___windowSize":{"format":"duration","description":"the period of time (in ISO 8601 duration format) that is used to monitor alert activity based on the threshold. If specified then it must be between 5 minutes and 1 day.","type":"string"},"___failedLocationCount":{"oneOf":[{"type":"integer"},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the number of locations that must fail to activate the alert."}},"required":["failedLocationCount"]},"_88RuleManagementEventClaimsDataSource":{"description":"The claims for a rule management event data source.","type":"object","properties":{"___emailAddress":{"description":"the email address.","type":"string"}}},"_88RuleManagementEventDataSource":{"description":"A rule management event data source.","type":"object","properties":{"___resourceProviderName":{"description":"the resource provider name.","type":"string"},"___resourceUri":{"description":"the resource uri.","type":"string"},"___eventSource":{"description":"the event source.","type":"string"},"___claims":{"oneOf":[{"$eref":{"description":"The claims for a rule management event data source.","type":"object","properties":{"___emailAddress":{"description":"the email address.","type":"string"}}}},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the claims."},"___status":{"description":"The status of the operation that should be checked for. If no status is provided, any status will match.","type":"string"},"___resourceGroupName":{"description":"the resource group name.","type":"string"},"___operationName":{"description":"The name of the operation that should be checked for. If no name is provided, any operation will match.","type":"string"},"___level":{"description":"the level.","type":"string"},"___subStatus":{"description":"the substatus.","type":"string"},"___eventName":{"description":"the event name.","type":"string"}}},"_88RuleEmailAction":{"description":"Specifies the action to send email when the rule condition is evaluated.","type":"object","properties":{"___sendToServiceOwners":{"oneOf":[{"type":"boolean"},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the flag to send e-mails to the service owners. Whether the administrators (service and co-adiminstrators) of the service should be notified when the alert is activated."},"___customEmails":{"oneOf":[{"type":"array","items":{"type":"string"}},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the list of administrator's custom email addresses notifiy of the activation of the alert."}}},"_88ManagementEventAggregationCondition":{"description":"A management event aggregation condition.","type":"object","properties":{"___threshold":{"oneOf":[{"type":"number"},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the condition threshold."},"___operator":{"oneOf":[{"type":"string","enum":["GreaterThan","GreaterThanOrEqual","LessThan","LessThanOrEqual"]},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the condition operator."},"___windowSize":{"format":"duration","description":"the period of time (in ISO 8601 duration format) that is used to monitor alert activity based on the threshold. If specified then it must be between 5 minutes and 1 day.","type":"string"}}},"_88RuleAction":{"allOf":[{"properties":{"___odata.type":{"oneOf":[{"type":"string","enum":["Microsoft.Azure.Management.Insights.Models.RuleEmailAction","Microsoft.Azure.Management.Insights.Models.RuleWebhookAction"]},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}]}}},{"anyOf":[{"$eref":{"description":"Specifies the action to send email when the rule condition is evaluated.","type":"object","properties":{"___sendToServiceOwners":{"oneOf":[{"type":"boolean"},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the flag to send e-mails to the service owners. Whether the administrators (service and co-adiminstrators) of the service should be notified when the alert is activated."},"___customEmails":{"oneOf":[{"type":"array","items":{"type":"string"}},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the list of administrator's custom email addresses notifiy of the activation of the alert."}}}},{"$eref":{"description":"Specifies the action to post to service when the rule condition is evaluated.","type":"object","properties":{"___properties":{"oneOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the dictionary of custom properties to include with the post operation."},"___serviceUri":{"description":"the service uri to Post the notitication.","type":"string"}}}}]}],"description":"The action that is performed when the alert rule becomes active, and when an alert condition is resolved.","type":"object"},"_88ManagementEventRuleCondition":{"description":"A management event rule condition.","type":"object","properties":{"___aggregation":{"oneOf":[{"$eref":{"description":"A management event aggregation condition.","type":"object","properties":{"___threshold":{"oneOf":[{"type":"number"},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the condition threshold."},"___operator":{"oneOf":[{"type":"string","enum":["GreaterThan","GreaterThanOrEqual","LessThan","LessThanOrEqual"]},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the condition operator."},"___windowSize":{"format":"duration","description":"the period of time (in ISO 8601 duration format) that is used to monitor alert activity based on the threshold. If specified then it must be between 5 minutes and 1 day.","type":"string"}}}},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the aggregation condition."},"___dataSource":{"oneOf":[{"$eref":{"allOf":[{"properties":{"___odata.type":{"oneOf":[{"type":"string","enum":["Microsoft.Azure.Management.Insights.Models.RuleMetricDataSource","Microsoft.Azure.Management.Insights.Models.RuleManagementEventDataSource"]},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}]}}},{"anyOf":[{"$ref":"#\/definitions\/RuleMetricDataSource"},{"$ref":"#\/definitions\/RuleManagementEventDataSource"}]}],"description":"The resource from which the rule collects its data.","type":"object"}},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the resource from which the rule collects its data."}}},"_88RuleWebhookAction":{"description":"Specifies the action to post to service when the rule condition is evaluated.","type":"object","properties":{"___properties":{"oneOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the dictionary of custom properties to include with the post operation."},"___serviceUri":{"description":"the service uri to Post the notitication.","type":"string"}}},"_88ThresholdRuleCondition":{"description":"A rule condition based on a metric crossing a threshold.","type":"object","properties":{"___threshold":{"oneOf":[{"type":"number"},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the threshold value that activates the alert."},"___timeAggregation":{"oneOf":[{"type":"string","enum":["Average","Minimum","Maximum","Total","Last"]},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the time aggregation operator. How the data that is collected should be combined over time. The default value is the PrimaryAggregationType of the Metric."},"___dataSource":{"oneOf":[{"$eref":{"allOf":[{"properties":{"___odata.type":{"oneOf":[{"type":"string","enum":["Microsoft.Azure.Management.Insights.Models.RuleMetricDataSource","Microsoft.Azure.Management.Insights.Models.RuleManagementEventDataSource"]},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}]}}},{"anyOf":[{"$ref":"#\/definitions\/RuleMetricDataSource"},{"$ref":"#\/definitions\/RuleManagementEventDataSource"}]}],"description":"The resource from which the rule collects its data.","type":"object"}},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the resource from which the rule collects its data."},"___windowSize":{"format":"duration","description":"the period of time (in ISO 8601 duration format) that is used to monitor alert activity based on the threshold. If specified then it must be between 5 minutes and 1 day.","type":"string"},"___operator":{"oneOf":[{"type":"string","enum":["GreaterThan","GreaterThanOrEqual","LessThan","LessThanOrEqual"]},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the operator used to compare the data and the threshold."}},"required":["operator","threshold"]},"_88AlertRule":{"description":"An alert rule.","type":"object","properties":{"___name":{"description":"the name of the alert rule.","type":"string"},"___description":{"description":"the description of the alert rule that will be included in the alert email.","type":"string"},"___isEnabled":{"oneOf":[{"type":"boolean"},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the flag that indicates whether the alert rule is enabled."},"___actions":{"oneOf":[{"type":"array","items":{"$eref":{"allOf":[{"properties":{"___odata.type":{"oneOf":[{"type":"string","enum":["Microsoft.Azure.Management.Insights.Models.RuleEmailAction","Microsoft.Azure.Management.Insights.Models.RuleWebhookAction"]},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}]}}},{"anyOf":[{"$ref":"#\/definitions\/RuleEmailAction"},{"$ref":"#\/definitions\/RuleWebhookAction"}]}],"description":"The action that is performed when the alert rule becomes active, and when an alert condition is resolved.","type":"object"}}},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the actions that are performed when the alert rule becomes active, and when an alert condition is resolved."},"___condition":{"oneOf":[{"$eref":{"allOf":[{"properties":{"___odata.type":{"oneOf":[{"type":"string","enum":["Microsoft.Azure.Management.Insights.Models.ThresholdRuleCondition","Microsoft.Azure.Management.Insights.Models.LocationThresholdRuleCondition","Microsoft.Azure.Management.Insights.Models.ManagementEventRuleCondition"]},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}]}}},{"anyOf":[{"$ref":"#\/definitions\/ThresholdRuleCondition"},{"$ref":"#\/definitions\/LocationThresholdRuleCondition"},{"$ref":"#\/definitions\/ManagementEventRuleCondition"}]}],"description":"The condition that results in the alert rule being activated.","type":"object"}},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the condition that results in the alert rule being activated."}},"required":["name","isEnabled"]},"_88RuleMetricDataSource":{"description":"A rule metric data source.","type":"object","properties":{"___resourceUri":{"description":"the resource identifier of the resource the rule monitors.","type":"string"},"___metricName":{"description":"the name of the metric that defines what the rule monitors.","type":"string"}}},"_88RuleDataSource":{"allOf":[{"properties":{"___odata.type":{"oneOf":[{"type":"string","enum":["Microsoft.Azure.Management.Insights.Models.RuleMetricDataSource","Microsoft.Azure.Management.Insights.Models.RuleManagementEventDataSource"]},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}]}}},{"anyOf":[{"$eref":{"description":"A rule metric data source.","type":"object","properties":{"___resourceUri":{"description":"the resource identifier of the resource the rule monitors.","type":"string"},"___metricName":{"description":"the name of the metric that defines what the rule monitors.","type":"string"}}}},{"$eref":{"description":"A rule management event data source.","type":"object","properties":{"___resourceProviderName":{"description":"the resource provider name.","type":"string"},"___resourceUri":{"description":"the resource uri.","type":"string"},"___eventSource":{"description":"the event source.","type":"string"},"___claims":{"oneOf":[{"$ref":"#\/definitions\/RuleManagementEventClaimsDataSource"},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the claims."},"___status":{"description":"The status of the operation that should be checked for. If no status is provided, any status will match.","type":"string"},"___resourceGroupName":{"description":"the resource group name.","type":"string"},"___operationName":{"description":"The name of the operation that should be checked for. If no name is provided, any operation will match.","type":"string"},"___level":{"description":"the level.","type":"string"},"___subStatus":{"description":"the substatus.","type":"string"},"___eventName":{"description":"the event name.","type":"string"}}}}]}],"description":"The resource from which the rule collects its data.","type":"object"},"_88RuleCondition":{"allOf":[{"properties":{"___odata.type":{"oneOf":[{"type":"string","enum":["Microsoft.Azure.Management.Insights.Models.ThresholdRuleCondition","Microsoft.Azure.Management.Insights.Models.LocationThresholdRuleCondition","Microsoft.Azure.Management.Insights.Models.ManagementEventRuleCondition"]},{"$fref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}]}}},{"anyOf":[{"$eref":{"description":"A rule condition based on a metric crossing a threshold.","type":"object","properties":{"___threshold":{"oneOf":[{"type":"number"},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the threshold value that activates the alert."},"___timeAggregation":{"oneOf":[{"type":"string","enum":["Average","Minimum","Maximum","Total","Last"]},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the time aggregation operator. How the data that is collected should be combined over time. The default value is the PrimaryAggregationType of the Metric."},"___dataSource":{"oneOf":[{"$ref":"#\/definitions\/RuleDataSource"},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the resource from which the rule collects its data."},"___windowSize":{"format":"duration","description":"the period of time (in ISO 8601 duration format) that is used to monitor alert activity based on the threshold. If specified then it must be between 5 minutes and 1 day.","type":"string"},"___operator":{"oneOf":[{"type":"string","enum":["GreaterThan","GreaterThanOrEqual","LessThan","LessThanOrEqual"]},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the operator used to compare the data and the threshold."}},"required":["operator","threshold"]}},{"$eref":{"description":"A rule condition based on a certain number of locations failing.","type":"object","properties":{"___dataSource":{"oneOf":[{"$ref":"#\/definitions\/RuleDataSource"},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the resource from which the rule collects its data."},"___windowSize":{"format":"duration","description":"the period of time (in ISO 8601 duration format) that is used to monitor alert activity based on the threshold. If specified then it must be between 5 minutes and 1 day.","type":"string"},"___failedLocationCount":{"oneOf":[{"type":"integer"},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the number of locations that must fail to activate the alert."}},"required":["failedLocationCount"]}},{"$eref":{"description":"A management event rule condition.","type":"object","properties":{"___aggregation":{"oneOf":[{"$ref":"#\/definitions\/ManagementEventAggregationCondition"},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the aggregation condition."},"___dataSource":{"oneOf":[{"$ref":"#\/definitions\/RuleDataSource"},{"$ref":"http:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"the resource from which the rule collects its data."}}}}]}],"description":"The condition that results in the alert rule being activated.","type":"object"}}}