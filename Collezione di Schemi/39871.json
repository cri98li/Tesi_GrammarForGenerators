{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"schema for a customer","id":"https:\/\/raw.githubusercontent.com\/eviratec\/schema\/master\/v1\/customer.json#","additionalProperties":false,"type":"object","properties":{"___additional_contacts":{"uniqueItems":true,"type":"array","items":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"schema for a contact","id":"https:\/\/raw.githubusercontent.com\/eviratec\/schema\/master\/v1\/contact.json#","additionalProperties":false,"type":"object","properties":{"___is_flagged":{"type":"boolean","value":false},"___date_last_seen":{"format":"date-time","type":"string"},"___person":{"$ref":"https:\/\/raw.githubusercontent.com\/eviratec\/schema\/master\/v1\/contact\/person.json#"},"___date_entered":{"format":"date-time","type":"string"},"___unread_messages":{"minValue":0,"type":"number"}},"required":["person","date_entered","is_flagged"]}}},"___accounts":{"minItems":1,"uniqueItems":true,"type":"array","items":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"schema for a customer account","id":"https:\/\/raw.githubusercontent.com\/eviratec\/schema\/master\/v1\/customer\/account.json#","additionalProperties":false,"type":"object","properties":{"___balance":{"allOf":[{"type":"object","properties":{"___in":{"enum":["cr","dr"]}},"required":["in"]},{"$ref":"https:\/\/raw.githubusercontent.com\/eviratec\/schema\/master\/v1\/currency\/amount.json#"}],"type":"object"},"___customer_id":{"format":"uuid","type":"string"},"___id":{"format":"uuid","type":"string"}},"required":["id","customer_id","balance"]}}},"___date_opened":{"format":"date-time","type":"string"},"___is_suspended":{"type":"boolean","value":false},"___contact":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"schema for a contact","id":"https:\/\/raw.githubusercontent.com\/eviratec\/schema\/master\/v1\/contact.json#","additionalProperties":false,"type":"object","properties":{"___is_flagged":{"type":"boolean","value":false},"___date_last_seen":{"format":"date-time","type":"string"},"___person":{"$ref":"https:\/\/raw.githubusercontent.com\/eviratec\/schema\/master\/v1\/contact\/person.json#"},"___date_entered":{"format":"date-time","type":"string"},"___unread_messages":{"minValue":0,"type":"number"}},"required":["person","date_entered","is_flagged"]}},"___id":{"format":"uuid","type":"string"}},"required":["id","contact","accounts","date_opened","is_suspended"]}