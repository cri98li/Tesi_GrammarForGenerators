{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"microsoft insights Resource Types","id":"https:\/\/schema.management.azure.com\/schemas\/2016-03-01\/Microsoft.Insights.json#","title":"microsoft.insights","resourceDefinitions":{"alertrules":{"description":"microsoft.insights\/alertrules","type":"object","properties":{"___location":{"description":"Resource location","type":"string"},"___name":{"description":"The name of the rule.","type":"string"},"___type":{"type":"string","enum":["microsoft.insights\/alertrules"]},"___tags":{"oneOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Resource tags"},"___properties":{"oneOf":[{"$eref":{"description":"An alert rule.","type":"object","properties":{"___name":{"description":"the name of the alert rule.","type":"string"},"___description":{"description":"the description of the alert rule that will be included in the alert email.","type":"string"},"___isEnabled":{"oneOf":[{"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"the flag that indicates whether the alert rule is enabled."},"___actions":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/RuleAction"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"the array of actions that are performed when the alert rule becomes active, and when an alert condition is resolved."},"___condition":{"oneOf":[{"$ref":"#\/definitions\/RuleCondition"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"the condition that results in the alert rule being activated."}},"required":["name","isEnabled","condition"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The alert rule properties of the resource."},"___apiVersion":{"type":"string","enum":["2016-03-01"]}},"required":["name","type","apiVersion","location","properties"]}},"definitions":{"_88LocationThresholdRuleCondition":{"allOf":[{"properties":{"___windowSize":{"description":"the period of time (in ISO 8601 duration format) that is used to monitor alert activity based on the threshold. If specified then it must be between 5 minutes and 1 day.","type":"string"},"___failedLocationCount":{"oneOf":[{"type":"integer","minimum":0},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"the number of locations that must fail to activate the alert."}},"required":["failedLocationCount"]}],"description":"A rule condition based on a certain number of locations failing.","type":"object"},"_88RuleManagementEventClaimsDataSource":{"description":"The claims for a rule management event data source.","type":"object","properties":{"___emailAddress":{"description":"the email address.","type":"string"}}},"_88RuleManagementEventDataSource":{"allOf":[{"properties":{"___resourceProviderName":{"description":"the resource provider name.","type":"string"},"___eventSource":{"description":"the event source.","type":"string"},"___claims":{"oneOf":[{"$eref":{"description":"The claims for a rule management event data source.","type":"object","properties":{"___emailAddress":{"description":"the email address.","type":"string"}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"the claims."},"___status":{"description":"The status of the operation that should be checked for. If no status is provided, any status will match.","type":"string"},"___resourceGroupName":{"description":"the resource group name.","type":"string"},"___operationName":{"description":"The name of the operation that should be checked for. If no name is provided, any operation will match.","type":"string"},"___level":{"description":"the level.","type":"string"},"___subStatus":{"description":"the substatus.","type":"string"},"___eventName":{"description":"the event name.","type":"string"}}}],"description":"A rule management event data source. The discriminator fields is always RuleManagementEventDataSource in this case.","type":"object"},"_88RuleEmailAction":{"allOf":[{"properties":{"___sendToServiceOwners":{"oneOf":[{"type":"boolean"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Whether the administrators (service and co-administrators) of the service should be notified when the alert is activated."},"___customEmails":{"oneOf":[{"type":"array","items":{"type":"string"}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"the list of administrator's custom email addresses to notify of the activation of the alert."}}}],"description":"Specifies the action to send email when the rule condition is evaluated. The discriminator is always RuleEmailAction in this case.","type":"object"},"_88ManagementEventAggregationCondition":{"description":"How the data that is collected should be combined over time.","type":"object","properties":{"___threshold":{"oneOf":[{"type":"number"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The threshold value that activates the alert."},"___operator":{"oneOf":[{"type":"string","enum":["GreaterThan","GreaterThanOrEqual","LessThan","LessThanOrEqual"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"the condition operator."},"___windowSize":{"description":"the period of time (in ISO 8601 duration format) that is used to monitor alert activity based on the threshold. If specified then it must be between 5 minutes and 1 day.","type":"string"}}},"_88RuleAction":{"allOf":[{"properties":{"___odata.type":{"oneOf":[{"type":"string","enum":["RuleAction","Microsoft.Azure.Management.Insights.Models.RuleEmailAction","Microsoft.Azure.Management.Insights.Models.RuleWebhookAction"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}]}}},{"anyOf":[{"$eref":{"allOf":[{"properties":{"___sendToServiceOwners":{"oneOf":[{"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Whether the administrators (service and co-administrators) of the service should be notified when the alert is activated."},"___customEmails":{"oneOf":[{"type":"array","items":{"type":"string"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"the list of administrator's custom email addresses to notify of the activation of the alert."}}}],"description":"Specifies the action to send email when the rule condition is evaluated. The discriminator is always RuleEmailAction in this case.","type":"object"}},{"$eref":{"allOf":[{"properties":{"___properties":{"oneOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"the dictionary of custom properties to include with the post operation. These data are appended to the webhook payload."},"___serviceUri":{"description":"the service uri to Post the notification when the alert activates or resolves.","type":"string"}}}],"description":"Specifies the action to post to service when the rule condition is evaluated. The discriminator is always RuleWebhookAction in this case.","type":"object"}}]}],"description":"The action that is performed when the alert rule becomes active, and when an alert condition is resolved.","type":"object"},"_88ManagementEventRuleCondition":{"allOf":[{"properties":{"___aggregation":{"oneOf":[{"$eref":{"description":"How the data that is collected should be combined over time.","type":"object","properties":{"___threshold":{"oneOf":[{"type":"number"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The threshold value that activates the alert."},"___operator":{"oneOf":[{"type":"string","enum":["GreaterThan","GreaterThanOrEqual","LessThan","LessThanOrEqual"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"the condition operator."},"___windowSize":{"description":"the period of time (in ISO 8601 duration format) that is used to monitor alert activity based on the threshold. If specified then it must be between 5 minutes and 1 day.","type":"string"}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"How the data that is collected should be combined over time and when the alert is activated. Note that for management event alerts aggregation is optional \u2013 if it is not provided then any event will cause the alert to activate."}}}],"description":"A management event rule condition.","type":"object"},"_88RuleWebhookAction":{"allOf":[{"properties":{"___properties":{"oneOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"the dictionary of custom properties to include with the post operation. These data are appended to the webhook payload."},"___serviceUri":{"description":"the service uri to Post the notification when the alert activates or resolves.","type":"string"}}}],"description":"Specifies the action to post to service when the rule condition is evaluated. The discriminator is always RuleWebhookAction in this case.","type":"object"},"_88ThresholdRuleCondition":{"allOf":[{"properties":{"___threshold":{"oneOf":[{"type":"number"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"the threshold value that activates the alert."},"___timeAggregation":{"oneOf":[{"type":"string","enum":["Average","Minimum","Maximum","Total","Last"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"the time aggregation operator. How the data that are collected should be combined over time. The default value is the PrimaryAggregationType of the Metric."},"___operator":{"oneOf":[{"type":"string","enum":["GreaterThan","GreaterThanOrEqual","LessThan","LessThanOrEqual"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"the operator used to compare the data and the threshold."},"___windowSize":{"description":"the period of time (in ISO 8601 duration format) that is used to monitor alert activity based on the threshold. If specified then it must be between 5 minutes and 1 day.","type":"string"}},"required":["operator","threshold"]}],"description":"A rule condition based on a metric crossing a threshold.","type":"object"},"_88AlertRule":{"description":"An alert rule.","type":"object","properties":{"___name":{"description":"the name of the alert rule.","type":"string"},"___description":{"description":"the description of the alert rule that will be included in the alert email.","type":"string"},"___isEnabled":{"oneOf":[{"type":"boolean"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"the flag that indicates whether the alert rule is enabled."},"___actions":{"oneOf":[{"type":"array","items":{"$eref":{"allOf":[{"properties":{"___odata.type":{"oneOf":[{"type":"string","enum":["RuleAction","Microsoft.Azure.Management.Insights.Models.RuleEmailAction","Microsoft.Azure.Management.Insights.Models.RuleWebhookAction"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}]}}},{"anyOf":[{"$ref":"#\/definitions\/RuleEmailAction"},{"$ref":"#\/definitions\/RuleWebhookAction"}]}],"description":"The action that is performed when the alert rule becomes active, and when an alert condition is resolved.","type":"object"}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"the array of actions that are performed when the alert rule becomes active, and when an alert condition is resolved."},"___condition":{"oneOf":[{"$eref":{"allOf":[{"properties":{"___dataSource":{"oneOf":[{"$ref":"#\/definitions\/RuleDataSource"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"the resource from which the rule collects its data. For this type dataSource will always be of type RuleMetricDataSource."},"___odata.type":{"oneOf":[{"type":"string","enum":["RuleCondition","Microsoft.Azure.Management.Insights.Models.ThresholdRuleCondition","Microsoft.Azure.Management.Insights.Models.LocationThresholdRuleCondition","Microsoft.Azure.Management.Insights.Models.ManagementEventRuleCondition"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}]}}},{"anyOf":[{"$ref":"#\/definitions\/ThresholdRuleCondition"},{"$ref":"#\/definitions\/LocationThresholdRuleCondition"},{"$ref":"#\/definitions\/ManagementEventRuleCondition"}]}],"description":"The condition that results in the alert rule being activated.","type":"object"}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"the condition that results in the alert rule being activated."}},"required":["name","isEnabled","condition"]},"_88RuleMetricDataSource":{"allOf":[{"properties":{"___metricName":{"description":"the name of the metric that defines what the rule monitors.","type":"string"}}}],"description":"A rule metric data source. The discriminator value is always RuleMetricDataSource in this case.","type":"object"},"_88RuleDataSource":{"allOf":[{"properties":{"___resourceUri":{"description":"the resource identifier of the resource the rule monitors. **NOTE**: this property cannot be updated for an existing rule.","type":"string"},"___odata.type":{"oneOf":[{"type":"string","enum":["RuleDataSource","Microsoft.Azure.Management.Insights.Models.RuleMetricDataSource","Microsoft.Azure.Management.Insights.Models.RuleManagementEventDataSource"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}]}}},{"anyOf":[{"$eref":{"allOf":[{"properties":{"___metricName":{"description":"the name of the metric that defines what the rule monitors.","type":"string"}}}],"description":"A rule metric data source. The discriminator value is always RuleMetricDataSource in this case.","type":"object"}},{"$eref":{"allOf":[{"properties":{"___resourceProviderName":{"description":"the resource provider name.","type":"string"},"___eventSource":{"description":"the event source.","type":"string"},"___claims":{"oneOf":[{"$ref":"#\/definitions\/RuleManagementEventClaimsDataSource"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"the claims."},"___status":{"description":"The status of the operation that should be checked for. If no status is provided, any status will match.","type":"string"},"___resourceGroupName":{"description":"the resource group name.","type":"string"},"___operationName":{"description":"The name of the operation that should be checked for. If no name is provided, any operation will match.","type":"string"},"___level":{"description":"the level.","type":"string"},"___subStatus":{"description":"the substatus.","type":"string"},"___eventName":{"description":"the event name.","type":"string"}}}],"description":"A rule management event data source. The discriminator fields is always RuleManagementEventDataSource in this case.","type":"object"}}]}],"description":"The resource from which the rule collects its data.","type":"object"},"_88RuleCondition":{"allOf":[{"properties":{"___dataSource":{"oneOf":[{"$eref":{"allOf":[{"properties":{"___resourceUri":{"description":"the resource identifier of the resource the rule monitors. **NOTE**: this property cannot be updated for an existing rule.","type":"string"},"___odata.type":{"oneOf":[{"type":"string","enum":["RuleDataSource","Microsoft.Azure.Management.Insights.Models.RuleMetricDataSource","Microsoft.Azure.Management.Insights.Models.RuleManagementEventDataSource"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}]}}},{"anyOf":[{"$ref":"#\/definitions\/RuleMetricDataSource"},{"$ref":"#\/definitions\/RuleManagementEventDataSource"}]}],"description":"The resource from which the rule collects its data.","type":"object"}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"the resource from which the rule collects its data. For this type dataSource will always be of type RuleMetricDataSource."},"___odata.type":{"oneOf":[{"type":"string","enum":["RuleCondition","Microsoft.Azure.Management.Insights.Models.ThresholdRuleCondition","Microsoft.Azure.Management.Insights.Models.LocationThresholdRuleCondition","Microsoft.Azure.Management.Insights.Models.ManagementEventRuleCondition"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}]}}},{"anyOf":[{"$eref":{"allOf":[{"properties":{"___threshold":{"oneOf":[{"type":"number"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"the threshold value that activates the alert."},"___timeAggregation":{"oneOf":[{"type":"string","enum":["Average","Minimum","Maximum","Total","Last"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"the time aggregation operator. How the data that are collected should be combined over time. The default value is the PrimaryAggregationType of the Metric."},"___operator":{"oneOf":[{"type":"string","enum":["GreaterThan","GreaterThanOrEqual","LessThan","LessThanOrEqual"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"the operator used to compare the data and the threshold."},"___windowSize":{"description":"the period of time (in ISO 8601 duration format) that is used to monitor alert activity based on the threshold. If specified then it must be between 5 minutes and 1 day.","type":"string"}},"required":["operator","threshold"]}],"description":"A rule condition based on a metric crossing a threshold.","type":"object"}},{"$eref":{"allOf":[{"properties":{"___windowSize":{"description":"the period of time (in ISO 8601 duration format) that is used to monitor alert activity based on the threshold. If specified then it must be between 5 minutes and 1 day.","type":"string"},"___failedLocationCount":{"oneOf":[{"type":"integer","minimum":0},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"the number of locations that must fail to activate the alert."}},"required":["failedLocationCount"]}],"description":"A rule condition based on a certain number of locations failing.","type":"object"}},{"$eref":{"allOf":[{"properties":{"___aggregation":{"oneOf":[{"$ref":"#\/definitions\/ManagementEventAggregationCondition"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"How the data that is collected should be combined over time and when the alert is activated. Note that for management event alerts aggregation is optional \u2013 if it is not provided then any event will cause the alert to activate."}}}],"description":"A management event rule condition.","type":"object"}}]}],"description":"The condition that results in the alert rule being activated.","type":"object"}}}