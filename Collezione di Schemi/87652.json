{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"Microsoft DocumentDB Resource Types","id":"https:\/\/schema.management.azure.com\/schemas\/2015-04-08\/Microsoft.DocumentDB.json#","title":"Microsoft.DocumentDB","resourceDefinitions":{"databaseAccounts":{"description":"Microsoft.DocumentDB\/databaseAccounts","type":"object","properties":{"___location":{"description":"The location of the resource group to which the resource belongs.","type":"string"},"___name":{"minLength":3,"description":"Cosmos DB database account name.","type":"string","maxLength":50},"___type":{"type":"string","enum":["Microsoft.DocumentDB\/databaseAccounts"]},"___tags":{"oneOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}]},"___properties":{"oneOf":[{"$eref":{"description":"Properties to create and update Azure Cosmos DB database accounts.","type":"object","properties":{"___consistencyPolicy":{"oneOf":[{"$ref":"#\/definitions\/ConsistencyPolicy"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The consistency policy for the Cosmos DB account."},"___enableAutomaticFailover":{"oneOf":[{"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Enables automatic failover of the write region in the rare event that the region is unavailable due to an outage. Automatic failover will result in a new write region for the account and is chosen based on the failover priorities configured for the account."},"___isVirtualNetworkFilterEnabled":{"oneOf":[{"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Flag to indicate whether to enable\/disable Virtual Network ACL rules."},"___virtualNetworkRules":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/VirtualNetworkRule"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"List of Virtual Network ACL rules configured for the Cosmos DB account."},"___ipRangeFilter":{"description":"Cosmos DB Firewall Support: This value specifies the set of IP addresses or IP address ranges in CIDR form to be included as the allowed list of client IPs for a given database account. IP addresses\/ranges must be comma separated and must not contain any spaces.","type":"string"},"___databaseAccountOfferType":{"oneOf":[{"type":"string","enum":["Standard"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}]},"___capabilities":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/Capability"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"List of Cosmos DB capabilities for the account"},"___enableMultipleWriteLocations":{"oneOf":[{"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Enables the account to write in multiple locations"},"___locations":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/Location"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"An array that contains the georeplication locations enabled for the Cosmos DB account."}},"required":["locations","databaseAccountOfferType"]}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}]},"___kind":{"oneOf":[{"type":"string","enum":["GlobalDocumentDB","MongoDB","Parse"]},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Indicates the type of database account. This can only be set at database account creation."},"___apiVersion":{"type":"string","enum":["2015-04-08"]}},"required":["name","type","apiVersion","location","properties"]}},"definitions":{"_88DatabaseAccountCreateUpdateProperties":{"description":"Properties to create and update Azure Cosmos DB database accounts.","type":"object","properties":{"___consistencyPolicy":{"oneOf":[{"$eref":{"description":"The consistency policy for the Cosmos DB database account.","type":"object","properties":{"___defaultConsistencyLevel":{"oneOf":[{"type":"string","enum":["Eventual","Session","BoundedStaleness","Strong","ConsistentPrefix"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The default consistency level and configuration settings of the Cosmos DB account."},"___maxIntervalInSeconds":{"oneOf":[{"maximum":86400,"type":"integer","minimum":5},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"When used with the Bounded Staleness consistency level, this value represents the time amount of staleness (in seconds) tolerated. Accepted range for this value is 5 - 86400. Required when defaultConsistencyPolicy is set to 'BoundedStaleness'."},"___maxStalenessPrefix":{"oneOf":[{"maximum":2147483647,"type":"integer","minimum":1},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"When used with the Bounded Staleness consistency level, this value represents the number of stale requests tolerated. Accepted range for this value is 1 \u2013 2,147,483,647. Required when defaultConsistencyPolicy is set to 'BoundedStaleness'."}},"required":["defaultConsistencyLevel"]}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The consistency policy for the Cosmos DB account."},"___enableAutomaticFailover":{"oneOf":[{"type":"boolean"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Enables automatic failover of the write region in the rare event that the region is unavailable due to an outage. Automatic failover will result in a new write region for the account and is chosen based on the failover priorities configured for the account."},"___isVirtualNetworkFilterEnabled":{"oneOf":[{"type":"boolean"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Flag to indicate whether to enable\/disable Virtual Network ACL rules."},"___virtualNetworkRules":{"oneOf":[{"type":"array","items":{"$eref":{"description":"Virtual Network ACL Rule object","type":"object","properties":{"___id":{"description":"Resource ID of a subnet, for example: \/subscriptions\/{subscriptionId}\/resourceGroups\/{groupName}\/providers\/Microsoft.Network\/virtualNetworks\/{virtualNetworkName}\/subnets\/{subnetName}.","type":"string"}}}}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"List of Virtual Network ACL rules configured for the Cosmos DB account."},"___ipRangeFilter":{"description":"Cosmos DB Firewall Support: This value specifies the set of IP addresses or IP address ranges in CIDR form to be included as the allowed list of client IPs for a given database account. IP addresses\/ranges must be comma separated and must not contain any spaces.","type":"string"},"___databaseAccountOfferType":{"oneOf":[{"type":"string","enum":["Standard"]},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}]},"___capabilities":{"oneOf":[{"type":"array","items":{"$eref":{"description":"Cosmos DB capability object","type":"object","properties":{"___name":{"description":"Name of the Cosmos DB capability. For example, \"name\": \"EnableCassandra\". Current values also include \"EnableTable\" and \"EnableGremlin\".","type":"string"}}}}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"List of Cosmos DB capabilities for the account"},"___enableMultipleWriteLocations":{"oneOf":[{"type":"boolean"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Enables the account to write in multiple locations"},"___locations":{"oneOf":[{"type":"array","items":{"$eref":{"description":"A region in which the Azure Cosmos DB database account is deployed.","type":"object","properties":{"___locationName":{"description":"The name of the region.","type":"string"},"___failoverPriority":{"oneOf":[{"type":"integer","minimum":0},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The failover priority of the region. A failover priority of 0 indicates a write region. The maximum value for a failover priority = (total number of regions - 1). Failover priority values must be unique for each of the regions in which the database account exists."},"___provisioningState":{"type":"string"}}}}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"An array that contains the georeplication locations enabled for the Cosmos DB account."}},"required":["locations","databaseAccountOfferType"]},"_88Location":{"description":"A region in which the Azure Cosmos DB database account is deployed.","type":"object","properties":{"___locationName":{"description":"The name of the region.","type":"string"},"___failoverPriority":{"oneOf":[{"type":"integer","minimum":0},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The failover priority of the region. A failover priority of 0 indicates a write region. The maximum value for a failover priority = (total number of regions - 1). Failover priority values must be unique for each of the regions in which the database account exists."},"___provisioningState":{"type":"string"}}},"_88Capability":{"description":"Cosmos DB capability object","type":"object","properties":{"___name":{"description":"Name of the Cosmos DB capability. For example, \"name\": \"EnableCassandra\". Current values also include \"EnableTable\" and \"EnableGremlin\".","type":"string"}}},"_88ConsistencyPolicy":{"description":"The consistency policy for the Cosmos DB database account.","type":"object","properties":{"___defaultConsistencyLevel":{"oneOf":[{"type":"string","enum":["Eventual","Session","BoundedStaleness","Strong","ConsistentPrefix"]},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The default consistency level and configuration settings of the Cosmos DB account."},"___maxIntervalInSeconds":{"oneOf":[{"maximum":86400,"type":"integer","minimum":5},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"When used with the Bounded Staleness consistency level, this value represents the time amount of staleness (in seconds) tolerated. Accepted range for this value is 5 - 86400. Required when defaultConsistencyPolicy is set to 'BoundedStaleness'."},"___maxStalenessPrefix":{"oneOf":[{"maximum":2147483647,"type":"integer","minimum":1},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"When used with the Bounded Staleness consistency level, this value represents the number of stale requests tolerated. Accepted range for this value is 1 \u2013 2,147,483,647. Required when defaultConsistencyPolicy is set to 'BoundedStaleness'."}},"required":["defaultConsistencyLevel"]},"_88VirtualNetworkRule":{"description":"Virtual Network ACL Rule object","type":"object","properties":{"___id":{"description":"Resource ID of a subnet, for example: \/subscriptions\/{subscriptionId}\/resourceGroups\/{groupName}\/providers\/Microsoft.Network\/virtualNetworks\/{virtualNetworkName}\/subnets\/{subnetName}.","type":"string"}}}}}