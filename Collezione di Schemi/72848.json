{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"awsNodeConfig.json","description":"Describes node configuration, some of which is specific to AWS (e.g. [instance types](https:\/\/aws.amazon.com\/ec2\/instance-types\/)).","id":"http:\/\/judkins.house\/apis\/k2\/v1\/awsNodeConfig.json","additionalProperties":false,"title":"AWS Node Configuration","type":"object","properties":{"___name":{"description":"Name of node for use by k2.","type":"string"},"___mounts":{"description":"Additional mounts made in the node.","type":"array","items":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"awsNodeMountConfig.json","description":"Describes a mount for a node.","id":"http:\/\/judkins.house\/apis\/k2\/v1\/awsNodeMountConfig.json","additionalProperties":false,"title":"Node Mount Configuration","type":"object","properties":{"___device":{"description":"The device to be mounted.","type":"string"},"___forceFormat":{"description":"Whether the mount should be formatted after every boot.","type":"boolean"},"___path":{"description":"The path to mount the device to.","type":"string"}},"required":["device","path","forceFormat"]}}},"___providerConfig":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"awsNodeProviderConfig.json","description":"Describes AWS specific provider configuration.","id":"http:\/\/judkins.house\/apis\/k2\/v1\/awsNodeProviderConfig.json","additionalProperties":false,"title":"AWS Provider Configuration","type":"object","properties":{"___type":{"description":"Identifies what aws machine type should be used (m3.medium, etc.).","type":"string"},"___tags":{"description":"List of AWS tags to associate with the node.","type":"array","items":{"$ref":"awsNodeTag.json"}},"___enablePublicIPs":{"default":"true","description":"Overrides the vpc's subnet values. Do we allow for Auto-assigned Public IPs","type":"boolean"},"___provider":{"description":"Identifies who the provider is for configuration.","type":"string","enum":["aws"]},"___storage":{"description":"List of storage devices to attach to the node.","type":"array","items":{"$ref":"awsStorageDevice.json"}},"___labels":{"description":"List of Kubernetes labels to associate with the node.","type":"array","items":{"$ref":"kubeNodeLabel.json"}},"___subnet":{"description":"Identifies what subnets should be used.  These are names of subnets created elsewhere in the configuration.","type":"array","items":{"type":"string"}}},"required":["provider","type","subnet"]}},"___kind":{"description":"Type of node","type":"string","enum":["node"]},"___keypair":{"type":"string"},"___taints":{"description":"List of AWS taints to associate with the kubernetes node","type":"array","items":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"kubeNodeTaint.json","description":"Configuration for taint for use in K2.","id":"http:\/\/judkins.house\/apis\/k2\/v1\/kubeNodeTaint.json","additionalProperties":false,"title":"Taint Configuration","type":"object","properties":{"___key":{"minLength":0,"pattern":"^([A-Za-z0-9][A-Za-z0-9-._]*)?$","description":"Taint key which must match toleration","type":"string","maxLength":253},"___value":{"minLength":0,"pattern":"^([A-Za-z0-9][A-Za-z0-9-._]*)?$","description":"Taint value","type":"string","maxLength":63},"___effect":{"description":"NoSchedule, PreferNoSchedule or NoExecute to restrict access to node","type":"string","enum":["NoSchedule","PreferNoSchedule","NoExecute"]}},"required":["key","value","effect"]}}}},"required":["name","providerConfig"]}