{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"awsProviderConfig.json","description":"Describes AWS specific provider configuration.","id":"http:\/\/judkins.house\/apis\/k2\/v1\/awsProviderConfig.json","additionalProperties":false,"title":"AWS Provider Configuration","type":"object","properties":{"___type":{"description":"Type of machine image deployment. For AWS, only cloudinit is supported.","type":"string","enum":["cloudinit"]},"___ingressAcl":{"minItems":1,"description":"List of ingress ACLs to create for the VPC.","type":"array","items":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"awsAclConfig.json","description":"Describes an AWS network ACL rule. See the VPC [documentation](http:\/\/docs.aws.amazon.com\/AmazonVPC\/latest\/UserGuide\/VPC_ACLs.html) for more information.","id":"http:\/\/judkins.house\/apis\/k2\/v1\/awsAclConfig.json","additionalProperties":false,"title":"AWS Network Access Control List (ACL) Rule","type":"object","properties":{"___rule_no":{"description":"The number of the rule for ordering.","type":"number"},"___action":{"description":"The action that should be implemented (allow\/deny).","type":"string","enum":["allow","deny"]},"___cidr_block":{"format":"cidr","description":"The cidr to associate this rule to.","type":"string"},"___to_port":{"description":"The to port number, 0 for all.","type":"number"},"___protocol":{"description":"The protocol for this ACL.","type":"string","enum":["TCP","UDP","-1","ICMP"]},"___from_port":{"description":"The from port number, 0 for all.","maximum":65535,"type":"number","minimum":0}},"required":["protocol","rule_no","action","cidr_block","from_port","to_port"]}}},"___authentication":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"awsAuthenticationConfig.json","description":"Describes AWS security credential configuration. See the [documentation](http:\/\/docs.aws.amazon.com\/general\/latest\/gr\/aws-sec-cred-types.html)","id":"http:\/\/judkins.house\/apis\/k2\/v1\/awsAuthenticationConfig.json","additionalProperties":false,"title":"AWS Security Credentials Configuration","type":"object","properties":{"___accessKey":{"description":"The AWS access key for the API","type":["string","null"]},"___accessSecret":{"description":"The AWS access secret for the API","type":["string","null"]},"___credentialsProfile":{"description":"The profile to use within the credentials file","type":["string","null"]},"___credentialsFile":{"description":"The AWS credentials file for the API","type":["string","null"]},"___securityToken":{"description":"The Session Token to use when access credentials are from temporary STS grants","type":["string","null"]}},"required":["accessKey","accessSecret","credentialsFile","credentialsProfile"]}},"___kind":{"description":"The type of configuration this object it.","type":"string","enum":["provider"]},"___vpc":{"default":"10.0.0.0\/16","format":"cidr","description":"CIDR for the VPC for the cluster.","type":"string"},"___resourcePrefix":{"description":"Any prefix that should be prepended to resources in AWS to make them easier to identify.","type":["string","null"]},"___name":{"description":"The name of the configuration, for use within k2 configurations.","type":"string"},"___existing_vpc":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"awsVpcConfig.json","description":"Describes an existing AWS VPC configuration to install a Kubernetes cluster into.","id":"http:\/\/judkins.house\/apis\/k2\/v1\/awsVpcConfig.json","additionalProperties":false,"title":"AWS VPC Configuration","type":"object","properties":{"___id":{"description":"id of a pre-created VPC","type":"string"},"___route_table_id":{"description":"DEPRECATED: id of a pre-created route table that exists in the provided vpc.id","type":"string"},"___default_security_group_id":{"description":"id of the pre-created default security group for the provided vpc.id","type":"string"},"___subnet":{"minItems":1,"description":"list of subnet ids that are part of the provided vpc.id","type":"array","items":{"$ref":"awsPreexistingSubnetConfig.json"}}},"required":["id","subnet","default_security_group_id"]}},"___egressAcl":{"minItems":1,"description":"List of egress ACLs to create for the VPC.","type":"array","items":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"awsAclConfig.json","description":"Describes an AWS network ACL rule. See the VPC [documentation](http:\/\/docs.aws.amazon.com\/AmazonVPC\/latest\/UserGuide\/VPC_ACLs.html) for more information.","id":"http:\/\/judkins.house\/apis\/k2\/v1\/awsAclConfig.json","additionalProperties":false,"title":"AWS Network Access Control List (ACL) Rule","type":"object","properties":{"___rule_no":{"description":"The number of the rule for ordering.","type":"number"},"___action":{"description":"The action that should be implemented (allow\/deny).","type":"string","enum":["allow","deny"]},"___cidr_block":{"format":"cidr","description":"The cidr to associate this rule to.","type":"string"},"___to_port":{"description":"The to port number, 0 for all.","type":"number"},"___protocol":{"description":"The protocol for this ACL.","type":"string","enum":["TCP","UDP","-1","ICMP"]},"___from_port":{"description":"The from port number, 0 for all.","maximum":65535,"type":"number","minimum":0}},"required":["protocol","rule_no","action","cidr_block","from_port","to_port"]}}},"___provider":{"description":"The name of the provider for this provider setting.","type":"string","enum":["aws"]},"___ingressSecurity":{"minItems":1,"description":"List of ingress security rules to create for the VPC.  This section is ignored when modifying an existing cluster.","type":"array","items":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"awsSecurityConfig.json","description":"AWS Security Configuration","id":"http:\/\/judkins.house\/apis\/k2\/v1\/awsSecurityConfig.json","additionalProperties":false,"title":"AWS Security Configuration","type":"object","properties":{"___to_port":{"description":"The to port number.","type":"number"},"___protocol":{"description":"The protocol for this Security Rule.","type":"string","enum":["TCP","UDP","-1","ICMP"]},"___cidr_blocks":{"default":["0.0.0.0\/0"],"description":"The cidr to associate this rule to.","type":"array","items":{"type":"string"}},"___from_port":{"description":"The from port number.","type":"number"}},"required":["protocol","cidr_blocks","from_port","to_port"]}}},"___egressSecurity":{"minItems":1,"description":"List of egress security rules to create for the VPC.  This section is ignored when modifying an existing cluster.","type":"array","items":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"awsSecurityConfig.json","description":"AWS Security Configuration","id":"http:\/\/judkins.house\/apis\/k2\/v1\/awsSecurityConfig.json","additionalProperties":false,"title":"AWS Security Configuration","type":"object","properties":{"___to_port":{"description":"The to port number.","type":"number"},"___protocol":{"description":"The protocol for this Security Rule.","type":"string","enum":["TCP","UDP","-1","ICMP"]},"___cidr_blocks":{"default":["0.0.0.0\/0"],"description":"The cidr to associate this rule to.","type":"array","items":{"type":"string"}},"___from_port":{"description":"The from port number.","type":"number"}},"required":["protocol","cidr_blocks","from_port","to_port"]}}},"___networkTopology":{"default":"public","description":"Type of network topology to create, care must be taken as you need pairs of subnets in a private topology.","type":"string","enum":["public","private"]},"___subnet":{"minItems":1,"description":"List of subnets to use within a region for the cluster.  Should be omitted and will be ignored if existing_vpc hash is specified.","type":"array","items":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"awsSubnetConfig.json","description":"Describes an [AWS subnet](http:\/\/docs.aws.amazon.com\/AmazonVPC\/latest\/UserGuide\/VPC_Subnets.html).","id":"http:\/\/judkins.house\/apis\/k2\/v1\/awsSubnetConfig.json","additionalProperties":false,"title":"AWS Subnet Configurationn","type":"object","properties":{"___name":{"description":"The name of the subnet, for use within k2 configurations.","type":"string"},"___cidr":{"default":"10.0.0.0\/18","format":"cidr","description":"The cidr to associate to the subnet (within the VPC).","type":"string"},"___enablePublicIPs":{"default":"true","description":"Do we allow for Auto-assigned Public IPs, Our clusters default to true","type":"boolean"},"___az":{"default":"us-east-1a","description":"Name of the Availability Zone (AZ) in AWS. Regions and AZs are documented [here](http:\/\/docs.aws.amazon.com\/AWSEC2\/latest\/UserGuide\/using-regions-availability-zones.html#concepts-available-regions).","type":"string"}},"required":["name","az","cidr"]}}},"___region":{"default":"us-east-1","description":"Region to create resources in (us-east-1, us-west-2, etc.).","type":"string"}},"required":["name","provider","type","resourcePrefix","vpc","region","egressAcl","ingressAcl","egressSecurity","ingressSecurity","authentication"]}