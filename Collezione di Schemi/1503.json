{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"Microsoft Network Resource Types","id":"https:\/\/schema.management.azure.com\/schemas\/2017-05-01\/Microsoft.Network.json#","title":"Microsoft.Network","resourceDefinitions":{"trafficManagerProfiles":{"description":"An Azure Traffic Manager profile","type":"object","properties":{"___location":{"enum":["global"]},"___type":{"enum":["Microsoft.Network\/trafficManagerProfiles"]},"___properties":{"additionalProperties":false,"type":"object","properties":{"___monitorConfig":{"oneOf":[{"additionalProperties":false,"type":"object","properties":{"___toleratedNumberOfFailures":{"oneOf":[{"maximum":9,"type":"integer","minimum":0},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Microsoft.Network\/trafficManagerProfiles The number of consecutive failed monitoring requests that Traffic Manager tolerates before declaring an endpoint in this profile Degraded after the next failed monitoring request"},"___timeoutInSeconds":{"oneOf":[{"maximum":10,"type":"integer","minimum":5},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Microsoft.Network\/trafficManagerProfiles The time that Traffic Manager allows endpoints in this profile to respond to monitoring requests."},"___protocol":{"oneOf":[{"enum":["HTTP","HTTPS","TCP"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Microsoft.Network\/trafficManagerProfiles The protocol over which Traffic Manager will send monitoring requests"},"___port":{"oneOf":[{"maximum":65535,"type":"integer","minimum":1},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Microsoft.Network\/trafficManagerProfiles The port to which Traffic Manager will send monitoring requests"},"___intervalInSeconds":{"oneOf":[{"maximum":30,"type":"integer","minimum":10},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Microsoft.Network\/trafficManagerProfiles The interval at which Traffic Manager will send monitoring requests to each endpoint in this profile"},"___path":{"description":"Microsoft.Network\/trafficManagerProfiles The path (relative to the hostname of the endpoint) to which Traffic Manager will send monitoring requests","type":"string"}},"required":["protocol","port"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Microsoft.Network\/trafficManagerProfiles Configuration for monitoring (probing) of endpoints in this profile"},"___profileStatus":{"oneOf":[{"enum":["Enabled","Disabled"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The status of the profile (Enabled\/Disabled)"},"___dnsConfig":{"oneOf":[{"additionalProperties":false,"type":"object","properties":{"___fqdn":{"type":"string"},"___relativeName":{"description":"Microsoft.Network\/trafficManagerProfiles The DNS name for the profile, relative to the Traffic Manager DNS suffix","type":"string"},"___ttl":{"oneOf":[{"maximum":2147483647,"type":"integer","minimum":0},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}]}},"required":["relativeName","ttl"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"DNS configuration settings for the profile"},"___endpoints":{"oneOf":[{"type":"array","items":{"type":"object","properties":{"___name":{"description":"Microsoft.Network\/trafficManagerProfiles The name of the endpoint, must be unique within this profile. This is not the DNS name of the endpoint","type":"string"},"___type":{"enum":["Microsoft.Network\/trafficManagerProfiles\/azureEndpoints","Microsoft.Network\/trafficManagerProfiles\/externalEndpoints","Microsoft.Network\/trafficManagerProfiles\/nestedEndpoints"]},"___properties":{"type":"object","properties":{"___geoMapping":{"description":"Microsoft.Network\/trafficManagerProfiles (only used with trafficRoutingMethod:Geographic) the list of regions mapped to this endpoint. Please consult Traffic Manager Geographic documentation for a full list of accepted values.","type":"array","items":{"type":"string"}},"___endpointStatus":{"oneOf":[{"enum":["Enabled","Disabled"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}]},"___weight":{"oneOf":[{"maximum":1000,"type":"integer","minimum":1},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Microsoft.Network\/trafficManagerProfiles (only used with trafficRoutingMethod:Weighted) The weight of the endpoint"},"___target":{"description":"Microsoft.Network\/trafficManagerProfiles (only used for ExternalEndpoints) The DNS name of the endpoint","type":"string"},"___endpointLocation":{"description":"Microsoft.Network\/trafficManagerProfiles (only used for ExternalEndpoints and NestedEndpoints) The location of the endpoint. One of the supported Microsoft Azure locations, except 'global'","type":"string"},"___targetResourceId":{"description":"Microsoft.Network\/trafficManagerProfiles (not allowed for ExternalEndpoints) The ID of a Microsoft.Network\/publicIpAddresses, Microsoft.ClassicCompute\/domainNames resource (for AzureEndpoints) or a Microsoft.Network\/trafficMaanagerProfiles resource (for NestedEndpoints)","type":"string"},"___minChildEndpoints":{"oneOf":[{"type":"integer","minimum":1},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Microsoft.Network\/trafficManagerProfiles (only used for NestedEndpoints) The minimum number of endpoints in the child profile that need to be available in order for this endpoint to be considered available in the current profile."},"___priority":{"oneOf":[{"maximum":1000,"type":"integer","minimum":1},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Microsoft.Network\/trafficManagerProfiles (only used with trafficRoutingMethod:Priority) The priority of the endpoint"}}}},"required":["name","type","properties"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The endpoints over which this profile will route traffic"},"___trafficRoutingMethod":{"oneOf":[{"enum":["Performance","Priority","Weighted","Geographic"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The traffic routing method (Performance\/Priority\/Weighted\/Geographic)"}},"required":["trafficRoutingMethod","dnsConfig","monitorConfig"]},"___apiVersion":{"enum":["2017-05-01"]}},"required":["apiVersion","type","location","properties"]}}}