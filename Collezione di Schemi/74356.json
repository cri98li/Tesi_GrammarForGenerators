{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","additionalProperties":false,"type":"object","definitions":{"_88serve":{"properties":{"___procedure":{"type":"string","enum":["serve"]},"___options":{"type":"object"}},"required":["procedure","ingredients"]},"_88window":{"properties":{"___procedure":{"type":"string","enum":["window"]},"___options":{"additionalProperties":false,"type":"object","properties":{"___debug":{"type":"boolean"},"___aggregate":{"patternProperties":{"___.*":{"oneOf":[{"type":"string"},{"type":"object","properties":{"___function":{"type":"string"}},"required":["function"]}]}},"type":"object"},"___window":{"type":"object","properties":{"___center":{"type":"boolean"},"___column":{"type":"string"},"___size":{"oneOf":[{"type":"number"},{"type":"string","enum":["expanding"]}]},"___min_periods":{"type":"number"}}}}},"___ingredients":{"maxItems":1}},"required":["procedure","ingredients","result","options"]},"_88merge":{"properties":{"___procedure":{"type":"string","enum":["merge"]},"___options":{"additionalProperties":false,"type":"object","properties":{"___debug":{"type":"boolean"},"___deep":{"type":"boolean"}}}},"required":["procedure","ingredients","result"]},"_88translate_column":{"properties":{"___procedure":{"type":"string","enum":["translate_column"]},"___options":{"additionalProperties":false,"type":"object","properties":{"___target_column":{"type":"string"},"___not_found":{"type":"string","enum":["drop","include","error"]},"___ambiguity":{"type":"string","enum":["prompt","skip","error"]},"___column":{"type":"string"},"___debug":{"type":"boolean"},"___dictionary":{"oneOf":[{"type":"string"},{"type":"object"}]}}},"___ingredients":{"maxItems":1}},"required":["procedure","ingredients","result","options"]},"_88trend_bridge":{"properties":{"___procedure":{"type":"string","enum":["trend_bridge"]},"___options":{"patternProperties":{"___^bridge_(start|end)$":{"type":"object","properties":{"___column":{"type":"string"},"___ingredient":{"type":"string"}},"required":["column"]}},"additionalProperties":false,"type":"object","properties":{"___target_column":{"type":"string"},"___bridge_on":{"type":"string"},"___bridge_length":{"type":"number"},"___debug":{"type":"boolean"}},"required":["bridge_start","bridge_end","bridge_length","bridge_on"]},"___ingredients":{"maxItems":1}},"required":["procedure","ingredients","result","options"]},"_88run_op":{"properties":{"___procedure":{"type":"string","enum":["run_op"]},"___options":{"additionalProperties":false,"type":"object","properties":{"___op":{"type":"object"},"___debug":{"type":"boolean"}},"required":["op"]},"___ingredients":{"maxItems":1}},"required":["procedure","ingredients","result","options"]},"_88copy":{"properties":{"___procedure":{"type":"string","enum":["copy"]},"___options":{"additionalProperties":false,"type":"object","properties":{"___debug":{"type":"boolean"},"___dictionary":{"patternProperties":{"___.*":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]}},"type":"object"}},"required":["dictionary"]},"___ingredients":{"maxItems":1}},"required":["procedure","ingredients","result","options"]},"_88translate_header":{"properties":{"___procedure":{"type":"string","enum":["translate_header"]},"___options":{"additionalProperties":false,"type":"object","properties":{"___debug":{"type":"boolean"},"___dictionary":{"oneOf":[{"type":"string"},{"type":"object"}]}}},"___ingredients":{"maxItems":1}},"required":["procedure","ingredients","result","options"]},"_88filter_row":{"properties":{"___procedure":{"type":"string","enum":["filter_row"]},"___options":{"additionalProperties":false,"type":"object","properties":{"___debug":{"type":"boolean"},"___keep_all_columns":{"type":"boolean"},"___dictionary":{"patternProperties":{"___.*":{"type":"object","properties":{"___from":{"type":"string"}},"required":["from"]}},"type":"object"}},"required":["dictionary"]},"___ingredients":{"maxItems":1}},"required":["procedure","ingredients","result","options"]},"_88filter_item":{"properties":{"___procedure":{"type":"string","enum":["filter_item"]},"___options":{"additionalProperties":false,"type":"object","properties":{"___debug":{"type":"boolean"},"___items":{"type":"array","items":{"type":"string"}}},"required":["items"]},"___ingredients":{"maxItems":1}},"required":["procedure","ingredients","result","options"]},"_88extract_concepts":{"properties":{"___procedure":{"type":"string","enum":["extract_concepts"]},"___options":{"additionalProperties":false,"type":"object","properties":{"___join":{"type":"object","properties":{"___type":{"type":"string","enum":["full_outer","ingredients_outer"]},"___base":{"type":"string"}}},"___include_keys":{"type":"boolean"},"___debug":{"type":"boolean"},"___overwrite":{"patternProperties":{"___.*":{"type":"string"}},"type":"object"}}}},"required":["procedure","ingredients","result","options"]},"_88groupby":{"properties":{"___procedure":{"type":"string","enum":["groupby"]},"___options":{"patternProperties":{"___aggregate|filter|transform":{"patternProperties":{"___.*":{"oneOf":[{"type":"string"},{"type":"object","properties":{"___function":{"type":"string"}},"required":["function"]}]}},"type":"object"}},"additionalProperties":false,"type":"object","properties":{"___groupby":{"oneOf":[{"type":"string"},{"type":"array"}]},"___debug":{"type":"boolean"},"___insert_key":{"type":"object"}}},"___ingredients":{"maxItems":1}},"required":["procedure","ingredients","result","options"]}},"properties":{"___serving":{"type":"array","items":{"type":"object","properties":{"___options":{"type":"object"},"___id":{"type":"string"}}}},"___info":{"type":"object","properties":{"___id":{"type":"string"}}},"___config":{"type":"object","properties":{"___dictionary_dir":{"type":"string"},"___recipes_dir":{"type":"string"},"___ddf_dir":{"type":"string"}}},"___include":{"type":"array","items":{"type":"string"}},"___ingredients":{"uniqueItems":true,"type":"array","items":{"type":"object","properties":{"___dataset":{"type":"string"},"___key":{"type":"string"},"___row_fliter":{"type":"string"},"___value":{"oneOf":[{"type":"string","enum":["*"]},{"type":"array","items":{"type":"string"}}]},"___id":{"type":"string"}},"required":["id","dataset","key","value"]}},"___cooking":{"additionalProperties":false,"type":"object","properties":{"___datapoints":{"type":"array","items":{"allOf":[{"additionalProperties":false,"properties":{"___procedure":{"enum":["translate_header","translate_column","identity","merge","groupby","window","filter_row","filter_item","run_op","copy","extract_concepts","trend_bridge","serve"]},"___options":{"type":"object"},"___ingredients":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___result":{"type":"string"}},"required":["procedure","ingredients"]},{"anyOf":[{"$eref":{"properties":{"___procedure":{"type":"string","enum":["translate_header"]},"___options":{"additionalProperties":false,"type":"object","properties":{"___debug":{"type":"boolean"},"___dictionary":{"oneOf":[{"type":"string"},{"type":"object"}]}}},"___ingredients":{"maxItems":1}},"required":["procedure","ingredients","result","options"]}},{"$eref":{"properties":{"___procedure":{"type":"string","enum":["translate_column"]},"___options":{"additionalProperties":false,"type":"object","properties":{"___target_column":{"type":"string"},"___not_found":{"type":"string","enum":["drop","include","error"]},"___ambiguity":{"type":"string","enum":["prompt","skip","error"]},"___column":{"type":"string"},"___debug":{"type":"boolean"},"___dictionary":{"oneOf":[{"type":"string"},{"type":"object"}]}}},"___ingredients":{"maxItems":1}},"required":["procedure","ingredients","result","options"]}},{"$eref":{"properties":{"___procedure":{"type":"string","enum":["merge"]},"___options":{"additionalProperties":false,"type":"object","properties":{"___debug":{"type":"boolean"},"___deep":{"type":"boolean"}}}},"required":["procedure","ingredients","result"]}},{"$eref":{"properties":{"___procedure":{"type":"string","enum":["groupby"]},"___options":{"patternProperties":{"___aggregate|filter|transform":{"patternProperties":{"___.*":{"oneOf":[{"type":"string"},{"type":"object","properties":{"___function":{"type":"string"}},"required":["function"]}]}},"type":"object"}},"additionalProperties":false,"type":"object","properties":{"___groupby":{"oneOf":[{"type":"string"},{"type":"array"}]},"___debug":{"type":"boolean"},"___insert_key":{"type":"object"}}},"___ingredients":{"maxItems":1}},"required":["procedure","ingredients","result","options"]}},{"$eref":{"properties":{"___procedure":{"type":"string","enum":["window"]},"___options":{"additionalProperties":false,"type":"object","properties":{"___debug":{"type":"boolean"},"___aggregate":{"patternProperties":{"___.*":{"oneOf":[{"type":"string"},{"type":"object","properties":{"___function":{"type":"string"}},"required":["function"]}]}},"type":"object"},"___window":{"type":"object","properties":{"___center":{"type":"boolean"},"___column":{"type":"string"},"___size":{"oneOf":[{"type":"number"},{"type":"string","enum":["expanding"]}]},"___min_periods":{"type":"number"}}}}},"___ingredients":{"maxItems":1}},"required":["procedure","ingredients","result","options"]}},{"$eref":{"properties":{"___procedure":{"type":"string","enum":["filter_row"]},"___options":{"additionalProperties":false,"type":"object","properties":{"___debug":{"type":"boolean"},"___keep_all_columns":{"type":"boolean"},"___dictionary":{"patternProperties":{"___.*":{"type":"object","properties":{"___from":{"type":"string"}},"required":["from"]}},"type":"object"}},"required":["dictionary"]},"___ingredients":{"maxItems":1}},"required":["procedure","ingredients","result","options"]}},{"$eref":{"properties":{"___procedure":{"type":"string","enum":["filter_item"]},"___options":{"additionalProperties":false,"type":"object","properties":{"___debug":{"type":"boolean"},"___items":{"type":"array","items":{"type":"string"}}},"required":["items"]},"___ingredients":{"maxItems":1}},"required":["procedure","ingredients","result","options"]}},{"$eref":{"properties":{"___procedure":{"type":"string","enum":["run_op"]},"___options":{"additionalProperties":false,"type":"object","properties":{"___op":{"type":"object"},"___debug":{"type":"boolean"}},"required":["op"]},"___ingredients":{"maxItems":1}},"required":["procedure","ingredients","result","options"]}},{"$eref":{"properties":{"___procedure":{"type":"string","enum":["copy"]},"___options":{"additionalProperties":false,"type":"object","properties":{"___debug":{"type":"boolean"},"___dictionary":{"patternProperties":{"___.*":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]}},"type":"object"}},"required":["dictionary"]},"___ingredients":{"maxItems":1}},"required":["procedure","ingredients","result","options"]}},{"$eref":{"properties":{"___procedure":{"type":"string","enum":["extract_concepts"]},"___options":{"additionalProperties":false,"type":"object","properties":{"___join":{"type":"object","properties":{"___type":{"type":"string","enum":["full_outer","ingredients_outer"]},"___base":{"type":"string"}}},"___include_keys":{"type":"boolean"},"___debug":{"type":"boolean"},"___overwrite":{"patternProperties":{"___.*":{"type":"string"}},"type":"object"}}}},"required":["procedure","ingredients","result","options"]}},{"$eref":{"properties":{"___procedure":{"type":"string","enum":["trend_bridge"]},"___options":{"patternProperties":{"___^bridge_(start|end)$":{"type":"object","properties":{"___column":{"type":"string"},"___ingredient":{"type":"string"}},"required":["column"]}},"additionalProperties":false,"type":"object","properties":{"___target_column":{"type":"string"},"___bridge_on":{"type":"string"},"___bridge_length":{"type":"number"},"___debug":{"type":"boolean"}},"required":["bridge_start","bridge_end","bridge_length","bridge_on"]},"___ingredients":{"maxItems":1}},"required":["procedure","ingredients","result","options"]}},{"$eref":{"properties":{"___procedure":{"type":"string","enum":["serve"]},"___options":{"type":"object"}},"required":["procedure","ingredients"]}}]}],"type":"object"}},"___entities":{"$eref":{"type":"array","items":{"allOf":[{"additionalProperties":false,"properties":{"___procedure":{"enum":["translate_header","translate_column","identity","merge","groupby","window","filter_row","filter_item","run_op","copy","extract_concepts","trend_bridge","serve"]},"___options":{"type":"object"},"___ingredients":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___result":{"type":"string"}},"required":["procedure","ingredients"]},{"anyOf":[{"$ref":"#\/definitions\/translate_header"},{"$ref":"#\/definitions\/translate_column"},{"$ref":"#\/definitions\/merge"},{"$ref":"#\/definitions\/groupby"},{"$ref":"#\/definitions\/window"},{"$ref":"#\/definitions\/filter_row"},{"$ref":"#\/definitions\/filter_item"},{"$ref":"#\/definitions\/run_op"},{"$ref":"#\/definitions\/copy"},{"$ref":"#\/definitions\/extract_concepts"},{"$ref":"#\/definitions\/trend_bridge"},{"$ref":"#\/definitions\/serve"}]}],"type":"object"}}},"___concepts":{"$eref":{"type":"array","items":{"allOf":[{"additionalProperties":false,"properties":{"___procedure":{"enum":["translate_header","translate_column","identity","merge","groupby","window","filter_row","filter_item","run_op","copy","extract_concepts","trend_bridge","serve"]},"___options":{"type":"object"},"___ingredients":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___result":{"type":"string"}},"required":["procedure","ingredients"]},{"anyOf":[{"$ref":"#\/definitions\/translate_header"},{"$ref":"#\/definitions\/translate_column"},{"$ref":"#\/definitions\/merge"},{"$ref":"#\/definitions\/groupby"},{"$ref":"#\/definitions\/window"},{"$ref":"#\/definitions\/filter_row"},{"$ref":"#\/definitions\/filter_item"},{"$ref":"#\/definitions\/run_op"},{"$ref":"#\/definitions\/copy"},{"$ref":"#\/definitions\/extract_concepts"},{"$ref":"#\/definitions\/trend_bridge"},{"$ref":"#\/definitions\/serve"}]}],"type":"object"}}}}}}}