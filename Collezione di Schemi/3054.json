{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"Schema for IOx application descriptor - version 2.0","additionalProperties":false,"type":"object","definitions":{"_88__main__.StartupGenericLinux":{"additionalProperties":false,"type":"object","properties":{"___target":{"pattern":"^[a-zA-Z]([^\/]+(\/)?)+$","type":"string"},"___runtime":{"type":"string","enum":["generic-linux"]}},"required":["runtime","target"]},"_88__main__.StartupNotGenericLinux":{"additionalProperties":false,"type":"object","properties":{"___runtime-options":{"$eref":{"additionalProperties":true,"type":"object","properties":{"___classpath":{"type":"string"}},"required":["classpath"]}},"___target":{"pattern":"^[a-zA-Z]([^\/]+(\/)?)+$","type":"string"},"___runtime-version":{"oneOf":[{"type":"number"},{"type":"string"}]},"___runtime":{"pattern":"^((?!generic-linux).)*$","type":"string"}},"required":["runtime","target","runtime-version"]},"_88__main__.ServiceDependsOn":{"additionalProperties":false,"type":"object","properties":{"___max-api-version":{"type":"number"},"___min-api-version":{"type":"number"},"___required":{"type":"boolean"},"___id":{"type":"string"}},"required":["id"]},"_88__main__.Stop":{"additionalProperties":false,"type":"object","properties":{"___target":{"pattern":"^[a-zA-Z]([^\/]+(\/)?)+$","type":"string"}},"required":["target"]},"_88__main__.StartupVM":{"additionalProperties":false,"type":"object","properties":{"___rootfs":{"type":"string"},"___kernel":{"type":"string"}},"required":["rootfs","kernel"]},"_88__main__.AppLXC":{"additionalProperties":false,"type":"object","properties":{"___cpuarch":{"type":"string"},"___type":{"type":"string","enum":["lxc"]},"___kernel-version":{"type":"string"},"___depends-on":{"oneOf":[{"type":"object","properties":{"___services":{"type":"array","items":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___max-api-version":{"type":"number"},"___min-api-version":{"type":"number"},"___required":{"type":"boolean"},"___id":{"type":"string"}},"required":["id"]}}}},"required":["services"]}]},"___env":{"additionalProperties":true,"type":"object","properties":{}},"___resources":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___devices":{"type":"array","items":{"$ref":"#\/definitions\/__main__.Devices"}},"___memory":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___network":{"type":"array","items":{"$ref":"#\/definitions\/__main__.Network"}},"___cpu":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___disk":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___recommendations":{"type":"array","items":{"$ref":"#\/definitions\/__main__.ResourcesRecommendations"}},"___profile":{"type":"string"}},"required":["profile"]}},"___startup":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___target":{"pattern":"^[\/a-zA-Z]([^\/]+(\/)?)+$","type":"string"},"___rootfs":{"type":"string"}},"required":["rootfs","target"]}}},"required":["cpuarch","type","kernel-version","startup"]},"_88__main__.RuntimeOptions":{"additionalProperties":true,"type":"object","properties":{"___classpath":{"type":"string"}},"required":["classpath"]},"_88__main__.ServicesProvides":{"additionalProperties":false,"type":"object","properties":{"___provides":{"type":"array","items":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___description":{"type":"string"},"___version":{"type":"string"},"___api-version":{"type":"number"},"___id":{"type":"string"}},"required":["id","api-version","version"]}}}},"required":["provides"]},"_88__main__.StartupLXC":{"additionalProperties":false,"type":"object","properties":{"___target":{"pattern":"^[\/a-zA-Z]([^\/]+(\/)?)+$","type":"string"},"___rootfs":{"type":"string"}},"required":["rootfs","target"]},"_88__main__.AppInfo":{"additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___description":{"type":"string"},"___version":{"type":"string"},"___author-name":{"type":"string"},"___author-link":{"type":"string"}},"required":["name","version"]},"_88__main__.ResourcesRecommendations":{"additionalProperties":false,"type":"object","properties":{"___description":{"type":"string"},"___profile":{"type":"string"},"___label":{"type":"string"}},"required":["profile","label","description"]},"_88__main__.Resources":{"additionalProperties":false,"type":"object","properties":{"___devices":{"type":"array","items":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___usage":{"type":"string"},"___type":{"type":"string"},"___device-id":{"type":"string"},"___label":{"type":"string"}},"required":["type","label"]}}},"___memory":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___network":{"type":"array","items":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___interface-name":{"type":"string"},"___ports":{"anyOf":[{"type":"object","properties":{"___tcp":{"type":"array","items":[{"type":"integer"}]}},"required":["tcp"]},{"type":"object","properties":{"___udp":{"type":"array","items":[{"type":"integer"}]}},"required":["udp"]}]}},"required":["interface-name"]}}},"___cpu":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___disk":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___recommendations":{"type":"array","items":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___description":{"type":"string"},"___profile":{"type":"string"},"___label":{"type":"string"}},"required":["profile","label","description"]}}},"___profile":{"type":"string"}},"required":["profile"]},"_88__main__.AppVM":{"additionalProperties":false,"type":"object","properties":{"___cpuarch":{"type":"string"},"___type":{"type":"string","enum":["vm"]},"___depends-on":{"oneOf":[{"type":"object","properties":{"___services":{"type":"array","items":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___max-api-version":{"type":"number"},"___min-api-version":{"type":"number"},"___required":{"type":"boolean"},"___id":{"type":"string"}},"required":["id"]}}}},"required":["services"]}]},"___env":{"additionalProperties":true,"type":"object","properties":{}},"___resources":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___devices":{"type":"array","items":{"$ref":"#\/definitions\/__main__.Devices"}},"___memory":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___network":{"type":"array","items":{"$ref":"#\/definitions\/__main__.Network"}},"___cpu":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___disk":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___recommendations":{"type":"array","items":{"$ref":"#\/definitions\/__main__.ResourcesRecommendations"}},"___profile":{"type":"string"}},"required":["profile"]}},"___startup":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___rootfs":{"type":"string"},"___kernel":{"type":"string"}},"required":["rootfs","kernel"]}}},"required":["cpuarch","type","startup"]},"_88__main__.Service":{"additionalProperties":false,"type":"object","properties":{"___description":{"type":"string"},"___version":{"type":"string"},"___api-version":{"type":"number"},"___id":{"type":"string"}},"required":["id","api-version","version"]},"_88__main__.Devices":{"additionalProperties":false,"type":"object","properties":{"___usage":{"type":"string"},"___type":{"type":"string"},"___device-id":{"type":"string"},"___label":{"type":"string"}},"required":["type","label"]},"_88__main__.CartridgeDependsOn":{"additionalProperties":false,"type":"object","properties":{"___version":{"type":"number"},"___id":{"type":"string"}},"required":["id","version"]},"_88__main__.AppPaas":{"additionalProperties":false,"type":"object","properties":{"___cpuarch":{"type":"string"},"___type":{"type":"string","enum":["paas"]},"___depends-on":{"anyOf":[{"type":"object","properties":{"___cartridges":{"type":"array","items":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___version":{"type":"number"},"___id":{"type":"string"}},"required":["id","version"]}}}},"required":["cartridges"]},{"type":"object","properties":{"___services":{"type":"array","items":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___max-api-version":{"type":"number"},"___min-api-version":{"type":"number"},"___required":{"type":"boolean"},"___id":{"type":"string"}},"required":["id"]}}}},"required":["services"]}]},"___stop":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___target":{"pattern":"^[a-zA-Z]([^\/]+(\/)?)+$","type":"string"}},"required":["target"]}},"___env":{"additionalProperties":true,"type":"object","properties":{}},"___resources":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___devices":{"type":"array","items":{"$ref":"#\/definitions\/__main__.Devices"}},"___memory":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___network":{"type":"array","items":{"$ref":"#\/definitions\/__main__.Network"}},"___cpu":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___disk":{"oneOf":[{"type":"string"},{"type":"integer"}]},"___recommendations":{"type":"array","items":{"$ref":"#\/definitions\/__main__.ResourcesRecommendations"}},"___profile":{"type":"string"}},"required":["profile"]}},"___startup":{"oneOf":[{"$eref":{"additionalProperties":false,"type":"object","properties":{"___target":{"pattern":"^[a-zA-Z]([^\/]+(\/)?)+$","type":"string"},"___runtime":{"type":"string","enum":["generic-linux"]}},"required":["runtime","target"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___runtime-options":{"$ref":"#\/definitions\/__main__.RuntimeOptions"},"___target":{"pattern":"^[a-zA-Z]([^\/]+(\/)?)+$","type":"string"},"___runtime-version":{"oneOf":[{"type":"number"},{"type":"string"}]},"___runtime":{"pattern":"^((?!generic-linux).)*$","type":"string"}},"required":["runtime","target","runtime-version"]}}]}},"required":["type","startup"]},"_88__main__.Network":{"additionalProperties":false,"type":"object","properties":{"___interface-name":{"type":"string"},"___ports":{"anyOf":[{"type":"object","properties":{"___tcp":{"type":"array","items":[{"type":"integer"}]}},"required":["tcp"]},{"type":"object","properties":{"___udp":{"type":"array","items":[{"type":"integer"}]}},"required":["udp"]}]}},"required":["interface-name"]}},"properties":{"___app":{"oneOf":[{"$eref":{"additionalProperties":false,"type":"object","properties":{"___cpuarch":{"type":"string"},"___type":{"type":"string","enum":["paas"]},"___depends-on":{"anyOf":[{"type":"object","properties":{"___cartridges":{"type":"array","items":{"$ref":"#\/definitions\/__main__.CartridgeDependsOn"}}},"required":["cartridges"]},{"type":"object","properties":{"___services":{"type":"array","items":{"$ref":"#\/definitions\/__main__.ServiceDependsOn"}}},"required":["services"]}]},"___stop":{"$ref":"#\/definitions\/__main__.Stop"},"___env":{"additionalProperties":true,"type":"object","properties":{}},"___resources":{"$ref":"#\/definitions\/__main__.Resources"},"___startup":{"oneOf":[{"$ref":"#\/definitions\/__main__.StartupGenericLinux"},{"$ref":"#\/definitions\/__main__.StartupNotGenericLinux"}]}},"required":["type","startup"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___cpuarch":{"type":"string"},"___type":{"type":"string","enum":["lxc"]},"___kernel-version":{"type":"string"},"___depends-on":{"oneOf":[{"type":"object","properties":{"___services":{"type":"array","items":{"$ref":"#\/definitions\/__main__.ServiceDependsOn"}}},"required":["services"]}]},"___env":{"additionalProperties":true,"type":"object","properties":{}},"___resources":{"$ref":"#\/definitions\/__main__.Resources"},"___startup":{"$ref":"#\/definitions\/__main__.StartupLXC"}},"required":["cpuarch","type","kernel-version","startup"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___cpuarch":{"type":"string"},"___type":{"type":"string","enum":["vm"]},"___depends-on":{"oneOf":[{"type":"object","properties":{"___services":{"type":"array","items":{"$ref":"#\/definitions\/__main__.ServiceDependsOn"}}},"required":["services"]}]},"___env":{"additionalProperties":true,"type":"object","properties":{}},"___resources":{"$ref":"#\/definitions\/__main__.Resources"},"___startup":{"$ref":"#\/definitions\/__main__.StartupVM"}},"required":["cpuarch","type","startup"]}}]},"___descriptor-schema-version":{"oneOf":[{"type":"string"},{"type":"number"}]},"___info":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___description":{"type":"string"},"___version":{"type":"string"},"___author-name":{"type":"string"},"___author-link":{"type":"string"}},"required":["name","version"]}},"___service-bundle":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___provides":{"type":"array","items":{"$ref":"#\/definitions\/__main__.Service"}}},"required":["provides"]}}},"required":["descriptor-schema-version","info","app"]}