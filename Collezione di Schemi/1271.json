{"oneOf":[{"required":["runAzureVMExtension"]},{"required":["runCommand"]}],"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"http:\/\/schema.management.azure.com\/schemas\/2016-11-28\/dtlArtifacts.json","type":"object","definitions":{"_88parameterValueTypes":{"type":["string","boolean","integer","number","object","array","null"]},"_88parameter":{"description":"Input parameter definitions","type":"object","properties":{"___description":{"description":"The parameter description","type":"string"},"___minLength":{"description":"Minimum number of characters that can be used","type":"integer"},"___type":{"$eref":{"enum":["string","securestring","int","bool","object","array"]},"description":"Type of input parameter"},"___maxLength":{"description":"Maximum number of characters that can be used","type":"integer"},"___controlType":{"$eref":{"enum":["textBox","passwordBox","fileContents"]},"description":"Type of UI control"},"___displayName":{"description":"The parameter display name","type":"string"},"___allowEmpty":{"description":"If an empty value is allowed - false by default","type":"boolean"},"___allowedValues":{"description":"Value can only be one of these values","type":"array"},"___defaultValue":{"$eref":{"type":["string","boolean","integer","number","object","array","null"]},"description":"Default value to be used, if a value is not provided"}},"required":["type"]},"_88postDeployAction":{"type":"object","properties":{"___action":{"$eref":{"enum":["restart","waitForShutdown","deallocate"]}},"___delayStart":{"defaultValue":0,"description":"Value in seconds to wait before performing the action.","type":"integer"}},"required":["action"]},"_88parameterTypes":{"enum":["string","securestring","int","bool","object","array"]},"_88postDeployActionTypes":{"enum":["restart","waitForShutdown","deallocate"]},"_88controlTypes":{"enum":["textBox","passwordBox","fileContents"]}},"properties":{"___description":{"description":"The artifact's description.","type":"string"},"___tags":{"type":"array","items":[{"type":"string"}]},"___iconUri":{"pattern":"^https:\/\/.*|^$","description":"An icon to identify and distinguish the artifact in a list. URL referencing the icon must use SSL.","type":"string"},"___parameters":{"description":"Input parameter definitions","additionalProperties":{"$eref":{"description":"Input parameter definitions","type":"object","properties":{"___description":{"description":"The parameter description","type":"string"},"___minLength":{"description":"Minimum number of characters that can be used","type":"integer"},"___type":{"description":"Type of input parameter","$ref":"#\/definitions\/parameterTypes"},"___maxLength":{"description":"Maximum number of characters that can be used","type":"integer"},"___controlType":{"description":"Type of UI control","$ref":"#\/definitions\/controlTypes"},"___displayName":{"description":"The parameter display name","type":"string"},"___allowEmpty":{"description":"If an empty value is allowed - false by default","type":"boolean"},"___allowedValues":{"description":"Value can only be one of these values","type":"array"},"___defaultValue":{"description":"Default value to be used, if a value is not provided","$ref":"#\/definitions\/parameterValueTypes"}},"required":["type"]}},"type":"object"},"___title":{"description":"The artifact's title.","type":"string"},"___postDeployActions":{"minItems":1,"uniqueItems":true,"description":"Actions performed after successful completion of either runAzureVMExtension or runCommand.","type":"array","items":[{"$eref":{"type":"object","properties":{"___action":{"$ref":"#\/definitions\/postDeployActionTypes"},"___delayStart":{"defaultValue":0,"description":"Value in seconds to wait before performing the action.","type":"integer"}},"required":["action"]}}]},"___runCommand":{"additionalProperties":false,"type":"object","properties":{"___commandToExecute":{"description":"The command to run","type":"string"}},"required":["commandToExecute"]},"___targetOsType":{"type":"string","enum":["Windows","Linux"]},"___runAzureVMExtension":{"type":"object","properties":{}}},"required":["title","description","targetOsType"]}