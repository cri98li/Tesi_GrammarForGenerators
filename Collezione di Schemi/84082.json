{"$schema":"http:\/\/json-schema.org\/draft-04\/hyper-schema","description":"The log router","links":[{"rel":"self","href":"https:\/\/logplex.heroku.com"}],"id":"api-logplex","title":"Logplex","type":["object"],"definitions":{"_88channel":{"$schema":"http:\/\/json-schema.org\/draft-04\/hyper-schema","description":"A channel is a log stream.","links":[{"schema":{"type":["object"],"properties":{"___name":{"description":"a name for the channel","type":["string"],"example":"my-channel"},"___tokens":{"description":"names of tokens to create","type":["array"],"items":{"type":["string"]},"example":["my-token","your-token"]}},"required":["name"]},"targetSchema":{"properties":{"___channel_id":{"$eref":{"description":"unique identifier of channel","type":["integer"],"example":123456}},"___tokens":{"description":"created token names and tokens","type":["object"],"example":{"my-token":"t.01234567-89ab-cdef-0123-456789abcdef","your-token":"t.5b432a82-2c03-4ecd-a8d4-a75d627b29ab"}}}},"method":"POST","rel":"create","description":"Create a new channel.","href":"\/channels","title":"Create"},{"method":"DELETE","rel":"empty","description":"Delete an existing channel.","response_example":{"head":"HTTP\/1.1 200 OK"},"href":"\/v2\/channels\/{(%23%2Fdefinitions%2Fchannel%2Fdefinitions%2Fidentity)}","title":"Delete"},{"method":"GET","rel":"self","description":"Info for existing channel.","href":"\/v2\/channels\/{(%23%2Fdefinitions%2Fchannel%2Fdefinitions%2Fidentity)}","title":"Info"}],"title":"Channel","type":["object"],"definitions":{"_88identity":{"$eref":{"description":"unique identifier of channel","type":["integer"],"example":123456}},"_88drains":{"description":"drains under the channel","type":["array"],"items":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/hyper-schema","description":"Drains are log stream tee targets.","links":[{"schema":{"type":["object"],"properties":{"___url":{"$ref":"#\/definitions\/drain\/definitions\/url"}},"required":["url"]},"method":"POST","rel":"create","description":"Create a new drain.","href":"\/v2\/channels\/{(%23%2Fdefinitions%2Fchannel%2Fdefinitions%2Fidentity)}\/drains","title":"Create"},{"method":"DELETE","rel":"empty","description":"Delete an existing drain.","response_example":{"head":"HTTP\/1.1 200 OK"},"href":"\/v2\/channels\/{(%23%2Fdefinitions%2Fchannel%2Fdefinitions%2Fidentity)}\/drains\/{(%23%2Fdefinitions%2Fdrain%2Fdefinitions%2Fidentity)}","title":"Delete"},{"schema":{"type":["object"],"properties":{"___url":{"$ref":"#\/definitions\/drain\/definitions\/url"}},"required":["url"]},"method":"POST","rel":"update","description":"Update an existing drain.","href":"\/v2\/channels\/{(%23%2Fdefinitions%2Fchannel%2Fdefinitions%2Fidentity)}\/drains\/{(%23%2Fdefinitions%2Fdrain%2Fdefinitions%2Fidentity)}","title":"Update"}],"title":"Drain","type":["object"],"definitions":{"_88identity":{"$ref":"#\/definitions\/drain\/definitions\/id"},"_88token":{"description":"drain token","type":["string"],"example":"d.01234567-89ab-cdef-0123-456789abcdef"},"_88url":{"description":"drain destination","type":["string"],"example":"https:\/\/example.org"},"_88id":{"description":"unique identifier of drain","type":["integer"],"example":123456}},"properties":{"___url":{"$ref":"#\/definitions\/drain\/definitions\/url"},"___token":{"$ref":"#\/definitions\/drain\/definitions\/token"},"___id":{"$ref":"#\/definitions\/drain\/definitions\/id"}}}}},"_88channel_id":{"description":"unique identifier of channel","type":["integer"],"example":123456},"_88tokens":{"description":"tokens under the channel","type":["array"],"items":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/hyper-schema","description":"Tokens are log producers.","links":[{"schema":{"type":["object"],"properties":{"___name":{"$ref":"#\/definitions\/token\/definitions\/name"}},"required":["name"]},"method":"POST","rel":"create","description":"Create a new token.","href":"\/v2\/channels\/{(%23%2Fdefinitions%2Fchannel%2Fdefinitions%2Fidentity)}\/tokens","title":"Create"}],"title":"Token","type":["object"],"definitions":{"_88identity":{"$ref":"#\/definitions\/token\/definitions\/token"},"_88token":{"description":"unique identifier of token","type":["string"],"example":"t.01234567-89ab-cdef-0123-456789abcdef"},"_88name":{"description":"name of token","type":["string"],"example":"my-token"}},"properties":{"___name":{"$ref":"#\/definitions\/token\/definitions\/name"},"___token":{"$ref":"#\/definitions\/token\/definitions\/token"}}}}}},"properties":{"___channel_id":{"$eref":{"description":"unique identifier of channel","type":["integer"],"example":123456}},"___drains":{"$eref":{"description":"drains under the channel","type":["array"],"items":{"$ref":"#\/definitions\/drain"}}},"___tokens":{"$eref":{"description":"tokens under the channel","type":["array"],"items":{"$ref":"#\/definitions\/token"}}}}},"_88health":{"$schema":"http:\/\/json-schema.org\/draft-04\/hyper-schema","links":[{"method":"GET","rel":"empty","description":"Performs a health check against the API","response_example":{"head":"HTTP\/1.1 200 OK"},"href":"\/healthcheck"}],"title":"Healthchecks"},"_88token":{"$schema":"http:\/\/json-schema.org\/draft-04\/hyper-schema","description":"Tokens are log producers.","links":[{"schema":{"type":["object"],"properties":{"___name":{"$eref":{"description":"name of token","type":["string"],"example":"my-token"}}},"required":["name"]},"method":"POST","rel":"create","description":"Create a new token.","href":"\/v2\/channels\/{(%23%2Fdefinitions%2Fchannel%2Fdefinitions%2Fidentity)}\/tokens","title":"Create"}],"title":"Token","type":["object"],"definitions":{"_88identity":{"$eref":{"description":"unique identifier of token","type":["string"],"example":"t.01234567-89ab-cdef-0123-456789abcdef"}},"_88token":{"description":"unique identifier of token","type":["string"],"example":"t.01234567-89ab-cdef-0123-456789abcdef"},"_88name":{"description":"name of token","type":["string"],"example":"my-token"}},"properties":{"___name":{"$eref":{"description":"name of token","type":["string"],"example":"my-token"}},"___token":{"$eref":{"description":"unique identifier of token","type":["string"],"example":"t.01234567-89ab-cdef-0123-456789abcdef"}}}},"_88drain":{"$schema":"http:\/\/json-schema.org\/draft-04\/hyper-schema","description":"Drains are log stream tee targets.","links":[{"schema":{"type":["object"],"properties":{"___url":{"$eref":{"description":"drain destination","type":["string"],"example":"https:\/\/example.org"}}},"required":["url"]},"method":"POST","rel":"create","description":"Create a new drain.","href":"\/v2\/channels\/{(%23%2Fdefinitions%2Fchannel%2Fdefinitions%2Fidentity)}\/drains","title":"Create"},{"method":"DELETE","rel":"empty","description":"Delete an existing drain.","response_example":{"head":"HTTP\/1.1 200 OK"},"href":"\/v2\/channels\/{(%23%2Fdefinitions%2Fchannel%2Fdefinitions%2Fidentity)}\/drains\/{(%23%2Fdefinitions%2Fdrain%2Fdefinitions%2Fidentity)}","title":"Delete"},{"schema":{"type":["object"],"properties":{"___url":{"$eref":{"description":"drain destination","type":["string"],"example":"https:\/\/example.org"}}},"required":["url"]},"method":"POST","rel":"update","description":"Update an existing drain.","href":"\/v2\/channels\/{(%23%2Fdefinitions%2Fchannel%2Fdefinitions%2Fidentity)}\/drains\/{(%23%2Fdefinitions%2Fdrain%2Fdefinitions%2Fidentity)}","title":"Update"}],"title":"Drain","type":["object"],"definitions":{"_88identity":{"$eref":{"description":"unique identifier of drain","type":["integer"],"example":123456}},"_88token":{"description":"drain token","type":["string"],"example":"d.01234567-89ab-cdef-0123-456789abcdef"},"_88url":{"description":"drain destination","type":["string"],"example":"https:\/\/example.org"},"_88id":{"description":"unique identifier of drain","type":["integer"],"example":123456}},"properties":{"___url":{"$eref":{"description":"drain destination","type":["string"],"example":"https:\/\/example.org"}},"___token":{"$eref":{"description":"drain token","type":["string"],"example":"d.01234567-89ab-cdef-0123-456789abcdef"}},"___id":{"$eref":{"description":"unique identifier of drain","type":["integer"],"example":123456}}}},"_88session":{"$schema":"http:\/\/json-schema.org\/draft-04\/hyper-schema","description":"Sessions fetch recent and real-time logs from channels.","links":[{"schema":{"type":["object"],"properties":{"___channel_id":{"description":"unique identifier of channel (must be a string)","type":["string"],"example":"12345"},"___tail":{"description":"if present with any value, start a live tail session","type":["boolean","null"]},"___num":{"default":"100","description":"number of log lines to fetch","type":["string","null"]}},"required":["channel_id"],"example":{"num":"5","channel_id":"12345"}},"method":"POST","rel":"create","description":"Create a new session.","href":"\/v2\/sessions","title":"Create"},{"method":"GET","rel":"empty","description":"Get the chunk encoded session log data. If tail was specified the connection is long lived.","response_example":{"head":"HTTP\/1.1 200 OK\nTransfer-Encoding: chunked\n","body":"2012-12-10T03:00:48Z+00:00 app[console.1]: test message 1\n2012-12-10T03:00:49Z+00:00 app[console.1]: test message 2\n2012-12-10T03:00:50Z+00:00 app[console.1]: test message 3\n2012-12-10T03:00:51Z+00:00 app[console.1]: test message 4\n2012-12-10T03:00:52Z+00:00 app[console.1]: test message 5\n"},"href":"\/sessions\/{(%23%2Fdefinitions%2Fsession%2Fdefinitions%2Fidentity)}","title":"Logs"}],"title":"Session","type":["object"],"definitions":{"_88identity":{"$eref":{"description":"unique identifier of a session","type":["string"],"example":"d58fb90e-c2bd-4e16-bfe0-e9e7cc7bff7f"}},"_88session_id":{"description":"unique identifier of a session","type":["string"],"example":"d58fb90e-c2bd-4e16-bfe0-e9e7cc7bff7f"},"_88url":{"description":"session URL to GET to retrieve logs","type":["string"],"example":"https:\/\/logplex.heroku.com\/sessions\/d58fb90e-c2bd-4e16-bfe0-e9e7cc7bff7f"}},"properties":{"___url":{"$eref":{"description":"session URL to GET to retrieve logs","type":["string"],"example":"https:\/\/logplex.heroku.com\/sessions\/d58fb90e-c2bd-4e16-bfe0-e9e7cc7bff7f"}}}}},"properties":{"___session":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/hyper-schema","description":"Sessions fetch recent and real-time logs from channels.","links":[{"schema":{"type":["object"],"properties":{"___channel_id":{"description":"unique identifier of channel (must be a string)","type":["string"],"example":"12345"},"___tail":{"description":"if present with any value, start a live tail session","type":["boolean","null"]},"___num":{"default":"100","description":"number of log lines to fetch","type":["string","null"]}},"required":["channel_id"],"example":{"num":"5","channel_id":"12345"}},"method":"POST","rel":"create","description":"Create a new session.","href":"\/v2\/sessions","title":"Create"},{"method":"GET","rel":"empty","description":"Get the chunk encoded session log data. If tail was specified the connection is long lived.","response_example":{"head":"HTTP\/1.1 200 OK\nTransfer-Encoding: chunked\n","body":"2012-12-10T03:00:48Z+00:00 app[console.1]: test message 1\n2012-12-10T03:00:49Z+00:00 app[console.1]: test message 2\n2012-12-10T03:00:50Z+00:00 app[console.1]: test message 3\n2012-12-10T03:00:51Z+00:00 app[console.1]: test message 4\n2012-12-10T03:00:52Z+00:00 app[console.1]: test message 5\n"},"href":"\/sessions\/{(%23%2Fdefinitions%2Fsession%2Fdefinitions%2Fidentity)}","title":"Logs"}],"title":"Session","type":["object"],"definitions":{"_88identity":{"$ref":"#\/definitions\/session\/definitions\/session_id"},"_88session_id":{"description":"unique identifier of a session","type":["string"],"example":"d58fb90e-c2bd-4e16-bfe0-e9e7cc7bff7f"},"_88url":{"description":"session URL to GET to retrieve logs","type":["string"],"example":"https:\/\/logplex.heroku.com\/sessions\/d58fb90e-c2bd-4e16-bfe0-e9e7cc7bff7f"}},"properties":{"___url":{"$ref":"#\/definitions\/session\/definitions\/url"}}}},"___health":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/hyper-schema","links":[{"method":"GET","rel":"empty","description":"Performs a health check against the API","response_example":{"head":"HTTP\/1.1 200 OK"},"href":"\/healthcheck"}],"title":"Healthchecks"}},"___channel":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/hyper-schema","description":"A channel is a log stream.","links":[{"schema":{"type":["object"],"properties":{"___name":{"description":"a name for the channel","type":["string"],"example":"my-channel"},"___tokens":{"description":"names of tokens to create","type":["array"],"items":{"type":["string"]},"example":["my-token","your-token"]}},"required":["name"]},"targetSchema":{"properties":{"___channel_id":{"$ref":"#\/definitions\/channel\/definitions\/channel_id"},"___tokens":{"description":"created token names and tokens","type":["object"],"example":{"my-token":"t.01234567-89ab-cdef-0123-456789abcdef","your-token":"t.5b432a82-2c03-4ecd-a8d4-a75d627b29ab"}}}},"method":"POST","rel":"create","description":"Create a new channel.","href":"\/channels","title":"Create"},{"method":"DELETE","rel":"empty","description":"Delete an existing channel.","response_example":{"head":"HTTP\/1.1 200 OK"},"href":"\/v2\/channels\/{(%23%2Fdefinitions%2Fchannel%2Fdefinitions%2Fidentity)}","title":"Delete"},{"method":"GET","rel":"self","description":"Info for existing channel.","href":"\/v2\/channels\/{(%23%2Fdefinitions%2Fchannel%2Fdefinitions%2Fidentity)}","title":"Info"}],"title":"Channel","type":["object"],"definitions":{"_88identity":{"$ref":"#\/definitions\/channel\/definitions\/channel_id"},"_88drains":{"description":"drains under the channel","type":["array"],"items":{"$ref":"#\/definitions\/drain"}},"_88channel_id":{"description":"unique identifier of channel","type":["integer"],"example":123456},"_88tokens":{"description":"tokens under the channel","type":["array"],"items":{"$ref":"#\/definitions\/token"}}},"properties":{"___channel_id":{"$ref":"#\/definitions\/channel\/definitions\/channel_id"},"___drains":{"$ref":"#\/definitions\/channel\/definitions\/drains"},"___tokens":{"$ref":"#\/definitions\/channel\/definitions\/tokens"}}}},"___token":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/hyper-schema","description":"Tokens are log producers.","links":[{"schema":{"type":["object"],"properties":{"___name":{"$ref":"#\/definitions\/token\/definitions\/name"}},"required":["name"]},"method":"POST","rel":"create","description":"Create a new token.","href":"\/v2\/channels\/{(%23%2Fdefinitions%2Fchannel%2Fdefinitions%2Fidentity)}\/tokens","title":"Create"}],"title":"Token","type":["object"],"definitions":{"_88identity":{"$ref":"#\/definitions\/token\/definitions\/token"},"_88token":{"description":"unique identifier of token","type":["string"],"example":"t.01234567-89ab-cdef-0123-456789abcdef"},"_88name":{"description":"name of token","type":["string"],"example":"my-token"}},"properties":{"___name":{"$ref":"#\/definitions\/token\/definitions\/name"},"___token":{"$ref":"#\/definitions\/token\/definitions\/token"}}}},"___drain":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/hyper-schema","description":"Drains are log stream tee targets.","links":[{"schema":{"type":["object"],"properties":{"___url":{"$ref":"#\/definitions\/drain\/definitions\/url"}},"required":["url"]},"method":"POST","rel":"create","description":"Create a new drain.","href":"\/v2\/channels\/{(%23%2Fdefinitions%2Fchannel%2Fdefinitions%2Fidentity)}\/drains","title":"Create"},{"method":"DELETE","rel":"empty","description":"Delete an existing drain.","response_example":{"head":"HTTP\/1.1 200 OK"},"href":"\/v2\/channels\/{(%23%2Fdefinitions%2Fchannel%2Fdefinitions%2Fidentity)}\/drains\/{(%23%2Fdefinitions%2Fdrain%2Fdefinitions%2Fidentity)}","title":"Delete"},{"schema":{"type":["object"],"properties":{"___url":{"$ref":"#\/definitions\/drain\/definitions\/url"}},"required":["url"]},"method":"POST","rel":"update","description":"Update an existing drain.","href":"\/v2\/channels\/{(%23%2Fdefinitions%2Fchannel%2Fdefinitions%2Fidentity)}\/drains\/{(%23%2Fdefinitions%2Fdrain%2Fdefinitions%2Fidentity)}","title":"Update"}],"title":"Drain","type":["object"],"definitions":{"_88identity":{"$ref":"#\/definitions\/drain\/definitions\/id"},"_88token":{"description":"drain token","type":["string"],"example":"d.01234567-89ab-cdef-0123-456789abcdef"},"_88url":{"description":"drain destination","type":["string"],"example":"https:\/\/example.org"},"_88id":{"description":"unique identifier of drain","type":["integer"],"example":123456}},"properties":{"___url":{"$ref":"#\/definitions\/drain\/definitions\/url"},"___token":{"$ref":"#\/definitions\/drain\/definitions\/token"},"___id":{"$ref":"#\/definitions\/drain\/definitions\/id"}}}}}}