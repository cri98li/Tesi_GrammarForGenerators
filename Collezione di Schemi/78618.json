{"outputs":{"triggerURI":{"type":"string","value":"[listCallbackURL(concat(resourceId('Microsoft.Logic\/workflows\/', parameters('logicAppName')), '\/triggers\/manual'), '2016-06-01').value]"}},"variables":{},"$schema":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#","resources":[{"apiVersion":"2016-06-01","name":"[parameters('sendgridName')]","location":"[parameters('location')]","type":"Microsoft.Web\/connections","properties":{"___api":{"id":"[concat(subscription().id,'\/providers\/Microsoft.Web\/locations\/', parameters('location'), '\/managedApis\/sendgrid')]"},"___displayName":"sendgrid","___parameterValues":{"apiKey":"[parameters('sendgridApiKey')]"}}},{"apiVersion":"2016-06-01","dependsOn":["[resourceId('Microsoft.Web\/connections', parameters('sendgridName'))]"],"name":"[parameters('logicAppName')]","location":"[parameters('location')]","type":"Microsoft.Logic\/workflows","properties":{"___definition":{"outputs":{},"$schema":"https:\/\/schema.management.azure.com\/providers\/Microsoft.Logic\/schemas\/2016-06-01\/workflowdefinition.json#","triggers":{"manual":{"kind":"http","inputs":{"schema":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","type":"object","properties":{"___emailbody":{"type":"string"},"___subject":{"type":"string"},"___to":{"type":"string"},"___from":{"type":"string"}},"required":["from","to","subject","emailbody"]}},"type":"request"}},"contentVersion":"1.0.0.0","actions":{"Send_email":{"inputs":{"path":"\/api\/mail.send.json","method":"post","host":{"connection":{"name":"@parameters('$connections')['sendgrid']['connectionId']"}},"body":{"subject":"@{triggerBody()['subject']}","ishtml":false,"from":"@{triggerBody()['from']}","to":"@{triggerBody()['to']}","body":"@{triggerBody()['emailbody']}"}},"runAfter":{},"type":"ApiConnection"}},"parameters":{"$connections":{"defaultValue":{},"type":"Object"}}},"___parameters":{"$connections":{"value":{"sendgrid":{"connectionId":"[resourceId('Microsoft.Web\/connections', parameters('sendgridName'))]","id":"[concat(subscription().id,'\/providers\/Microsoft.Web\/locations\/', parameters('location'), '\/managedApis\/sendgrid')]"}}}}}}],"contentVersion":"1.0.0.0","parameters":{"sendgridApiKey":{"metadata":{"description":"The SendGrid API key from the SendGrid service."},"type":"securestring"},"location":{"metadata":{"description":"Location for all resources."},"defaultValue":"[resourceGroup().location]","type":"string"},"sendgridName":{"metadata":{"description":"The name for the SendGrid connection."},"type":"string"},"logicAppName":{"metadata":{"description":"The name for the logic app."},"type":"string"}}}