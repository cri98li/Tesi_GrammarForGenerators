{"copyright":["Copyright 2013 Red Hat, Inc. and\/or its affiliates.","This file is part of lightblue.","This program is free software: you can redistribute it and\/or modify","it under the terms of the GNU General Public License as published by","the Free Software Foundation, either version 3 of the License, or","(at your option) any later version.","This program is distributed in the hope that it will be useful,","but WITHOUT ANY WARRANTY; without even the implied warranty of","MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the","GNU General Public License for more details.","You should have received a copy of the GNU General Public License","along with this program.  If not, see <http:\/\/www.gnu.org\/licenses\/>."],"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","anyOf":[{"required":["update"]}],"id":"rdbms","additionalProperties":false,"type":"object","properties":{"___save":{"$eref":{"copyright":["Copyright 2013 Red Hat, Inc. and\/or its affiliates.","This file is part of lightblue.","This program is free software: you can redistribute it and\/or modify","it under the terms of the GNU General Public License as published by","the Free Software Foundation, either version 3 of the License, or","(at your option) any later version.","This program is distributed in the hope that it will be useful,","but WITHOUT ANY WARRANTY; without even the implied warranty of","MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the","GNU General Public License for more details.","You should have received a copy of the GNU General Public License","along with this program.  If not, see <http:\/\/www.gnu.org\/licenses\/>."],"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"operation","additionalProperties":false,"type":"object","properties":{"___bindings":{"anyOf":[{"required":["out"]}],"additionalProperties":false,"type":"object","properties":{"___in":{"minItems":1,"type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"},"___column":{"type":"string"}},"required":["column","field"]}},"___out":{"$ref":"#\/properties\/bindings\/in"}}},"___expressions":{"minItems":1,"type":"array","items":{"oneOf":[{"type":"object","properties":{"___$statement":{"id":"statement","additionalProperties":false,"type":"object","properties":{"___type":{"id":"type","enum":["select","insert","update","delete","call"]},"___sql":{"id":"sql","type":"string"}},"required":["sql","type"]}}},{"additionalProperties":false,"type":"object","properties":{"___then":{"oneOf":[{"$ref":"#\/properties\/expressions"},{"$ref":"loop.json#"}]},"___elseIf":{"minItems":1,"type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___then":{"oneOf":[{"$ref":"#\/properties\/expressions"},{"$ref":"loop.json#"}]},"___if":{"$ref":"if.json#\/definitions\/if"}},"required":["if","then"]}},"___if":{"$ref":"if.json#\/definitions\/if"},"___else":{"oneOf":[{"$ref":"#\/properties\/expressions"},{"$ref":"loop.json#"}]}},"required":["if","then"]},{"additionalProperties":false,"type":"object","properties":{"___foreach":{"additionalProperties":false,"type":"object","properties":{"___iterateOverField":{"description":"Iterate for each value of the given field (which can be a variable or an entity's field)","type":"string"},"___expressions":{"$ref":"#\/properties\/expressions"}},"required":["iterateOverField","expressions"]}},"required":["foreach"]},{"additionalProperties":false,"type":"object","properties":{"___for":{"type":"object","properties":{"___loopTimes":{"type":"number"},"___additionalProperties":false,"___required":["loopTimes","loopCounterVariableName","expressions"],"___loopCounterVariableName":{"type":"string"},"___expressions":{"$ref":"#\/properties\/expressions"}}}},"required":["for"]}]}}},"required":["expressions"]},"id":"save"},"___SQLMapping":{"additionalProperties":false,"type":"object","properties":{"___joins":{"minItems":1,"description":"Defines the relationship between one or more fields to one or more tables\/columns","type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___projectionMappings":{"minItems":1,"description":"Describe the fields and columns related to the specific join","type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___sort":{"type":"string"},"___field":{"type":"string"},"___column":{"type":"string"}},"required":["column","field"]}},"___tables":{"minItems":1,"type":"array","items":{"description":"Table's name and its alias (if it have one). If alias is defined, it is expected that it will be used in the joins and where","additionalProperties":false,"type":"object","properties":{"___name":{"type":"string"},"___alias":{"type":"string"}},"required":["name"]}},"___needDistinct":{"description":"Describe if this specific join needs distinct in the SQL statement, where if any Join used in that statement defined it as true, all the other are going to use distinct.","type":"boolean"},"___joinTablesStatement":{"description":"Statement that will be used in the where clause with the necessary joins between tables of this set of fields","type":"string"}},"required":["tables","projectionMappings"]}},"___columnToFieldMap":{"minItems":1,"description":"Use this to map the tables PKs with field for paging","type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"},"___table":{"type":"string"},"___column":{"type":"string"}},"required":["tables","column","field"]}}},"required":["columnToFieldMap","joins"]},"___delete":{"$eref":{"copyright":["Copyright 2013 Red Hat, Inc. and\/or its affiliates.","This file is part of lightblue.","This program is free software: you can redistribute it and\/or modify","it under the terms of the GNU General Public License as published by","the Free Software Foundation, either version 3 of the License, or","(at your option) any later version.","This program is distributed in the hope that it will be useful,","but WITHOUT ANY WARRANTY; without even the implied warranty of","MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the","GNU General Public License for more details.","You should have received a copy of the GNU General Public License","along with this program.  If not, see <http:\/\/www.gnu.org\/licenses\/>."],"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"operation","additionalProperties":false,"type":"object","properties":{"___bindings":{"anyOf":[{"required":["out"]}],"additionalProperties":false,"type":"object","properties":{"___in":{"minItems":1,"type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"},"___column":{"type":"string"}},"required":["column","field"]}},"___out":{"$ref":"#\/properties\/bindings\/in"}}},"___expressions":{"minItems":1,"type":"array","items":{"oneOf":[{"type":"object","properties":{"___$statement":{"id":"statement","additionalProperties":false,"type":"object","properties":{"___type":{"id":"type","enum":["select","insert","update","delete","call"]},"___sql":{"id":"sql","type":"string"}},"required":["sql","type"]}}},{"additionalProperties":false,"type":"object","properties":{"___then":{"oneOf":[{"$ref":"#\/properties\/expressions"},{"$ref":"loop.json#"}]},"___elseIf":{"minItems":1,"type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___then":{"oneOf":[{"$ref":"#\/properties\/expressions"},{"$ref":"loop.json#"}]},"___if":{"$ref":"if.json#\/definitions\/if"}},"required":["if","then"]}},"___if":{"$ref":"if.json#\/definitions\/if"},"___else":{"oneOf":[{"$ref":"#\/properties\/expressions"},{"$ref":"loop.json#"}]}},"required":["if","then"]},{"additionalProperties":false,"type":"object","properties":{"___foreach":{"additionalProperties":false,"type":"object","properties":{"___iterateOverField":{"description":"Iterate for each value of the given field (which can be a variable or an entity's field)","type":"string"},"___expressions":{"$ref":"#\/properties\/expressions"}},"required":["iterateOverField","expressions"]}},"required":["foreach"]},{"additionalProperties":false,"type":"object","properties":{"___for":{"type":"object","properties":{"___loopTimes":{"type":"number"},"___additionalProperties":false,"___required":["loopTimes","loopCounterVariableName","expressions"],"___loopCounterVariableName":{"type":"string"},"___expressions":{"$ref":"#\/properties\/expressions"}}}},"required":["for"]}]}}},"required":["expressions"]},"id":"delete"},"___fetch":{"$eref":{"copyright":["Copyright 2013 Red Hat, Inc. and\/or its affiliates.","This file is part of lightblue.","This program is free software: you can redistribute it and\/or modify","it under the terms of the GNU General Public License as published by","the Free Software Foundation, either version 3 of the License, or","(at your option) any later version.","This program is distributed in the hope that it will be useful,","but WITHOUT ANY WARRANTY; without even the implied warranty of","MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the","GNU General Public License for more details.","You should have received a copy of the GNU General Public License","along with this program.  If not, see <http:\/\/www.gnu.org\/licenses\/>."],"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"operation","additionalProperties":false,"type":"object","properties":{"___bindings":{"anyOf":[{"required":["out"]}],"additionalProperties":false,"type":"object","properties":{"___in":{"minItems":1,"type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"},"___column":{"type":"string"}},"required":["column","field"]}},"___out":{"$ref":"#\/properties\/bindings\/in"}}},"___expressions":{"minItems":1,"type":"array","items":{"oneOf":[{"type":"object","properties":{"___$statement":{"id":"statement","additionalProperties":false,"type":"object","properties":{"___type":{"id":"type","enum":["select","insert","update","delete","call"]},"___sql":{"id":"sql","type":"string"}},"required":["sql","type"]}}},{"additionalProperties":false,"type":"object","properties":{"___then":{"oneOf":[{"$ref":"#\/properties\/expressions"},{"$ref":"loop.json#"}]},"___elseIf":{"minItems":1,"type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___then":{"oneOf":[{"$ref":"#\/properties\/expressions"},{"$ref":"loop.json#"}]},"___if":{"$ref":"if.json#\/definitions\/if"}},"required":["if","then"]}},"___if":{"$ref":"if.json#\/definitions\/if"},"___else":{"oneOf":[{"$ref":"#\/properties\/expressions"},{"$ref":"loop.json#"}]}},"required":["if","then"]},{"additionalProperties":false,"type":"object","properties":{"___foreach":{"additionalProperties":false,"type":"object","properties":{"___iterateOverField":{"description":"Iterate for each value of the given field (which can be a variable or an entity's field)","type":"string"},"___expressions":{"$ref":"#\/properties\/expressions"}},"required":["iterateOverField","expressions"]}},"required":["foreach"]},{"additionalProperties":false,"type":"object","properties":{"___for":{"type":"object","properties":{"___loopTimes":{"type":"number"},"___additionalProperties":false,"___required":["loopTimes","loopCounterVariableName","expressions"],"___loopCounterVariableName":{"type":"string"},"___expressions":{"$ref":"#\/properties\/expressions"}}}},"required":["for"]}]}}},"required":["expressions"]},"id":"fetch"},"___dialoect":{"type":"string"},"___update":{"$eref":{"copyright":["Copyright 2013 Red Hat, Inc. and\/or its affiliates.","This file is part of lightblue.","This program is free software: you can redistribute it and\/or modify","it under the terms of the GNU General Public License as published by","the Free Software Foundation, either version 3 of the License, or","(at your option) any later version.","This program is distributed in the hope that it will be useful,","but WITHOUT ANY WARRANTY; without even the implied warranty of","MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the","GNU General Public License for more details.","You should have received a copy of the GNU General Public License","along with this program.  If not, see <http:\/\/www.gnu.org\/licenses\/>."],"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"operation","additionalProperties":false,"type":"object","properties":{"___bindings":{"anyOf":[{"required":["out"]}],"additionalProperties":false,"type":"object","properties":{"___in":{"minItems":1,"type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"},"___column":{"type":"string"}},"required":["column","field"]}},"___out":{"$ref":"#\/properties\/bindings\/in"}}},"___expressions":{"minItems":1,"type":"array","items":{"oneOf":[{"type":"object","properties":{"___$statement":{"id":"statement","additionalProperties":false,"type":"object","properties":{"___type":{"id":"type","enum":["select","insert","update","delete","call"]},"___sql":{"id":"sql","type":"string"}},"required":["sql","type"]}}},{"additionalProperties":false,"type":"object","properties":{"___then":{"oneOf":[{"$ref":"#\/properties\/expressions"},{"$ref":"loop.json#"}]},"___elseIf":{"minItems":1,"type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___then":{"oneOf":[{"$ref":"#\/properties\/expressions"},{"$ref":"loop.json#"}]},"___if":{"$ref":"if.json#\/definitions\/if"}},"required":["if","then"]}},"___if":{"$ref":"if.json#\/definitions\/if"},"___else":{"oneOf":[{"$ref":"#\/properties\/expressions"},{"$ref":"loop.json#"}]}},"required":["if","then"]},{"additionalProperties":false,"type":"object","properties":{"___foreach":{"additionalProperties":false,"type":"object","properties":{"___iterateOverField":{"description":"Iterate for each value of the given field (which can be a variable or an entity's field)","type":"string"},"___expressions":{"$ref":"#\/properties\/expressions"}},"required":["iterateOverField","expressions"]}},"required":["foreach"]},{"additionalProperties":false,"type":"object","properties":{"___for":{"type":"object","properties":{"___loopTimes":{"type":"number"},"___additionalProperties":false,"___required":["loopTimes","loopCounterVariableName","expressions"],"___loopCounterVariableName":{"type":"string"},"___expressions":{"$ref":"#\/properties\/expressions"}}}},"required":["for"]}]}}},"required":["expressions"]},"id":"update"},"___insert":{"$eref":{"copyright":["Copyright 2013 Red Hat, Inc. and\/or its affiliates.","This file is part of lightblue.","This program is free software: you can redistribute it and\/or modify","it under the terms of the GNU General Public License as published by","the Free Software Foundation, either version 3 of the License, or","(at your option) any later version.","This program is distributed in the hope that it will be useful,","but WITHOUT ANY WARRANTY; without even the implied warranty of","MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the","GNU General Public License for more details.","You should have received a copy of the GNU General Public License","along with this program.  If not, see <http:\/\/www.gnu.org\/licenses\/>."],"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"operation","additionalProperties":false,"type":"object","properties":{"___bindings":{"anyOf":[{"required":["out"]}],"additionalProperties":false,"type":"object","properties":{"___in":{"minItems":1,"type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___field":{"type":"string"},"___column":{"type":"string"}},"required":["column","field"]}},"___out":{"$ref":"#\/properties\/bindings\/in"}}},"___expressions":{"minItems":1,"type":"array","items":{"oneOf":[{"type":"object","properties":{"___$statement":{"id":"statement","additionalProperties":false,"type":"object","properties":{"___type":{"id":"type","enum":["select","insert","update","delete","call"]},"___sql":{"id":"sql","type":"string"}},"required":["sql","type"]}}},{"additionalProperties":false,"type":"object","properties":{"___then":{"oneOf":[{"$ref":"#\/properties\/expressions"},{"$ref":"loop.json#"}]},"___elseIf":{"minItems":1,"type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___then":{"oneOf":[{"$ref":"#\/properties\/expressions"},{"$ref":"loop.json#"}]},"___if":{"$ref":"if.json#\/definitions\/if"}},"required":["if","then"]}},"___if":{"$ref":"if.json#\/definitions\/if"},"___else":{"oneOf":[{"$ref":"#\/properties\/expressions"},{"$ref":"loop.json#"}]}},"required":["if","then"]},{"additionalProperties":false,"type":"object","properties":{"___foreach":{"additionalProperties":false,"type":"object","properties":{"___iterateOverField":{"description":"Iterate for each value of the given field (which can be a variable or an entity's field)","type":"string"},"___expressions":{"$ref":"#\/properties\/expressions"}},"required":["iterateOverField","expressions"]}},"required":["foreach"]},{"additionalProperties":false,"type":"object","properties":{"___for":{"type":"object","properties":{"___loopTimes":{"type":"number"},"___additionalProperties":false,"___required":["loopTimes","loopCounterVariableName","expressions"],"___loopCounterVariableName":{"type":"string"},"___expressions":{"$ref":"#\/properties\/expressions"}}}},"required":["for"]}]}}},"required":["expressions"]},"id":"insert"}},"required":["SQLMapping","dialect"]}