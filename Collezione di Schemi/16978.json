{"patternProperties":{"___^([a-z0-9]|[a-z0-9][a-z0-9_-]*[a-z0-9])*$":{"allOf":[{"oneOf":[{"properties":{"___healthcheck_mode":{"enum":["tcp","http","https"]}}},{"properties":{"___healthcheck_mode":{"enum":["cmd"]},"___healthcheck_cmd":{"type":"string"}},"required":["healthcheck_cmd"]}]},{"oneOf":[{"properties":{"___drain_method":{"enum":["noop","hacheck","test"]}}},{"properties":{"___drain_method":{"enum":["http"]},"___drain_method_params":{"type":"object","properties":{"___is_draining":{"type":"object"},"___is_safe_to_kill":{"type":"object"},"___drain":{"type":"object"},"___stop_draining":{"type":"object"}},"required":["drain","stop_draining","is_draining","is_safe_to_kill"]}},"required":["drain_method_params"]}]}],"additionalProperties":false,"type":"object","properties":{"___marathon_shard":{"type":"integer","minimum":0},"___healthcheck_interval_seconds":{"default":10,"type":"number"},"___autoscaling":{"type":"object"},"___env":{"patternProperties":{"___^[a-zA-Z_]+[a-zA-Z0-9_]*$":{"type":"string"}},"additionalProperties":false,"type":"object"},"___healthcheck_cmd":{"default":"\/bin\/true","type":"string"},"___replication_threshold":{"type":"integer","minimum":0},"___instances":{"type":"integer","exclusiveMinimum":false,"minimum":0},"___bounce_priority":{"type":"integer"},"___extra_volumes":{"uniqueItems":true,"type":"array","items":{"type":"object"}},"___dependencies_reference":{"type":"string"},"___healthcheck_grace_period_seconds":{"default":60,"type":"number"},"___extra_constraints":{"uniqueItems":true,"type":"array","items":{"type":"array"}},"___args":{"type":"array","items":{"type":"string"}},"___security":{"type":"object","properties":{"___outbound_firewall":{"enum":["block","monitor"]}}},"___container_port":{"type":"number"},"___gpus":{"type":"integer","exclusiveMinimum":false,"minimum":0},"___healthcheck_uri":{"default":"\/status","type":"string"},"___net":{"type":"string"},"___cpus":{"default":0.25,"type":"number","exclusiveMinimum":true,"minimum":0},"___cfs_period_us":{"maximum":1000000,"type":"integer","exclusiveMinimum":false,"minimum":1000},"___backoff_factor":{"default":2,"type":"integer"},"___constraints":{"uniqueItems":true,"type":"array","items":{"type":"array"}},"___monitoring":{"additionalProperties":true,"type":"object","properties":{"___team":{"type":"string"},"___page":{"type":"boolean"}}},"___deploy_group":{"type":"string"},"___bounce_health_params":{"type":"object","properties":{"___check_haproxy":{"default":true,"type":"boolean"},"___min_task_uptime":{"type":"number"},"___haproxy_min_fraction_up":{"exclusiveMaximum":false,"maximum":1,"exclusiveMinimum":true,"type":"number","minimum":0}}},"___cap_add":{"type":"array","items":{"type":"string"}},"___healthcheck_timeout_seconds":{"default":10,"type":"number"},"___host_port":{"default":0,"maximum":65535,"exclusiveMinimum":false,"type":"integer","minimum":0},"___deploy_blacklist":{"type":"array"},"___extra_docker_args":{"additionalProperties":{"type":"string"},"type":"object"},"___cmd":{"type":"string"},"___healthcheck_mode":{"enum":["cmd","tcp","http","https"]},"___pool":{"type":"string"},"___max_launch_delay_seconds":{"default":300,"type":"integer"},"___max_instances":{"type":"integer","exclusiveMinimum":false,"minimum":0},"___deploy_whitelist":{"type":"array"},"___disk":{"default":1024,"type":"number","exclusiveMinimum":true,"minimum":0},"___bounce_start_deadline":{"type":"number"},"___sfn_autoscaling":{"type":"object"},"___bounce_margin_factor":{"exclusiveMaximum":false,"default":1,"maximum":1,"exclusiveMinimum":true,"type":"number","minimum":0},"___drain_method_params":{"type":"object"},"___registrations":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___previous_marathon_shards":{"type":"array"},"___min_instances":{"type":"integer","exclusiveMinimum":false,"minimum":0},"___mem":{"default":1024,"type":"number","exclusiveMinimum":true,"minimum":32},"___drain_method":{"default":"noop","enum":["noop","hacheck","http","test"]},"___cpu_burst_add":{"type":"number","exclusiveMinimum":false,"minimum":0},"___bounce_method":{"type":"string"},"___healthcheck_max_consecutive_failures":{"default":6,"type":"integer"}},"minProperties":1},"___^_.*$":{"additionalProperties":true,"type":"object"}},"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"http:\/\/paasta.readthedocs.io\/en\/latest\/yelpsoa_configs.html#marathon-clustername-yaml","additionalProperties":false,"type":"object","minProperties":1}