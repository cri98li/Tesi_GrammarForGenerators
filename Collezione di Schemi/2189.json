{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$eref":{"allOf":[{"$ref":"DomainResource#\/definitions\/DomainResource"},{"description":"The subscription resource is used to define a push based subscription from a server to another system. Once a subscription is registered with the server, the server checks every resource that is created or updated, and if the resource matches the given criteria, it sends a message on the defined \"channel\" so that another system is able to take an appropriate action.","properties":{"___criteria":{"description":"The rules that the server should use to determine when to generate notifications for this subscription.","type":"string"},"____status":{"description":"Extensions for status","$ref":"Element#\/definitions\/Element"},"___status":{"description":"The status of the subscription, which marks the server state for managing the subscription.","type":"string","enum":["requested","active","error","off"]},"___channel":{"description":"Details where to send notifications when resources are received that meet the criteria.","$ref":"#\/definitions\/Subscription_Channel"},"____end":{"description":"Extensions for end","$ref":"Element#\/definitions\/Element"},"___reason":{"description":"A description of why this subscription is defined.","type":"string"},"___error":{"description":"A record of the last error that occurred when the server processed a notification.","type":"string"},"___contact":{"description":"Contact details for a human to contact about the subscription. The primary use of this for system administrator troubleshooting.","type":"array","items":{"$ref":"ContactPoint#\/definitions\/ContactPoint"}},"____error":{"description":"Extensions for error","$ref":"Element#\/definitions\/Element"},"____reason":{"description":"Extensions for reason","$ref":"Element#\/definitions\/Element"},"____criteria":{"description":"Extensions for criteria","$ref":"Element#\/definitions\/Element"},"___resourceType":{"description":"This is a Subscription resource","type":"string","enum":["Subscription"]},"___end":{"description":"The time for the server to turn the subscription off.","type":"string"},"___tag":{"description":"A tag to add to any resource that matches the criteria, after the subscription is processed.","type":"array","items":{"$ref":"Coding#\/definitions\/Coding"}}},"required":["channel","resourceType"]}]},"description":"see http:\/\/hl7.org\/fhir\/json.html#schema for information about the FHIR Json Schemas","id":"http:\/\/hl7.org\/fhir\/json-schema\/Subscription","definitions":{"_88Subscription_Channel":{"allOf":[{"$eref":{"allOf":[{"$ref":"Element#\/definitions\/Element"},{"description":"Base definition for all elements that are defined inside a resource - but not those in a data type.","properties":{"___modifierExtension":{"description":"May be used to represent additional information that is not part of the basic definition of the element, and that modifies the understanding of the element that contains it. Usually modifier elements provide negation or qualification. In order to make the use of extensions safe and manageable, there is a strict set of governance applied to the definition and use of extensions. Though any implementer is allowed to define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension. Applications processing a resource are required to check for modifier extensions.","type":"array","items":{"$ref":"Extension#\/definitions\/Extension"}}}}]}},{"description":"The subscription resource is used to define a push based subscription from a server to another system. Once a subscription is registered with the server, the server checks every resource that is created or updated, and if the resource matches the given criteria, it sends a message on the defined \"channel\" so that another system is able to take an appropriate action.","properties":{"____endpoint":{"description":"Extensions for endpoint","$fref":"Element#\/definitions\/Element"},"___type":{"description":"The type of channel to send notifications on.","type":"string","enum":["rest-hook","websocket","email","sms","message"]},"___header":{"description":"Additional headers \/ information to send as part of the notification.","type":"array","items":{"type":"string"}},"____header":{"description":"Extensions for header","type":"array","items":{"$fref":"Element#\/definitions\/Element"}},"____type":{"description":"Extensions for type","$fref":"Element#\/definitions\/Element"},"____payload":{"description":"Extensions for payload","$fref":"Element#\/definitions\/Element"},"___payload":{"description":"The mime type to send the payload in - either application\/fhir+xml, or application\/fhir+json. If the payload is not present, then there is no payload in the notification, just a notification.","type":"string"},"___endpoint":{"description":"The uri that describes the actual end-point to send messages to.","type":"string"}}}]},"_88Subscription":{"allOf":[{"$eref":{"allOf":[{"$ref":"Resource#\/definitions\/Resource"},{"description":"A resource that includes narrative, extensions, and contained resources.","properties":{"___text":{"description":"A human-readable narrative that contains a summary of the resource, and may be used to represent the content of the resource to a human. The narrative need not encode all the structured data, but is required to contain sufficient detail to make it \"clinically safe\" for a human to just read the narrative. Resource definitions may define what content should be represented in the narrative to ensure clinical safety.","$ref":"Narrative#\/definitions\/Narrative"},"___modifierExtension":{"description":"May be used to represent additional information that is not part of the basic definition of the resource, and that modifies the understanding of the element that contains it. Usually modifier elements provide negation or qualification. In order to make the use of extensions safe and manageable, there is a strict set of governance applied to the definition and use of extensions. Though any implementer is allowed to define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension. Applications processing a resource are required to check for modifier extensions.","type":"array","items":{"$ref":"Extension#\/definitions\/Extension"}},"___contained":{"description":"These resources do not have an independent existence apart from the resource that contains them - they cannot be identified independently, and nor can they have their own independent transaction scope.","type":"array","items":{"$ref":"ResourceList#\/definitions\/ResourceList"}},"___extension":{"description":"May be used to represent additional information that is not part of the basic definition of the resource. In order to make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer is allowed to define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.","type":"array","items":{"$ref":"Extension#\/definitions\/Extension"}}}}]}},{"description":"The subscription resource is used to define a push based subscription from a server to another system. Once a subscription is registered with the server, the server checks every resource that is created or updated, and if the resource matches the given criteria, it sends a message on the defined \"channel\" so that another system is able to take an appropriate action.","properties":{"___criteria":{"description":"The rules that the server should use to determine when to generate notifications for this subscription.","type":"string"},"____status":{"description":"Extensions for status","$fref":"Element#\/definitions\/Element"},"___status":{"description":"The status of the subscription, which marks the server state for managing the subscription.","type":"string","enum":["requested","active","error","off"]},"___channel":{"$eref":{"allOf":[{"$ref":"BackboneElement#\/definitions\/BackboneElement"},{"description":"The subscription resource is used to define a push based subscription from a server to another system. Once a subscription is registered with the server, the server checks every resource that is created or updated, and if the resource matches the given criteria, it sends a message on the defined \"channel\" so that another system is able to take an appropriate action.","properties":{"____endpoint":{"description":"Extensions for endpoint","$ref":"Element#\/definitions\/Element"},"___type":{"description":"The type of channel to send notifications on.","type":"string","enum":["rest-hook","websocket","email","sms","message"]},"___header":{"description":"Additional headers \/ information to send as part of the notification.","type":"array","items":{"type":"string"}},"____header":{"description":"Extensions for header","type":"array","items":{"$ref":"Element#\/definitions\/Element"}},"____type":{"description":"Extensions for type","$ref":"Element#\/definitions\/Element"},"____payload":{"description":"Extensions for payload","$ref":"Element#\/definitions\/Element"},"___payload":{"description":"The mime type to send the payload in - either application\/fhir+xml, or application\/fhir+json. If the payload is not present, then there is no payload in the notification, just a notification.","type":"string"},"___endpoint":{"description":"The uri that describes the actual end-point to send messages to.","type":"string"}}}]},"description":"Details where to send notifications when resources are received that meet the criteria."},"____end":{"description":"Extensions for end","$fref":"Element#\/definitions\/Element"},"___reason":{"description":"A description of why this subscription is defined.","type":"string"},"___error":{"description":"A record of the last error that occurred when the server processed a notification.","type":"string"},"___contact":{"description":"Contact details for a human to contact about the subscription. The primary use of this for system administrator troubleshooting.","type":"array","items":{"$eref":{"allOf":[{"$ref":"Element#\/definitions\/Element"},{"description":"Details for all kinds of technology mediated contact points for a person or organization, including telephone, email, etc.","properties":{"____rank":{"description":"Extensions for rank","$ref":"Element#\/definitions\/Element"},"____use":{"description":"Extensions for use","$ref":"Element#\/definitions\/Element"},"___rank":{"pattern":"[1-9][0-9]*","description":"Specifies a preferred order in which to use a set of contacts. Contacts are ranked with lower values coming before higher values.","type":"number"},"___period":{"description":"Time period when the contact point was\/is in use.","$ref":"Period#\/definitions\/Period"},"___value":{"description":"The actual contact point details, in a form that is meaningful to the designated communication system (i.e. phone number or email address).","type":"string"},"___use":{"description":"Identifies the purpose for the contact point.","type":"string","enum":["home","work","temp","old","mobile"]},"____value":{"description":"Extensions for value","$ref":"Element#\/definitions\/Element"},"____system":{"description":"Extensions for system","$ref":"Element#\/definitions\/Element"},"___system":{"description":"Telecommunications form for contact point - what communications system is required to make use of the contact.","type":"string","enum":["phone","fax","email","pager","url","sms","other"]}}}]}}},"____error":{"description":"Extensions for error","$fref":"Element#\/definitions\/Element"},"____reason":{"description":"Extensions for reason","$fref":"Element#\/definitions\/Element"},"____criteria":{"description":"Extensions for criteria","$fref":"Element#\/definitions\/Element"},"___resourceType":{"description":"This is a Subscription resource","type":"string","enum":["Subscription"]},"___end":{"description":"The time for the server to turn the subscription off.","type":"string"},"___tag":{"description":"A tag to add to any resource that matches the criteria, after the subscription is processed.","type":"array","items":{"$eref":{"allOf":[{"$ref":"Element#\/definitions\/Element"},{"description":"A reference to a code defined by a terminology system.","properties":{"____version":{"description":"Extensions for version","$ref":"Element#\/definitions\/Element"},"___version":{"description":"The version of the code system which was used when choosing this code. Note that a well-maintained code system does not need the version reported, because the meaning of codes is consistent across versions. However this cannot consistently be assured. and when the meaning is not guaranteed to be consistent, the version SHOULD be exchanged.","type":"string"},"____code":{"description":"Extensions for code","$ref":"Element#\/definitions\/Element"},"___code":{"pattern":"[^\\s]+([\\s]?[^\\s]+)*","description":"A symbol in syntax defined by the system. The symbol may be a predefined code or an expression in a syntax defined by the coding system (e.g. post-coordination).","type":"string"},"___display":{"description":"A representation of the meaning of the code in the system, following the rules of the system.","type":"string"},"____display":{"description":"Extensions for display","$ref":"Element#\/definitions\/Element"},"___userSelected":{"description":"Indicates that this coding was chosen by a user directly - i.e. off a pick list of available items (codes or displays).","type":"boolean"},"____system":{"description":"Extensions for system","$ref":"Element#\/definitions\/Element"},"____userSelected":{"description":"Extensions for userSelected","$ref":"Element#\/definitions\/Element"},"___system":{"description":"The identification of the code system that defines the meaning of the symbol in the code.","type":"string"}}}]}}}},"required":["channel","resourceType"]}]}}}