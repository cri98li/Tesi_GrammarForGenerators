{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"Model describes data that are needed to collect incident states and the task to solve it ","title":"Incident model","type":"object","version":1,"definitions":{"_88Incident":{"__tags":["rest","joined","mongodb"],"description":"A detected failure state that needs some actions to solve it","type":"object","properties":{"___references":{"__tags":["recursion"],"type":"array","items":{"__ref":"#\/definitions\/Incident","format":"uuid","type":"string"}},"___description":{"description":"some more words to describe the problem","type":"string"},"___states":{"type":"array","items":{"$eref":{"type":"object","properties":{"___startComment":{"description":"additional information about the state","type":"string"},"___startedBy":{"description":"user name that starts the processing","type":"string"},"___assignTo":{"description":"user name that ends the","type":"string"},"___endedBy":{"description":"user name that ends the","type":"string"},"___startDate":{"format":"date-time","description":"when occurs the event that became the incident","type":"string"},"___endDate":{"format":"date-time","description":"end date of that state","type":"string"},"___stateType":{"__ref":"#\/definitions\/IncidentStateType","description":"name of the state","type":"string"},"___endComment":{"description":"additional information about closing the state","type":"string"}}}}},"___type":{"__ref":"#\/definitions\/IncidentType","description":"what type has this event","type":"string"},"___tags":{"type":"array","items":{"__ref":"#\/definitions\/IncidentTag","format":"uuid","type":"string"}},"___number":{"description":"all the number (technical names) of this object","type":"object","properties":{"___external":{"description":"number in external systems for that event","type":"string"},"___internal":{"description":"internal number of that event","type":"string"}}},"___urgency":{"description":"some kind of priority","type":"integer"},"___rawData":{"description":"container for additional, app-specific content","type":"object","properties":{"___type":{"description":"to identify the raw data, different versions can be encoded in that string","type":"string"},"___mimeType":{"description":"how are the data encoded","type":"string"},"___data":{"type":"string"}}},"___innerReferences":{"__tags":["recursion"],"type":"array","items":{"type":"object","properties":{"___startComment":{"description":"additional information about the state","type":"string"},"___startedBy":{"description":"user name that starts the processing","type":"string"},"___startDate":{"format":"date-time","description":"when occurs the event that became the incident","type":"string"}}}},"___guid":{"format":"uuid","type":"string"}}},"_88IncidentState":{"type":"object","properties":{"___startComment":{"description":"additional information about the state","type":"string"},"___startedBy":{"description":"user name that starts the processing","type":"string"},"___assignTo":{"description":"user name that ends the","type":"string"},"___endedBy":{"description":"user name that ends the","type":"string"},"___startDate":{"format":"date-time","description":"when occurs the event that became the incident","type":"string"},"___endDate":{"format":"date-time","description":"end date of that state","type":"string"},"___stateType":{"__ref":"#\/definitions\/IncidentStateType","description":"name of the state","type":"string"},"___endComment":{"description":"additional information about closing the state","type":"string"}}},"_88IncidentStateType":{"description":"occurs, entered, resolved, ...","type":"object","properties":{"___name":{"description":"a describing name","type":"string"},"___active":{"description":"is this entry still active","type":"boolean"},"___order":{"description":"order in that the states should follow","type":"boolean"},"___incidentTypeId":{"description":"what incident types is that state related to (f.e. intersections, INES nets, public transport route, ...)","type":"array","items":{"__ref":"#\/definitions\/IncidentType","format":"uuid","type":"string"}},"___locked":{"description":"entry is needed and should not be deleted","type":"boolean"},"___progress":{"description":"order in that the states should follow","type":"string","enum":["new","doing","done"]},"___domain_id":{"__ref":".\/shared\/domain.json","format":"uuid","description":"what is the related domain","type":"string"},"___comment":{"description":"some more words to explain","type":"string"},"___guid":{"format":"uuid","description":"global identifier","type":"string"}}},"_88IncidentTag":{"allOf":[{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"A tag is some kind of a global keyword that could be set for some entries","id":"http:\/\/schlothauer.de\/schemas\/shared\/domain.json","type":"object","version":1,"properties":{"___active":{"type":"boolean"},"___text":{"description":"Short text that describes the tag","type":"string"},"___color":{"description":"color that marks this tag","type":"string"},"___internal":{"type":"boolean"},"___comment":{"description":"Comment to that tab","type":"string"},"___group":{"description":"Short text that describes the tag","type":"string"},"___created":{"format":"datetime","type":"string"},"___guid":{"format":"uuid","type":"string"}},"required":["guid","text"]}}],"__tags":["rest","mongodb"],"description":"key-word for additional incident tagging","type":"object"},"_88IncidentType":{"__tags":["rest","mongodb","selList"],"description":"types of incidents","type":"object","properties":{"___name":{"description":"a describing name","type":"string"},"___active":{"description":"is this entry still active","type":"boolean"},"___locked":{"description":"entry is needed and should not be deleted","type":"boolean"},"___objectGroupIds":{"description":"what groups is that object related to (f.e. intersections, INES nets, public transport route, ...)","type":"array","items":{"format":"uuid","type":"string"}},"___comment":{"description":"some more words to explain","type":"string"},"___guid":{"format":"uuid","description":"global identifier","type":"string"}}},"_88IncidentComment":{"allOf":[{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"A comment for an data entry","id":"http:\/\/schlothauer.de\/schemas\/shared\/domain.json","type":"object","version":1,"properties":{"___gid":{"format":"uuid","description":"global identifier","type":"string"},"___text":{"description":"comment text","type":"string"},"___user":{"description":"who did this comment","type":"string"},"___date":{"format":"date-time","description":"date of entry","type":"string"}},"required":["text","date","user"],"tags":["no_unbound_get","no_unbound_add"]}},{"properties":{"___domain_id":{"__ref":".\/shared\/domain.json","format":"uuid","description":"what is the related domain","type":"string"},"___incidentId":{"__ref":"#\/definitions\/Incident","format":"uuid","type":"string"},"___guid":{"__tags":["notDisplayed","notNull"],"format":"uuid","description":"object specific ID of that entry","type":"string"}}}],"__tags":["rest","joined","mongodb"],"description":"Comment entries to incidents","type":"object"}}}