{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","additionalProperties":false,"title":"Zoe application description schema","type":"object","definitions":{"_88env_var":{"type":"array","items":[{"regex":"^[A-Z][A-Z0-9]*$","type":"string"},{"type":"string"}]},"_88volume":{"type":"object","properties":{"___name":{"regex":"^[a-zA-Z0-9.]?$","minLength":3,"type":"string"},"___read_only":{"type":"boolean"},"___path":{"regex":"^\/[a-zA-Z0-9]?[a-zA-Z0-9.\/]*$","minLength":2,"type":"string"}}},"_88service":{"additionalProperties":false,"type":"object","properties":{"___work_dir":{"minLength":1,"type":"string"},"___ports":{"minItems":0,"uniqueItems":true,"type":"array","items":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___name":{"minLength":3,"type":"string"},"___port_number":{"exclusiveMaximum":true,"multipleOf":1,"maximum":65536,"exclusiveMinimum":true,"type":"number","minimum":0},"___url_template":{"regex":"^[a-z]?:\/\/HOST:PORT\/[a-zA-Z0-9.\/\\-_]$","type":"string"},"___proxy":{"type":"boolean"},"___protocol":{"type":"string","enum":["tcp","udp"]}},"required":["name","port_number","protocol","url_template"]}}},"___image":{"minLength":1,"type":"string"},"___startup_order":{"multipleOf":1,"type":"number"},"___labels":{"minItems":0,"uniqueItems":true,"type":"array","items":{"type":"string"}},"___environment":{"minItems":0,"uniqueItems":true,"type":"array","items":{"$eref":{"type":"array","items":[{"regex":"^[A-Z][A-Z0-9]*$","type":"string"},{"type":"string"}]}}},"___name":{"minLength":3,"pattern":"^[a-zA-Z0-9\\-]*$","type":"string","maxLength":16},"___command":{"oneOf":[{"minLength":1,"type":"string"},{"type":"null"}]},"___network":{"minLength":1,"type":"string"},"___essential_count":{"multipleOf":1,"type":"number","minimum":1},"___replicas":{"multipleOf":1,"type":"number","minimum":1},"___volumes":{"minItems":0,"uniqueItems":true,"type":"array","items":{"$eref":{"type":"object","properties":{"___name":{"regex":"^[a-zA-Z0-9.]?$","minLength":3,"type":"string"},"___read_only":{"type":"boolean"},"___path":{"regex":"^\/[a-zA-Z0-9]?[a-zA-Z0-9.\/]*$","minLength":2,"type":"string"}}}}},"___monitor":{"type":"boolean"},"___resources":{"additionalProperties":false,"type":"object","properties":{"___cores":{"additionalProperties":false,"type":"object","properties":{"___min":{"oneOf":[{"type":"number","exclusiveMinimum":true,"minimum":0},{"type":"null"}]},"___max":{"oneOf":[{"type":"number"},{"type":"null"}]}},"required":["min","max"]},"___memory":{"additionalProperties":false,"type":"object","properties":{"___min":{"oneOf":[{"multipleOf":1,"type":"number","minimum":1024},{"type":"null"}]},"___max":{"oneOf":[{"multipleOf":1,"type":"number"},{"type":"null"}]}},"required":["min","max"]},"___shm":{"multipleOf":1,"type":"number","minimum":0}},"required":["memory","cores"]},"___total_count":{"multipleOf":1,"type":"number","minimum":1}},"required":["name","image","ports","environment","volumes","monitor","startup_order","essential_count","total_count","resources","command"]},"_88port":{"additionalProperties":false,"type":"object","properties":{"___name":{"minLength":3,"type":"string"},"___port_number":{"exclusiveMaximum":true,"multipleOf":1,"maximum":65536,"exclusiveMinimum":true,"type":"number","minimum":0},"___url_template":{"regex":"^[a-z]?:\/\/HOST:PORT\/[a-zA-Z0-9.\/\\-_]$","type":"string"},"___proxy":{"type":"boolean"},"___protocol":{"type":"string","enum":["tcp","udp"]}},"required":["name","port_number","protocol","url_template"]}},"properties":{"___name":{"minLength":3,"pattern":"^[@a-zA-Z0-9\\-]*$","type":"string","maxLength":128},"___version":{"multipleOf":1,"type":"number","minimum":3},"___services":{"minItems":1,"uniqueItems":true,"type":"array","items":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___work_dir":{"minLength":1,"type":"string"},"___ports":{"minItems":0,"uniqueItems":true,"type":"array","items":{"$ref":"#\/definitions\/port"}},"___image":{"minLength":1,"type":"string"},"___startup_order":{"multipleOf":1,"type":"number"},"___labels":{"minItems":0,"uniqueItems":true,"type":"array","items":{"type":"string"}},"___environment":{"minItems":0,"uniqueItems":true,"type":"array","items":{"$ref":"#\/definitions\/env_var"}},"___name":{"minLength":3,"pattern":"^[a-zA-Z0-9\\-]*$","type":"string","maxLength":16},"___command":{"oneOf":[{"minLength":1,"type":"string"},{"type":"null"}]},"___network":{"minLength":1,"type":"string"},"___essential_count":{"multipleOf":1,"type":"number","minimum":1},"___replicas":{"multipleOf":1,"type":"number","minimum":1},"___volumes":{"minItems":0,"uniqueItems":true,"type":"array","items":{"$ref":"#\/definitions\/volume"}},"___monitor":{"type":"boolean"},"___resources":{"additionalProperties":false,"type":"object","properties":{"___cores":{"additionalProperties":false,"type":"object","properties":{"___min":{"oneOf":[{"type":"number","exclusiveMinimum":true,"minimum":0},{"type":"null"}]},"___max":{"oneOf":[{"type":"number"},{"type":"null"}]}},"required":["min","max"]},"___memory":{"additionalProperties":false,"type":"object","properties":{"___min":{"oneOf":[{"multipleOf":1,"type":"number","minimum":1024},{"type":"null"}]},"___max":{"oneOf":[{"multipleOf":1,"type":"number"},{"type":"null"}]}},"required":["min","max"]},"___shm":{"multipleOf":1,"type":"number","minimum":0}},"required":["memory","cores"]},"___total_count":{"multipleOf":1,"type":"number","minimum":1}},"required":["name","image","ports","environment","volumes","monitor","startup_order","essential_count","total_count","resources","command"]}}},"___will_end":{"type":"boolean"},"___size":{"type":"integer","minimum":0}},"required":["name","will_end","size","version","services"]}