{"oneOf":[{"$eref":{"description":"Activity data for all devices.","type":"array","items":[{"$ref":"#\/definitions\/deviceActivities"}]}},{"$eref":{"description":"Event data for all sessions.","type":"array","items":[{"$ref":"#\/definitions\/deviceEvents"}]}},{"$eref":{"description":"All sessions.","type":"array","items":[{"$ref":"#\/definitions\/session"}]}},{"$eref":{"description":"All jobs.","type":"array","items":[{"$ref":"#\/definitions\/job"}]}},{"$eref":{"description":"All pushes.","type":"array","items":[{"$ref":"#\/definitions\/push"}]}},{"$eref":{"description":"All tokens.","type":"array","items":[{"$ref":"#\/definitions\/token"}]}}],"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"http:\/\/www.microsoft.com\/azure\/engagement\/schema\/export\/draft-01","definitions":{"_88activityExport":{"description":"Activity data for all devices.","type":"array","items":[{"$eref":{"description":"Device with associated events.","type":"object","properties":{"___sessionId":{"$ref":"#\/definitions\/sessionId"},"___activities":{"title":"Activities.","type":"array","items":[{"$ref":"#\/definitions\/activity"}]}},"required":["sessionId","activities"]}}]},"_88campaignId":{"type":"integer"},"_88propertyBag":{"maxProperties":200,"additionalProperties":{"type":["string","number","boolean","null"]},"type":"object"},"_88datetime":{"format":"date-time","pattern":"^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])((T| )(((2[0-3])|([01][0-9])):([0-5][0-9]):([0-5][0-9])(\\.[0-9]{0,9})?)?(Z|[+-](2[0-3]|[01][0-9]):([0-5][0-9]))?)?$","type":"string"},"_88tokenValue":{"type":"string"},"_88deviceEvents":{"description":"Device with associated events.","type":"object","properties":{"___deviceId":{"$eref":{"$ref":"#\/definitions\/guid"}},"___events":{"title":"Events.","type":"array","items":[{"$eref":{"type":"object","properties":{"___name":{"$ref":"#\/definitions\/eventName"},"___timestamp":{"$ref":"#\/definitions\/datetime"},"___infoId":{"$ref":"#\/definitions\/infoId"},"___sessionId":{"$ref":"#\/definitions\/sessionId"},"___extras":{"$ref":"#\/definitions\/propertyBag"},"___locationId":{"$ref":"#\/definitions\/locationId"}},"required":["name","timestamp","infoId","sessionId","locationId"]}}]}},"required":["deviceId","events"]},"_88event":{"type":"object","properties":{"___name":{"$eref":{"type":"string"}},"___timestamp":{"$eref":{"format":"date-time","pattern":"^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])((T| )(((2[0-3])|([01][0-9])):([0-5][0-9]):([0-5][0-9])(\\.[0-9]{0,9})?)?(Z|[+-](2[0-3]|[01][0-9]):([0-5][0-9]))?)?$","type":"string"}},"___infoId":{"$eref":{"$ref":"#\/definitions\/guid"}},"___sessionId":{"$eref":{"$ref":"#\/definitions\/guid"}},"___extras":{"$eref":{"maxProperties":200,"additionalProperties":{"type":["string","number","boolean","null"]},"type":"object"}},"___locationId":{"$eref":{"$ref":"#\/definitions\/guid"}}},"required":["name","timestamp","infoId","sessionId","locationId"]},"_88session":{"type":"object","properties":{"___deviceId":{"$eref":{"$ref":"#\/definitions\/guid"}},"___start":{"$eref":{"format":"date-time","pattern":"^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])((T| )(((2[0-3])|([01][0-9])):([0-5][0-9]):([0-5][0-9])(\\.[0-9]{0,9})?)?(Z|[+-](2[0-3]|[01][0-9]):([0-5][0-9]))?)?$","type":"string"}},"___infoId":{"$eref":{"$ref":"#\/definitions\/guid"}},"___sessionId":{"$eref":{"$ref":"#\/definitions\/guid"}},"___end":{"$eref":{"format":"date-time","pattern":"^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])((T| )(((2[0-3])|([01][0-9])):([0-5][0-9]):([0-5][0-9])(\\.[0-9]{0,9})?)?(Z|[+-](2[0-3]|[01][0-9]):([0-5][0-9]))?)?$","type":"string"}},"___locationId":{"$eref":{"$ref":"#\/definitions\/guid"}}},"required":["sessionId","deviceId"]},"_88activity":{"type":"object","properties":{"___name":{"$eref":{"type":"string"}},"___timestamp":{"$eref":{"format":"date-time","pattern":"^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])((T| )(((2[0-3])|([01][0-9])):([0-5][0-9]):([0-5][0-9])(\\.[0-9]{0,9})?)?(Z|[+-](2[0-3]|[01][0-9]):([0-5][0-9]))?)?$","type":"string"}},"___extras":{"type":"object"}},"required":["name","timestamp"]},"_88pushExport":{"description":"All pushes.","type":"array","items":[{"$eref":{"type":"object","properties":{"___deviceId":{"$ref":"#\/definitions\/deviceId"},"___status":{"$ref":"#\/definitions\/campaignStatus"},"___campaignType":{"$ref":"#\/definitions\/campaignType"},"___campaignId":{"$ref":"#\/definitions\/campaignId"}},"required":["deviceId","campaignType","campaignId","status"]}}]},"_88eventExport":{"description":"Event data for all sessions.","type":"array","items":[{"$eref":{"description":"Device with associated events.","type":"object","properties":{"___deviceId":{"$ref":"#\/definitions\/deviceId"},"___events":{"title":"Events.","type":"array","items":[{"$ref":"#\/definitions\/event"}]}},"required":["deviceId","events"]}}]},"_88locationId":{"$eref":{"pattern":"^([a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12})|([a-fA-F0-9]{32})$","type":"string"}},"_88eventName":{"type":"string"},"_88infoId":{"$eref":{"pattern":"^([a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12})|([a-fA-F0-9]{32})$","type":"string"}},"_88tokenType":{"type":"string"},"_88campaignStatusFlag":{"type":"string","enum":["None","Queued","Dropped","InAppNotificationDisplayed","InAppNotificationActioned","InAppNotificationExited","SystemNotificationDisplayed","SystemNotificationActioned","SystemNotificationExited","ContentDisplayed","ContentActioned","ContentExited"]},"_88token":{"type":"object","properties":{"___deviceId":{"$eref":{"$ref":"#\/definitions\/guid"}},"___type":{"$eref":{"type":"string"}},"___token":{"$eref":{"type":"string"}}},"required":["deviceId","token","type"]},"_88deviceActivities":{"description":"Device with associated events.","type":"object","properties":{"___sessionId":{"$eref":{"$ref":"#\/definitions\/guid"}},"___activities":{"title":"Activities.","type":"array","items":[{"$eref":{"type":"object","properties":{"___name":{"$ref":"#\/definitions\/activityName"},"___timestamp":{"$ref":"#\/definitions\/datetime"},"___extras":{"type":"object"}},"required":["name","timestamp"]}}]}},"required":["sessionId","activities"]},"_88jobName":{"type":"string"},"_88campaignStatus":{"uniqueItems":true,"type":"array","items":{"$eref":{"type":"string","enum":["None","Queued","Dropped","InAppNotificationDisplayed","InAppNotificationActioned","InAppNotificationExited","SystemNotificationDisplayed","SystemNotificationActioned","SystemNotificationExited","ContentDisplayed","ContentActioned","ContentExited"]}}},"_88campaignType":{"type":"string","enum":["Announcement","DataPush","NativePush","Poll"]},"_88sessionExport":{"description":"All sessions.","type":"array","items":[{"$eref":{"type":"object","properties":{"___deviceId":{"$ref":"#\/definitions\/deviceId"},"___start":{"$ref":"#\/definitions\/datetime"},"___infoId":{"$ref":"#\/definitions\/infoId"},"___sessionId":{"$ref":"#\/definitions\/sessionId"},"___end":{"$ref":"#\/definitions\/datetime"},"___locationId":{"$ref":"#\/definitions\/locationId"}},"required":["sessionId","deviceId"]}}]},"_88sessionId":{"$eref":{"pattern":"^([a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12})|([a-fA-F0-9]{32})$","type":"string"}},"_88guid":{"pattern":"^([a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12})|([a-fA-F0-9]{32})$","type":"string"},"_88name":{"type":"string"},"_88push":{"type":"object","properties":{"___deviceId":{"$eref":{"$ref":"#\/definitions\/guid"}},"___status":{"$eref":{"uniqueItems":true,"type":"array","items":{"$ref":"#\/definitions\/campaignStatusFlag"}}},"___campaignType":{"$eref":{"type":"string","enum":["Announcement","DataPush","NativePush","Poll"]}},"___campaignId":{"$eref":{"type":"integer"}}},"required":["deviceId","campaignType","campaignId","status"]},"_88job":{"type":"object","properties":{"___name":{"$eref":{"type":"string"}},"___deviceId":{"$eref":{"$ref":"#\/definitions\/guid"}},"___start":{"$eref":{"format":"date-time","pattern":"^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])((T| )(((2[0-3])|([01][0-9])):([0-5][0-9]):([0-5][0-9])(\\.[0-9]{0,9})?)?(Z|[+-](2[0-3]|[01][0-9]):([0-5][0-9]))?)?$","type":"string"}},"___infoId":{"$eref":{"$ref":"#\/definitions\/guid"}},"___jobId":{"$eref":{"$ref":"#\/definitions\/guid"}},"___extras":{"$eref":{"maxProperties":200,"additionalProperties":{"type":["string","number","boolean","null"]},"type":"object"}},"___end":{"$eref":{"format":"date-time","pattern":"^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])((T| )(((2[0-3])|([01][0-9])):([0-5][0-9]):([0-5][0-9])(\\.[0-9]{0,9})?)?(Z|[+-](2[0-3]|[01][0-9]):([0-5][0-9]))?)?$","type":"string"}}},"required":["jobId","name","deviceId","infoId"]},"_88deviceId":{"$eref":{"pattern":"^([a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12})|([a-fA-F0-9]{32})$","type":"string"}},"_88activityName":{"type":"string"},"_88tokenExport":{"description":"All tokens.","type":"array","items":[{"$eref":{"type":"object","properties":{"___deviceId":{"$ref":"#\/definitions\/deviceId"},"___type":{"$ref":"#\/definitions\/tokenType"},"___token":{"$ref":"#\/definitions\/tokenValue"}},"required":["deviceId","token","type"]}}]},"_88jobId":{"$eref":{"pattern":"^([a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12})|([a-fA-F0-9]{32})$","type":"string"}},"_88jobExport":{"description":"All jobs.","type":"array","items":[{"$eref":{"type":"object","properties":{"___name":{"$ref":"#\/definitions\/jobName"},"___deviceId":{"$ref":"#\/definitions\/deviceId"},"___start":{"$ref":"#\/definitions\/datetime"},"___infoId":{"$ref":"#\/definitions\/infoId"},"___jobId":{"$ref":"#\/definitions\/jobId"},"___extras":{"$ref":"#\/definitions\/propertyBag"},"___end":{"$ref":"#\/definitions\/datetime"}},"required":["jobId","name","deviceId","infoId"]}}]}}}