{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"Microsoft BatchAI Resource Types","id":"https:\/\/schema.management.azure.com\/schemas\/2017-09-01-preview\/Microsoft.BatchAI.json#","title":"Microsoft.BatchAI","resourceDefinitions":{"fileServers":{"description":"Microsoft.BatchAI\/fileServers","type":"object","properties":{"___location":{"description":"The region in which to create the File Server.","type":"string"},"___name":{"oneOf":[{"minLength":1,"pattern":"^[-\\w\\._]+$","type":"string","maxLength":64},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The name of the file server within the specified resource group. File server names can only contain a combination of alphanumeric characters along with dash (-) and underscore (_). The name must be from 1 through 64 characters long."},"___type":{"type":"string","enum":["Microsoft.BatchAI\/fileServers"]},"___tags":{"oneOf":[{"additionalProperties":{"type":"string"},"type":"object","properties":{}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The user specified tags associated with the File Server."},"___properties":{"oneOf":[{"$eref":{"description":"The properties of a file server.","type":"object","properties":{"___sshConfiguration":{"oneOf":[{"$ref":"#\/definitions\/SshConfiguration"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"SSH configuration settings for the VM"},"___dataDisks":{"oneOf":[{"$ref":"#\/definitions\/DataDisks"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Settings for the data disk which would be created for the File Server."},"___subnet":{"oneOf":[{"$ref":"#\/definitions\/ResourceId"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Represents a resource ID. For example, for a subnet, it is the resource URL for the subnet."},"___vmSize":{"description":"For information about available VM sizes for fileservers from the Virtual Machines Marketplace, see Sizes for Virtual Machines (Linux).","type":"string"}},"required":["dataDisks","sshConfiguration","vmSize"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The properties of a file server."},"___apiVersion":{"type":"string","enum":["2017-09-01-preview"]}},"required":["apiVersion","location","name","properties","type"]},"jobs":{"description":"Microsoft.BatchAI\/jobs","type":"object","properties":{"___location":{"description":"The region in which to create the job.","type":"string"},"___name":{"oneOf":[{"minLength":1,"pattern":"^[-\\w\\._]+$","type":"string","maxLength":64},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The name of the job within the specified resource group. Job names can only contain a combination of alphanumeric characters along with dash (-) and underscore (_). The name must be from 1 through 64 characters long."},"___type":{"type":"string","enum":["Microsoft.BatchAI\/jobs"]},"___tags":{"oneOf":[{"additionalProperties":{"type":"string"},"type":"object","properties":{}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The user specified tags associated with the job."},"___properties":{"oneOf":[{"$eref":{"description":"The properties of a Batch AI job.","type":"object","properties":{"___constraints":{"oneOf":[{"$ref":"#\/definitions\/JobBasePropertiesConstraints"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Constraints associated with the Job."},"___outputDirectories":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/OutputDirectory"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}]},"___jobPreparation":{"oneOf":[{"$ref":"#\/definitions\/JobPreparation"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Specifies the settings for job preparation."},"___inputDirectories":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/InputDirectory"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}]},"___experimentName":{"description":"Describe the experiment information of the job","type":"string"},"___chainerSettings":{"oneOf":[{"$ref":"#\/definitions\/ChainerSettings"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Specifies the settings for Chainer job."},"___cluster":{"oneOf":[{"$ref":"#\/definitions\/ResourceId"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Represents a resource ID. For example, for a subnet, it is the resource URL for the subnet."},"___nodeCount":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The job will be gang scheduled on that many compute nodes"},"___priority":{"oneOf":[{"default":"0","type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Priority associated with the job. Priority values can range from -1000 to 1000, with -1000 being the lowest priority and 1000 being the highest priority. The default value is 0."},"___customToolkitSettings":{"oneOf":[{"$ref":"#\/definitions\/CustomToolkitSettings"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Specifies the settings for a custom tool kit job."},"___caffe2Settings":{"oneOf":[{"$ref":"#\/definitions\/Caffe2Settings"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Specifies the settings for Caffe2 job."},"___cntkSettings":{"oneOf":[{"$ref":"#\/definitions\/CNTKsettings"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Specifies the settings for CNTK (aka Microsoft Cognitive Toolkit) job."},"___tensorFlowSettings":{"oneOf":[{"$ref":"#\/definitions\/TensorFlowSettings"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Specifies the settings for TensorFlow job."},"___stdOutErrPathPrefix":{"description":"The path where the Batch AI service will upload stdout and stderror of the job.","type":"string"},"___caffeSettings":{"oneOf":[{"$ref":"#\/definitions\/CaffeSettings"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Specifies the settings for Caffe job."},"___environmentVariables":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/EnvironmentSetting"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Batch AI service sets the following environment variables for all jobs: AZ_BATCHAI_INPUT_id, AZ_BATCHAI_OUTPUT_id, AZ_BATCHAI_NUM_GPUS_PER_NODE. For distributed TensorFlow jobs, following additional environment variables are set by the Batch AI Service: AZ_BATCHAI_PS_HOSTS, AZ_BATCHAI_WORKER_HOSTS"},"___containerSettings":{"oneOf":[{"$ref":"#\/definitions\/ContainerSettings"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Settings for the container to be downloaded."}},"required":["cluster","nodeCount","stdOutErrPathPrefix"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The properties of a Batch AI job."},"___apiVersion":{"type":"string","enum":["2017-09-01-preview"]}},"required":["apiVersion","location","name","properties","type"]},"clusters":{"description":"Microsoft.BatchAI\/clusters","type":"object","properties":{"___location":{"description":"The region in which to create the cluster.","type":"string"},"___name":{"oneOf":[{"minLength":1,"pattern":"^[-\\w\\._]+$","type":"string","maxLength":64},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The name of the cluster within the specified resource group. Cluster names can only contain a combination of alphanumeric characters along with dash (-) and underscore (_). The name must be from 1 through 64 characters long."},"___type":{"type":"string","enum":["Microsoft.BatchAI\/clusters"]},"___tags":{"oneOf":[{"additionalProperties":{"type":"string"},"type":"object","properties":{}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The user specified tags associated with the Cluster."},"___properties":{"oneOf":[{"$eref":{"description":"The properties of a Cluster.","type":"object","properties":{"___vmPriority":{"oneOf":[{"type":"string","enum":["dedicated","lowpriority"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Default is dedicated."},"___virtualMachineConfiguration":{"oneOf":[{"$ref":"#\/definitions\/VirtualMachineConfiguration"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Settings for OS image."},"___nodeSetup":{"oneOf":[{"$ref":"#\/definitions\/NodeSetup"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Use this to prepare the VM. NOTE: The volumes specified in mountVolumes are mounted first and then the setupTask is run. Therefore the setup task can use local mountPaths in its execution."},"___scaleSettings":{"oneOf":[{"$ref":"#\/definitions\/ScaleSettings"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"At least one of manual or autoScale settings must be specified. Only one of manual or autoScale settings can be specified. If autoScale settings are specified, the system automatically scales the cluster up and down (within the supplied limits) based on the pending jobs on the cluster."},"___userAccountSettings":{"oneOf":[{"$ref":"#\/definitions\/UserAccountSettings"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Settings for user account that gets created on each on the nodes of a cluster."},"___subnet":{"oneOf":[{"$ref":"#\/definitions\/ResourceId"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Represents a resource ID. For example, for a subnet, it is the resource URL for the subnet."},"___vmSize":{"description":"All virtual machines in a cluster are the same size. For information about available VM sizes for clusters using images from the Virtual Machines Marketplace (see Sizes for Virtual Machines (Linux) or Sizes for Virtual Machines (Windows). Batch AI service supports all Azure VM sizes except STANDARD_A0 and those with premium storage (STANDARD_GS, STANDARD_DS, and STANDARD_DSV2 series).","type":"string"}},"required":["userAccountSettings","vmSize"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The properties of a Cluster."},"___apiVersion":{"type":"string","enum":["2017-09-01-preview"]}},"required":["apiVersion","location","name","properties","type"]}},"definitions":{"_88ChainerSettings":{"description":"Specifies the settings for Chainer job.","type":"object","properties":{"___commandLineArgs":{"type":"string"},"___pythonScriptFilePath":{"type":"string"},"___processCount":{"oneOf":[{"type":"integer"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The default value for this property is equal to nodeCount property"},"___pythonInterpreterPath":{"type":"string"}},"required":["pythonScriptFilePath"]},"_88DataDisks":{"description":"Settings for the data disk which would be created for the File Server.","type":"object","properties":{"___storageAccountType":{"oneOf":[{"type":"string","enum":["Standard_LRS","Premium_LRS"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}]},"___diskSizeInGB":{"oneOf":[{"type":"integer"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}]},"___diskCount":{"oneOf":[{"type":"integer"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}]}},"required":["diskCount","diskSizeInGB","storageAccountType"]},"_88ManualScaleSettings":{"description":"Manual scale settings for the cluster.","type":"object","properties":{"___nodeDeallocationOption":{"oneOf":[{"type":"string","enum":["requeue","terminate","waitforjobcompletion","unknown"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The default value is requeue."},"___targetNodeCount":{"oneOf":[{"default":"0","type":"integer"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Default is 0. If autoScaleSettings are not specified, then the Cluster starts with this target."}},"required":["targetNodeCount"]},"_88ClusterBaseProperties":{"description":"The properties of a Cluster.","type":"object","properties":{"___vmPriority":{"oneOf":[{"type":"string","enum":["dedicated","lowpriority"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Default is dedicated."},"___virtualMachineConfiguration":{"oneOf":[{"$eref":{"description":"Settings for OS image.","type":"object","properties":{"___imageReference":{"oneOf":[{"$ref":"#\/definitions\/ImageReference"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The image reference."}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Settings for OS image."},"___nodeSetup":{"oneOf":[{"$eref":{"description":"Use this to prepare the VM. NOTE: The volumes specified in mountVolumes are mounted first and then the setupTask is run. Therefore the setup task can use local mountPaths in its execution.","type":"object","properties":{"___mountVolumes":{"oneOf":[{"$ref":"#\/definitions\/MountVolumes"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Details of volumes to mount on the cluster."},"___setupTask":{"oneOf":[{"$ref":"#\/definitions\/SetupTask"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Specifies a setup task which can be used to customize the compute nodes of the cluster."}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Use this to prepare the VM. NOTE: The volumes specified in mountVolumes are mounted first and then the setupTask is run. Therefore the setup task can use local mountPaths in its execution."},"___scaleSettings":{"oneOf":[{"$eref":{"description":"At least one of manual or autoScale settings must be specified. Only one of manual or autoScale settings can be specified. If autoScale settings are specified, the system automatically scales the cluster up and down (within the supplied limits) based on the pending jobs on the cluster.","type":"object","properties":{"___manual":{"oneOf":[{"$ref":"#\/definitions\/ManualScaleSettings"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Manual scale settings for the cluster."},"___autoScale":{"oneOf":[{"$ref":"#\/definitions\/AutoScaleSettings"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The system automatically scales the cluster up and down (within minimumNodeCount and maximumNodeCount) based on the pending and running jobs on the cluster."}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"At least one of manual or autoScale settings must be specified. Only one of manual or autoScale settings can be specified. If autoScale settings are specified, the system automatically scales the cluster up and down (within the supplied limits) based on the pending jobs on the cluster."},"___userAccountSettings":{"oneOf":[{"$eref":{"description":"Settings for user account that gets created on each on the nodes of a cluster.","type":"object","properties":{"___adminUserSshPublicKey":{"type":"string"},"___adminUserName":{"type":"string"},"___adminUserPassword":{"type":"string"}},"required":["adminUserName"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Settings for user account that gets created on each on the nodes of a cluster."},"___subnet":{"oneOf":[{"$eref":{"description":"Represents a resource ID. For example, for a subnet, it is the resource URL for the subnet.","type":"object","properties":{"___id":{"description":"The ID of the resource","type":"string"}},"required":["id"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Represents a resource ID. For example, for a subnet, it is the resource URL for the subnet."},"___vmSize":{"description":"All virtual machines in a cluster are the same size. For information about available VM sizes for clusters using images from the Virtual Machines Marketplace (see Sizes for Virtual Machines (Linux) or Sizes for Virtual Machines (Windows). Batch AI service supports all Azure VM sizes except STANDARD_A0 and those with premium storage (STANDARD_GS, STANDARD_DS, and STANDARD_DSV2 series).","type":"string"}},"required":["userAccountSettings","vmSize"]},"_88CNTKsettings":{"description":"Specifies the settings for CNTK (aka Microsoft Cognitive Toolkit) job.","type":"object","properties":{"___commandLineArgs":{"type":"string"},"___pythonScriptFilePath":{"description":"This property can be specified only if the languageType is 'Python'.","type":"string"},"___processCount":{"oneOf":[{"type":"integer"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The default value for this property is equal to nodeCount property"},"___pythonInterpreterPath":{"description":"This property can be specified only if the languageType is 'Python'.","type":"string"},"___configFilePath":{"description":"This property can be specified only if the languageType is 'BrainScript'.","type":"string"},"___languageType":{"description":"Valid values are 'BrainScript' or 'Python'.","type":"string"}}},"_88FileServerBaseProperties":{"description":"The properties of a file server.","type":"object","properties":{"___sshConfiguration":{"oneOf":[{"$eref":{"description":"SSH configuration settings for the VM","type":"object","properties":{"___userAccountSettings":{"oneOf":[{"$ref":"#\/definitions\/UserAccountSettings"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Settings for user account that gets created on each on the nodes of a cluster."},"___publicIPsToAllow":{"oneOf":[{"type":"array","items":{"type":"string"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Default value is '*' can be used to match all source IPs. Maximum number of publicIPs that can be specified are 400."}},"required":["userAccountSettings"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"SSH configuration settings for the VM"},"___dataDisks":{"oneOf":[{"$eref":{"description":"Settings for the data disk which would be created for the File Server.","type":"object","properties":{"___storageAccountType":{"oneOf":[{"type":"string","enum":["Standard_LRS","Premium_LRS"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}]},"___diskSizeInGB":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}]},"___diskCount":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}]}},"required":["diskCount","diskSizeInGB","storageAccountType"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Settings for the data disk which would be created for the File Server."},"___subnet":{"oneOf":[{"$eref":{"description":"Represents a resource ID. For example, for a subnet, it is the resource URL for the subnet.","type":"object","properties":{"___id":{"description":"The ID of the resource","type":"string"}},"required":["id"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Represents a resource ID. For example, for a subnet, it is the resource URL for the subnet."},"___vmSize":{"description":"For information about available VM sizes for fileservers from the Virtual Machines Marketplace, see Sizes for Virtual Machines (Linux).","type":"string"}},"required":["dataDisks","sshConfiguration","vmSize"]},"_88AzureStorageCredentialsInfo":{"description":"Credentials to access Azure File Share.","type":"object","properties":{"___accountKey":{"description":"One of accountKey or accountKeySecretReference must be specified.","type":"string"},"___accountKeySecretReference":{"oneOf":[{"$eref":{"description":"Describes a reference to Key Vault Secret.","type":"object","properties":{"___secretUrl":{"type":"string"},"___sourceVault":{"oneOf":[{"$ref":"#\/definitions\/ResourceId"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Represents a resource ID. For example, for a subnet, it is the resource URL for the subnet."}},"required":["secretUrl","sourceVault"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Describes a reference to Key Vault Secret."}}},"_88TensorFlowSettings":{"description":"Specifies the settings for TensorFlow job.","type":"object","properties":{"___pythonScriptFilePath":{"type":"string"},"___pythonInterpreterPath":{"type":"string"},"___masterCommandLineArgs":{"type":"string"},"___parameterServerCommandLineArgs":{"description":"This property is optional for single machine training.","type":"string"},"___parameterServerCount":{"oneOf":[{"type":"integer"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"If specified, the value must be less than or equal to nodeCount. If not specified, the default value is equal to 1 for distributed TensorFlow training (This property is not applicable for single machine training). This property can be specified only for distributed TensorFlow training."},"___workerCount":{"oneOf":[{"type":"integer"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"If specified, the value must be less than or equal to (nodeCount * numberOfGPUs per VM). If not specified, the default value is equal to nodeCount. This property can be specified only for distributed TensorFlow training"},"___workerCommandLineArgs":{"description":"This property is optional for single machine training.","type":"string"}},"required":["masterCommandLineArgs","pythonScriptFilePath"]},"_88InputDirectory":{"description":"Input directory for the job.","type":"object","properties":{"___id":{"description":"It will be available for the job as an environment variable under AZ_BATCHAI_INPUT_id. The service will also provide the following  environment variable: AZ_BATCHAI_PREV_OUTPUT_Name. The value of the variable will be populated if the job is being retried after a previous failure, otherwise it will be set to nothing.","type":"string"},"___path":{"type":"string"}},"required":["id","path"]},"_88CaffeSettings":{"description":"Specifies the settings for Caffe job.","type":"object","properties":{"___commandLineArgs":{"type":"string"},"___pythonScriptFilePath":{"description":"This property cannot be specified if configFilePath is specified.","type":"string"},"___processCount":{"oneOf":[{"type":"integer"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The default value for this property is equal to nodeCount property"},"___pythonInterpreterPath":{"description":"This property can be specified only if the pythonScriptFilePath is specified.","type":"string"},"___configFilePath":{"description":"This property cannot be specified if pythonScriptFilePath is specified.","type":"string"}}},"_88AzureBlobFileSystemReference":{"description":"Provides required information, for the service to be able to mount Azure Blob Storage container on the cluster nodes.","type":"object","properties":{"___mountOptions":{"type":"string"},"___relativeMountPath":{"description":"Note that all blob file systems will be mounted under $AZ_BATCHAI_MOUNT_ROOT location.","type":"string"},"___containerName":{"type":"string"},"___accountName":{"type":"string"},"___credentials":{"oneOf":[{"$eref":{"description":"Credentials to access Azure File Share.","type":"object","properties":{"___accountKey":{"description":"One of accountKey or accountKeySecretReference must be specified.","type":"string"},"___accountKeySecretReference":{"oneOf":[{"$ref":"#\/definitions\/KeyVaultSecretReference"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Describes a reference to Key Vault Secret."}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Credentials to access Azure File Share."}},"required":["accountName","containerName","credentials","relativeMountPath"]},"_88SetupTask":{"description":"Specifies a setup task which can be used to customize the compute nodes of the cluster.","type":"object","properties":{"___runElevated":{"oneOf":[{"default":false,"type":"boolean"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}]},"___stdOutErrPathPrefix":{"description":"The path where the Batch AI service will upload the stdout and stderror of setup task.","type":"string"},"___commandLine":{"type":"string"},"___environmentVariables":{"oneOf":[{"type":"array","items":{"$eref":{"description":"A collection of environment variables to set.","type":"object","properties":{"___name":{"type":"string"},"___value":{"type":"string"}},"required":["name"]}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}]}},"required":["commandLine","stdOutErrPathPrefix"]},"_88AzureFileShareReference":{"description":"Details of the Azure File Share to mount on the cluster.","type":"object","properties":{"___directoryMode":{"default":"0777","description":"Default value is 0777. Valid only if OS is linux.","type":"string"},"___fileMode":{"default":"0777","description":"Default value is 0777. Valid only if OS is linux.","type":"string"},"___relativeMountPath":{"description":"Note that all file shares will be mounted under $AZ_BATCHAI_MOUNT_ROOT location.","type":"string"},"___azureFileUrl":{"type":"string"},"___accountName":{"type":"string"},"___credentials":{"oneOf":[{"$eref":{"description":"Credentials to access Azure File Share.","type":"object","properties":{"___accountKey":{"description":"One of accountKey or accountKeySecretReference must be specified.","type":"string"},"___accountKeySecretReference":{"oneOf":[{"$ref":"#\/definitions\/KeyVaultSecretReference"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Describes a reference to Key Vault Secret."}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Credentials to access Azure File Share."}},"required":["accountName","azureFileUrl","credentials","relativeMountPath"]},"_88PrivateRegistryCredentials":{"description":"Credentials to access a container image in a private repository.","type":"object","properties":{"___password":{"description":"One of password or passwordSecretReference must be specified.","type":"string"},"___username":{"type":"string"},"___passwordSecretReference":{"oneOf":[{"$eref":{"description":"Describes a reference to Key Vault Secret.","type":"object","properties":{"___secretUrl":{"type":"string"},"___sourceVault":{"oneOf":[{"$ref":"#\/definitions\/ResourceId"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Represents a resource ID. For example, for a subnet, it is the resource URL for the subnet."}},"required":["secretUrl","sourceVault"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Describes a reference to Key Vault Secret."}},"required":["username"]},"_88ResourceId":{"description":"Represents a resource ID. For example, for a subnet, it is the resource URL for the subnet.","type":"object","properties":{"___id":{"description":"The ID of the resource","type":"string"}},"required":["id"]},"_88SshConfiguration":{"description":"SSH configuration settings for the VM","type":"object","properties":{"___userAccountSettings":{"oneOf":[{"$eref":{"description":"Settings for user account that gets created on each on the nodes of a cluster.","type":"object","properties":{"___adminUserSshPublicKey":{"type":"string"},"___adminUserName":{"type":"string"},"___adminUserPassword":{"type":"string"}},"required":["adminUserName"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Settings for user account that gets created on each on the nodes of a cluster."},"___publicIPsToAllow":{"oneOf":[{"type":"array","items":{"type":"string"}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Default value is '*' can be used to match all source IPs. Maximum number of publicIPs that can be specified are 400."}},"required":["userAccountSettings"]},"_88MountVolumes":{"description":"Details of volumes to mount on the cluster.","type":"object","properties":{"___azureBlobFileSystems":{"oneOf":[{"type":"array","items":{"$eref":{"description":"Provides required information, for the service to be able to mount Azure Blob Storage container on the cluster nodes.","type":"object","properties":{"___mountOptions":{"type":"string"},"___relativeMountPath":{"description":"Note that all blob file systems will be mounted under $AZ_BATCHAI_MOUNT_ROOT location.","type":"string"},"___containerName":{"type":"string"},"___accountName":{"type":"string"},"___credentials":{"oneOf":[{"$ref":"#\/definitions\/AzureStorageCredentialsInfo"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Credentials to access Azure File Share."}},"required":["accountName","containerName","credentials","relativeMountPath"]}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"References to Azure Blob FUSE that are to be mounted to the cluster nodes."},"___unmanagedFileSystems":{"oneOf":[{"type":"array","items":{"$eref":{"description":"Details of the file system to mount on the compute cluster nodes.","type":"object","properties":{"___mountCommand":{"type":"string"},"___relativeMountPath":{"description":"Note that all file shares will be mounted under $AZ_BATCHAI_MOUNT_ROOT location.","type":"string"}},"required":["mountCommand","relativeMountPath"]}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}]},"___azureFileShares":{"oneOf":[{"type":"array","items":{"$eref":{"description":"Details of the Azure File Share to mount on the cluster.","type":"object","properties":{"___directoryMode":{"default":"0777","description":"Default value is 0777. Valid only if OS is linux.","type":"string"},"___fileMode":{"default":"0777","description":"Default value is 0777. Valid only if OS is linux.","type":"string"},"___relativeMountPath":{"description":"Note that all file shares will be mounted under $AZ_BATCHAI_MOUNT_ROOT location.","type":"string"},"___azureFileUrl":{"type":"string"},"___accountName":{"type":"string"},"___credentials":{"oneOf":[{"$ref":"#\/definitions\/AzureStorageCredentialsInfo"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Credentials to access Azure File Share."}},"required":["accountName","azureFileUrl","credentials","relativeMountPath"]}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"References to Azure File Shares that are to be mounted to the cluster nodes."},"___fileServers":{"oneOf":[{"type":"array","items":{"$eref":{"description":"Provides required information, for the service to be able to mount Azure FileShare on the cluster nodes.","type":"object","properties":{"___sourceDirectory":{"description":"If this property is not specified, the entire File Server will be mounted.","type":"string"},"___mountOptions":{"type":"string"},"___fileServer":{"oneOf":[{"$ref":"#\/definitions\/ResourceId"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Represents a resource ID. For example, for a subnet, it is the resource URL for the subnet."},"___relativeMountPath":{"description":"Note that all file shares will be mounted under $AZ_BATCHAI_MOUNT_ROOT location.","type":"string"}},"required":["fileServer","relativeMountPath"]}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}]}}},"_88CustomToolkitSettings":{"description":"Specifies the settings for a custom tool kit job.","type":"object","properties":{"___commandLine":{"type":"string"}}},"_88VirtualMachineConfiguration":{"description":"Settings for OS image.","type":"object","properties":{"___imageReference":{"oneOf":[{"$eref":{"description":"The image reference.","type":"object","properties":{"___version":{"type":"string"},"___offer":{"type":"string"},"___sku":{"type":"string"},"___publisher":{"type":"string"}},"required":["offer","publisher","sku"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The image reference."}}},"_88Caffe2Settings":{"description":"Specifies the settings for Caffe2 job.","type":"object","properties":{"___commandLineArgs":{"type":"string"},"___pythonScriptFilePath":{"type":"string"},"___pythonInterpreterPath":{"type":"string"}},"required":["pythonScriptFilePath"]},"_88OutputDirectory":{"description":"Output directory for the job.","type":"object","properties":{"___createNew":{"oneOf":[{"default":true,"type":"boolean"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Default is true. If false, then the directory is not created and can be any directory path that the user specifies."},"___type":{"oneOf":[{"type":"string","enum":["model","logs","summary","custom"]},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Default value is Custom. The possible values are Model, Logs, Summary, and Custom. Users can use multiple enums for a single directory. Eg. outPutType='Model,Logs, Summary'."},"___pathPrefix":{"description":"NOTE: This is an absolute path to prefix. E.g. $AZ_BATCHAI_MOUNT_ROOT\/MyNFS\/MyLogs.","type":"string"},"___pathSuffix":{"description":"The suffix path where the output directory will be created.","type":"string"},"___id":{"description":"It will be available for the job as an environment variable under AZ_BATCHAI_OUTPUT_id.","type":"string"}},"required":["id","pathPrefix"]},"_88AutoScaleSettings":{"description":"The system automatically scales the cluster up and down (within minimumNodeCount and maximumNodeCount) based on the pending and running jobs on the cluster.","type":"object","properties":{"___initialNodeCount":{"oneOf":[{"default":"0","type":"integer"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}]},"___minimumNodeCount":{"oneOf":[{"type":"integer"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}]},"___maximumNodeCount":{"oneOf":[{"type":"integer"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}]}},"required":["maximumNodeCount","minimumNodeCount"]},"_88UnmanagedFileSystemReference":{"description":"Details of the file system to mount on the compute cluster nodes.","type":"object","properties":{"___mountCommand":{"type":"string"},"___relativeMountPath":{"description":"Note that all file shares will be mounted under $AZ_BATCHAI_MOUNT_ROOT location.","type":"string"}},"required":["mountCommand","relativeMountPath"]},"_88JobBaseProperties":{"description":"The properties of a Batch AI job.","type":"object","properties":{"___constraints":{"oneOf":[{"$eref":{"description":"Constraints associated with the Job.","type":"object","properties":{"___maxWallClockTime":{"default":"7.00:00:00","format":"duration","description":"Default Value = 1 week.","type":"string"}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Constraints associated with the Job."},"___outputDirectories":{"oneOf":[{"type":"array","items":{"$eref":{"description":"Output directory for the job.","type":"object","properties":{"___createNew":{"oneOf":[{"default":true,"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Default is true. If false, then the directory is not created and can be any directory path that the user specifies."},"___type":{"oneOf":[{"type":"string","enum":["model","logs","summary","custom"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Default value is Custom. The possible values are Model, Logs, Summary, and Custom. Users can use multiple enums for a single directory. Eg. outPutType='Model,Logs, Summary'."},"___pathPrefix":{"description":"NOTE: This is an absolute path to prefix. E.g. $AZ_BATCHAI_MOUNT_ROOT\/MyNFS\/MyLogs.","type":"string"},"___pathSuffix":{"description":"The suffix path where the output directory will be created.","type":"string"},"___id":{"description":"It will be available for the job as an environment variable under AZ_BATCHAI_OUTPUT_id.","type":"string"}},"required":["id","pathPrefix"]}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}]},"___jobPreparation":{"oneOf":[{"$eref":{"description":"Specifies the settings for job preparation.","type":"object","properties":{"___commandLine":{"description":"If containerSettings is specified on the job, this commandLine will be executed in the same container as job. Otherwise it will be executed on the node.","type":"string"}},"required":["commandLine"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Specifies the settings for job preparation."},"___inputDirectories":{"oneOf":[{"type":"array","items":{"$eref":{"description":"Input directory for the job.","type":"object","properties":{"___id":{"description":"It will be available for the job as an environment variable under AZ_BATCHAI_INPUT_id. The service will also provide the following  environment variable: AZ_BATCHAI_PREV_OUTPUT_Name. The value of the variable will be populated if the job is being retried after a previous failure, otherwise it will be set to nothing.","type":"string"},"___path":{"type":"string"}},"required":["id","path"]}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}]},"___experimentName":{"description":"Describe the experiment information of the job","type":"string"},"___chainerSettings":{"oneOf":[{"$eref":{"description":"Specifies the settings for Chainer job.","type":"object","properties":{"___commandLineArgs":{"type":"string"},"___pythonScriptFilePath":{"type":"string"},"___processCount":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The default value for this property is equal to nodeCount property"},"___pythonInterpreterPath":{"type":"string"}},"required":["pythonScriptFilePath"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Specifies the settings for Chainer job."},"___cluster":{"oneOf":[{"$eref":{"description":"Represents a resource ID. For example, for a subnet, it is the resource URL for the subnet.","type":"object","properties":{"___id":{"description":"The ID of the resource","type":"string"}},"required":["id"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Represents a resource ID. For example, for a subnet, it is the resource URL for the subnet."},"___nodeCount":{"oneOf":[{"type":"integer"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The job will be gang scheduled on that many compute nodes"},"___priority":{"oneOf":[{"default":"0","type":"integer"},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Priority associated with the job. Priority values can range from -1000 to 1000, with -1000 being the lowest priority and 1000 being the highest priority. The default value is 0."},"___customToolkitSettings":{"oneOf":[{"$eref":{"description":"Specifies the settings for a custom tool kit job.","type":"object","properties":{"___commandLine":{"type":"string"}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Specifies the settings for a custom tool kit job."},"___caffe2Settings":{"oneOf":[{"$eref":{"description":"Specifies the settings for Caffe2 job.","type":"object","properties":{"___commandLineArgs":{"type":"string"},"___pythonScriptFilePath":{"type":"string"},"___pythonInterpreterPath":{"type":"string"}},"required":["pythonScriptFilePath"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Specifies the settings for Caffe2 job."},"___cntkSettings":{"oneOf":[{"$eref":{"description":"Specifies the settings for CNTK (aka Microsoft Cognitive Toolkit) job.","type":"object","properties":{"___commandLineArgs":{"type":"string"},"___pythonScriptFilePath":{"description":"This property can be specified only if the languageType is 'Python'.","type":"string"},"___processCount":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The default value for this property is equal to nodeCount property"},"___pythonInterpreterPath":{"description":"This property can be specified only if the languageType is 'Python'.","type":"string"},"___configFilePath":{"description":"This property can be specified only if the languageType is 'BrainScript'.","type":"string"},"___languageType":{"description":"Valid values are 'BrainScript' or 'Python'.","type":"string"}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Specifies the settings for CNTK (aka Microsoft Cognitive Toolkit) job."},"___tensorFlowSettings":{"oneOf":[{"$eref":{"description":"Specifies the settings for TensorFlow job.","type":"object","properties":{"___pythonScriptFilePath":{"type":"string"},"___pythonInterpreterPath":{"type":"string"},"___masterCommandLineArgs":{"type":"string"},"___parameterServerCommandLineArgs":{"description":"This property is optional for single machine training.","type":"string"},"___parameterServerCount":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"If specified, the value must be less than or equal to nodeCount. If not specified, the default value is equal to 1 for distributed TensorFlow training (This property is not applicable for single machine training). This property can be specified only for distributed TensorFlow training."},"___workerCount":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"If specified, the value must be less than or equal to (nodeCount * numberOfGPUs per VM). If not specified, the default value is equal to nodeCount. This property can be specified only for distributed TensorFlow training"},"___workerCommandLineArgs":{"description":"This property is optional for single machine training.","type":"string"}},"required":["masterCommandLineArgs","pythonScriptFilePath"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Specifies the settings for TensorFlow job."},"___stdOutErrPathPrefix":{"description":"The path where the Batch AI service will upload stdout and stderror of the job.","type":"string"},"___caffeSettings":{"oneOf":[{"$eref":{"description":"Specifies the settings for Caffe job.","type":"object","properties":{"___commandLineArgs":{"type":"string"},"___pythonScriptFilePath":{"description":"This property cannot be specified if configFilePath is specified.","type":"string"},"___processCount":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The default value for this property is equal to nodeCount property"},"___pythonInterpreterPath":{"description":"This property can be specified only if the pythonScriptFilePath is specified.","type":"string"},"___configFilePath":{"description":"This property cannot be specified if pythonScriptFilePath is specified.","type":"string"}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Specifies the settings for Caffe job."},"___environmentVariables":{"oneOf":[{"type":"array","items":{"$eref":{"description":"A collection of environment variables to set.","type":"object","properties":{"___name":{"type":"string"},"___value":{"type":"string"}},"required":["name"]}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Batch AI service sets the following environment variables for all jobs: AZ_BATCHAI_INPUT_id, AZ_BATCHAI_OUTPUT_id, AZ_BATCHAI_NUM_GPUS_PER_NODE. For distributed TensorFlow jobs, following additional environment variables are set by the Batch AI Service: AZ_BATCHAI_PS_HOSTS, AZ_BATCHAI_WORKER_HOSTS"},"___containerSettings":{"oneOf":[{"$eref":{"description":"Settings for the container to be downloaded.","type":"object","properties":{"___imageSourceRegistry":{"oneOf":[{"$ref":"#\/definitions\/ImageSourceRegistry"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Details of the container image such as name, URL and credentials."}},"required":["imageSourceRegistry"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Settings for the container to be downloaded."}},"required":["cluster","nodeCount","stdOutErrPathPrefix"]},"_88KeyVaultSecretReference":{"description":"Describes a reference to Key Vault Secret.","type":"object","properties":{"___secretUrl":{"type":"string"},"___sourceVault":{"oneOf":[{"$eref":{"description":"Represents a resource ID. For example, for a subnet, it is the resource URL for the subnet.","type":"object","properties":{"___id":{"description":"The ID of the resource","type":"string"}},"required":["id"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Represents a resource ID. For example, for a subnet, it is the resource URL for the subnet."}},"required":["secretUrl","sourceVault"]},"_88UserAccountSettings":{"description":"Settings for user account that gets created on each on the nodes of a cluster.","type":"object","properties":{"___adminUserSshPublicKey":{"type":"string"},"___adminUserName":{"type":"string"},"___adminUserPassword":{"type":"string"}},"required":["adminUserName"]},"_88ContainerSettings":{"description":"Settings for the container to be downloaded.","type":"object","properties":{"___imageSourceRegistry":{"oneOf":[{"$eref":{"description":"Details of the container image such as name, URL and credentials.","type":"object","properties":{"___image":{"type":"string"},"___serverUrl":{"type":"string"},"___credentials":{"oneOf":[{"$ref":"#\/definitions\/PrivateRegistryCredentials"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Credentials to access a container image in a private repository."}},"required":["image"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Details of the container image such as name, URL and credentials."}},"required":["imageSourceRegistry"]},"_88NodeSetup":{"description":"Use this to prepare the VM. NOTE: The volumes specified in mountVolumes are mounted first and then the setupTask is run. Therefore the setup task can use local mountPaths in its execution.","type":"object","properties":{"___mountVolumes":{"oneOf":[{"$eref":{"description":"Details of volumes to mount on the cluster.","type":"object","properties":{"___azureBlobFileSystems":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/AzureBlobFileSystemReference"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"References to Azure Blob FUSE that are to be mounted to the cluster nodes."},"___unmanagedFileSystems":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/UnmanagedFileSystemReference"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}]},"___azureFileShares":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/AzureFileShareReference"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"References to Azure File Shares that are to be mounted to the cluster nodes."},"___fileServers":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/FileServerReference"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}]}}}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Details of volumes to mount on the cluster."},"___setupTask":{"oneOf":[{"$eref":{"description":"Specifies a setup task which can be used to customize the compute nodes of the cluster.","type":"object","properties":{"___runElevated":{"oneOf":[{"default":false,"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}]},"___stdOutErrPathPrefix":{"description":"The path where the Batch AI service will upload the stdout and stderror of setup task.","type":"string"},"___commandLine":{"type":"string"},"___environmentVariables":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/EnvironmentSetting"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}]}},"required":["commandLine","stdOutErrPathPrefix"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Specifies a setup task which can be used to customize the compute nodes of the cluster."}}},"_88FileServerReference":{"description":"Provides required information, for the service to be able to mount Azure FileShare on the cluster nodes.","type":"object","properties":{"___sourceDirectory":{"description":"If this property is not specified, the entire File Server will be mounted.","type":"string"},"___mountOptions":{"type":"string"},"___fileServer":{"oneOf":[{"$eref":{"description":"Represents a resource ID. For example, for a subnet, it is the resource URL for the subnet.","type":"object","properties":{"___id":{"description":"The ID of the resource","type":"string"}},"required":["id"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Represents a resource ID. For example, for a subnet, it is the resource URL for the subnet."},"___relativeMountPath":{"description":"Note that all file shares will be mounted under $AZ_BATCHAI_MOUNT_ROOT location.","type":"string"}},"required":["fileServer","relativeMountPath"]},"_88JobPreparation":{"description":"Specifies the settings for job preparation.","type":"object","properties":{"___commandLine":{"description":"If containerSettings is specified on the job, this commandLine will be executed in the same container as job. Otherwise it will be executed on the node.","type":"string"}},"required":["commandLine"]},"_88JobBasePropertiesConstraints":{"description":"Constraints associated with the Job.","type":"object","properties":{"___maxWallClockTime":{"default":"7.00:00:00","format":"duration","description":"Default Value = 1 week.","type":"string"}}},"_88ImageReference":{"description":"The image reference.","type":"object","properties":{"___version":{"type":"string"},"___offer":{"type":"string"},"___sku":{"type":"string"},"___publisher":{"type":"string"}},"required":["offer","publisher","sku"]},"_88ScaleSettings":{"description":"At least one of manual or autoScale settings must be specified. Only one of manual or autoScale settings can be specified. If autoScale settings are specified, the system automatically scales the cluster up and down (within the supplied limits) based on the pending jobs on the cluster.","type":"object","properties":{"___manual":{"oneOf":[{"$eref":{"description":"Manual scale settings for the cluster.","type":"object","properties":{"___nodeDeallocationOption":{"oneOf":[{"type":"string","enum":["requeue","terminate","waitforjobcompletion","unknown"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"The default value is requeue."},"___targetNodeCount":{"oneOf":[{"default":"0","type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Default is 0. If autoScaleSettings are not specified, then the Cluster starts with this target."}},"required":["targetNodeCount"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Manual scale settings for the cluster."},"___autoScale":{"oneOf":[{"$eref":{"description":"The system automatically scales the cluster up and down (within minimumNodeCount and maximumNodeCount) based on the pending and running jobs on the cluster.","type":"object","properties":{"___initialNodeCount":{"oneOf":[{"default":"0","type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}]},"___minimumNodeCount":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}]},"___maximumNodeCount":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}]}},"required":["maximumNodeCount","minimumNodeCount"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"The system automatically scales the cluster up and down (within minimumNodeCount and maximumNodeCount) based on the pending and running jobs on the cluster."}}},"_88EnvironmentSetting":{"description":"A collection of environment variables to set.","type":"object","properties":{"___name":{"type":"string"},"___value":{"type":"string"}},"required":["name"]},"_88ImageSourceRegistry":{"description":"Details of the container image such as name, URL and credentials.","type":"object","properties":{"___image":{"type":"string"},"___serverUrl":{"type":"string"},"___credentials":{"oneOf":[{"$eref":{"description":"Credentials to access a container image in a private repository.","type":"object","properties":{"___password":{"description":"One of password or passwordSecretReference must be specified.","type":"string"},"___username":{"type":"string"},"___passwordSecretReference":{"oneOf":[{"$ref":"#\/definitions\/KeyVaultSecretReference"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/common\/definitions.json#\/definitions\/expression"}],"description":"Describes a reference to Key Vault Secret."}},"required":["username"]}},{"$eref":{"pattern":"^\\[([^\\[].*)?\\]$","description":"Deployment template expression. See https:\/\/aka.ms\/arm-template-expressions for more details on the ARM expression syntax.","type":"string"}}],"description":"Credentials to access a container image in a private repository."}},"required":["image"]}}}