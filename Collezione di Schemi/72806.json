{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"nodePool.json","description":"Describes a set of one or more nodes which share the same configuration.","id":"http:\/\/judkins.house\/apis\/k2\/v1\/nodePool.json","additionalProperties":false,"title":"nodePool Configuration","type":"object","properties":{"___keyPair":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"keyPair.json","description":"Key Pairs Entry for use in K2.","id":"http:\/\/judkins.house\/apis\/k2\/v1\/keyPair.json","additionalProperties":false,"title":"Key Pairs Entry for use in K2","type":"object","properties":{"___name":{"description":"Name given to the key entry for identification in other k2 configuration areas.","type":"string"},"___providerConfig":{"description":"Provider Specific information about key pairs.","anyOf":[{"$ref":"gkeKeyPairConfig.json"}]},"___publickeyFile":{"description":"Location of the public key on the host running K2.","type":"string"},"___kind":{"description":"Type configuration node this is","type":"string","enum":["keyPair"]},"___privatekeyFile":{"description":"Location of the private key on the host running K2.","type":"string"}},"required":["name"]}},"___schedulingConfig":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"schedulingConfig.json","description":"Describes configuration of taints added per nodePool","id":"http:\/\/judkins.house\/apis\/k2\/v1\/schedulingConfig.json","additionalProperties":false,"title":"Scheduling configuration","type":"object","properties":{"___name":{"description":"Name of the scheduling configuration.","type":"string"},"___kind":{"description":"Scheduling configuration for taints and labels.","type":"string","enum":["scheduling"]},"___taints":{"description":"List of taints to apply to node","type":"array","items":{"$ref":"kubeNodeTaint.json"}}}}},"___containerConfig":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"containerConfig.json","description":"Container runtime specific configuration.","anyOf":[{"$ref":"dockerContainerConfig.json"}],"id":"http:\/\/judkins.house\/apis\/k2\/v1\/containerConfig.json","title":"Container Configuration"}},"___apiServerConfig":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"apiServerConfig.json","description":"API Server properties such as the state kvStore (e.g. etcd) or flags","id":"http:\/\/judkins.house\/apis\/k2\/v1\/apiServerConfig.json","additionalProperties":false,"title":"Kubernetes API server configuration","type":"object","properties":{"___name":{"description":"Name of the API server configuration","type":"string"},"___loadBalancerConfigs":{"description":"Further configuration options for the load balancer.","$ref":"awsLoadBalancerConfig.json"},"___flags":{"description":"Flags that we allow to change for a kraken cluster","$ref":"apiServerFlags.json"},"___state":{"etcd":{"$ref":"kvStoreConfig.json"}},"___events":{"etcd":{"$ref":"kvStoreConfig.json"}},"___loadBalancer":{"description":"What sort of load balancer system should be used","type":"string","enum":["cloud","flipbit"]},"___kind":{"description":"Type of apiServer","type":"string","enum":["apiServer"]}},"required":["name","loadBalancer","state","events"]}},"___autoScalingConfig":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"autoScalingConfig.json","description":"Describes the autoScaling configuration for a nodePool.","id":"http:\/\/judkins.house\/apis\/k2\/v1\/autoScalingConfig.json","additionalProperties":false,"title":"AutoScaling configurations","type":"object","properties":{"___enabled":{"description":"Enable or disable the cluster auto-scaler addon.","type":"boolean"},"___minNodes":{"description":"Minimum number of nodes the cluster auto-scaler should scale down to.","type":"number","minimum":1},"___maxNodes":{"description":"Maximum number of nodes the cluster auto-scaler should scale up to.","type":"number","minimum":2}},"required":["minNodes","maxNodes","enabled"]}},"___name":{"description":"Name of the nodePool.","type":"string"},"___count":{"description":"Number of nodes in the nodePool.","type":"number","minimum":1},"___etcdConfigs":{"minItems":1,"type":"array","items":{"$eref":{"oneOf":[{"$ref":"etcdConfig.json"}],"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"kvStoreConfig.json","description":"Describes a kvStore (e.g. etcd) configuration.","id":"http:\/\/judkins.house\/apis\/k2\/v1\/kvStoreConfig.json","title":"kvStore Configuration","type":"object"}}},"___bastionConfig":{"$eref":{"oneOf":[{"$ref":"bastionConfigSimple.json"},{"$ref":"bastionConfigLoadBalanced.json"}],"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"bastionConfig.json","description":"Properties pertaining to a Bastion.","id":"http:\/\/judkins.house\/apis\/k2\/v1\/bastionConfig.json","title":"A Bastion configuration","type":"object"}},"___nodeConfig":{"$eref":{"oneOf":[{"$ref":"awsNodeConfig.json"},{"$ref":"gkeNodeConfig.json"}],"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"nodeConfig.json","description":"Describes the configuration of a node within a nodePool.","id":"http:\/\/judkins.house\/apis\/k2\/v1\/nodeConfig.json","title":"Node Configuration"}},"___etcdConfig":{"$eref":{"oneOf":[{"$ref":"etcdConfig.json"}],"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"kvStoreConfig.json","description":"Describes a kvStore (e.g. etcd) configuration.","id":"http:\/\/judkins.house\/apis\/k2\/v1\/kvStoreConfig.json","title":"kvStore Configuration","type":"object"}},"___osConfig":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"osConfig.json","description":"Describes the OS configuration for a node.","anyOf":[{"$ref":"coreOsConfig.json"}],"id":"http:\/\/judkins.house\/apis\/k2\/v1\/osConfig.json","title":"OS Configuration"}},"___kubeConfig":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"kubeConfig.json","description":"The location and version of a container containing the Kubernetes hyperkube binary.","id":"http:\/\/judkins.house\/apis\/k2\/v1\/kubeConfig.json","additionalProperties":false,"title":"A Kubernetes configuration","type":"object","properties":{"___name":{"description":"Name of the Kubernetes configuration.","type":"string"},"___version":{"format":"semver","description":"Version of the hyperkube binary.","type":"string"},"___kind":{"description":"Type of kubeconfig","type":"string","enum":["kubernetes"]},"___hyperkubeLocation":{"format":"uri","description":"Location of the Kubernetes container.","type":"string"}},"required":["name","version"]}}},"required":["name","count","nodeConfig"]}