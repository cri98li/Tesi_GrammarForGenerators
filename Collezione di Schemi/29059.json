{"allOf":[{"anyOf":[{"allOf":[{"required":["type"]},{"not":{"required":["base"]}}],"usage":"type: <base|kernel|snapd> (without a base)","properties":{"___type":{"enum":["base","kernel","snapd"]}}},{"allOf":[{"required":["base"]}],"usage":"base: <base> and type: <app|gadget>","properties":{"___type":{"enum":["app","gadget"]}}},{"usage":"base: bare (with a build-base)","properties":{"___base":{"enum":["bare"]}},"required":["build-base"]}]},{"anyOf":[{"required":["summary","description","version"]},{"required":["adopt-info"]}]}],"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","additionalProperties":false,"title":"snapcraft schema","type":"object","definitions":{"_88grammar-array":{"uniqueItems":true,"type":"array","items":{"oneOf":[{"usage":"<string>","type":"string"},{"patternProperties":{"___^on\\s+.+$":{"$eref":{"uniqueItems":true,"type":"array","items":{"oneOf":[{"usage":"<string>","type":"string"},{"patternProperties":{"___^on\\s+.+$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"on <selector>[,<selector>...]:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^to\\s+.+$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"to <selector>[,<selector>...]:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^try$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"try:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^else$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"else:","additionalProperties":false,"type":"object"}]},"minitems":1}}},"usage":"on <selector>[,<selector>...]:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^to\\s+.+$":{"$eref":{"uniqueItems":true,"type":"array","items":{"oneOf":[{"usage":"<string>","type":"string"},{"patternProperties":{"___^on\\s+.+$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"on <selector>[,<selector>...]:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^to\\s+.+$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"to <selector>[,<selector>...]:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^try$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"try:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^else$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"else:","additionalProperties":false,"type":"object"}]},"minitems":1}}},"usage":"to <selector>[,<selector>...]:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^try$":{"$eref":{"uniqueItems":true,"type":"array","items":{"oneOf":[{"usage":"<string>","type":"string"},{"patternProperties":{"___^on\\s+.+$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"on <selector>[,<selector>...]:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^to\\s+.+$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"to <selector>[,<selector>...]:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^try$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"try:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^else$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"else:","additionalProperties":false,"type":"object"}]},"minitems":1}}},"usage":"try:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^else$":{"$eref":{"uniqueItems":true,"type":"array","items":{"oneOf":[{"usage":"<string>","type":"string"},{"patternProperties":{"___^on\\s+.+$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"on <selector>[,<selector>...]:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^to\\s+.+$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"to <selector>[,<selector>...]:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^try$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"try:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^else$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"else:","additionalProperties":false,"type":"object"}]},"minitems":1}}},"usage":"else:","additionalProperties":false,"type":"object"}]},"minitems":1},"_88grammar-string":{"oneOf":[{"usage":"<string>","type":"string"},{"type":"array","items":{"oneOf":[{"patternProperties":{"___^on\\s+.+$":{"$eref":{"oneOf":[{"usage":"<string>","type":"string"},{"type":"array","items":{"oneOf":[{"patternProperties":{"___^on\\s+.+$":{"$ref":"#\/definitions\/grammar-string"}},"usage":"on <selector>[,<selector>...]:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^to\\s+.+$":{"$ref":"#\/definitions\/grammar-string"}},"usage":"to <selector>[,<selector>...]:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^try$":{"$ref":"#\/definitions\/grammar-string"}},"usage":"try:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^else$":{"$ref":"#\/definitions\/grammar-string"}},"usage":"else:","additionalProperties":false,"type":"object"},{"pattern":"else fail","type":"string"}],"uniqueItems":true,"minitems":1}}]}}},"usage":"on <selector>[,<selector>...]:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^to\\s+.+$":{"$eref":{"oneOf":[{"usage":"<string>","type":"string"},{"type":"array","items":{"oneOf":[{"patternProperties":{"___^on\\s+.+$":{"$ref":"#\/definitions\/grammar-string"}},"usage":"on <selector>[,<selector>...]:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^to\\s+.+$":{"$ref":"#\/definitions\/grammar-string"}},"usage":"to <selector>[,<selector>...]:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^try$":{"$ref":"#\/definitions\/grammar-string"}},"usage":"try:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^else$":{"$ref":"#\/definitions\/grammar-string"}},"usage":"else:","additionalProperties":false,"type":"object"},{"pattern":"else fail","type":"string"}],"uniqueItems":true,"minitems":1}}]}}},"usage":"to <selector>[,<selector>...]:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^try$":{"$eref":{"oneOf":[{"usage":"<string>","type":"string"},{"type":"array","items":{"oneOf":[{"patternProperties":{"___^on\\s+.+$":{"$ref":"#\/definitions\/grammar-string"}},"usage":"on <selector>[,<selector>...]:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^to\\s+.+$":{"$ref":"#\/definitions\/grammar-string"}},"usage":"to <selector>[,<selector>...]:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^try$":{"$ref":"#\/definitions\/grammar-string"}},"usage":"try:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^else$":{"$ref":"#\/definitions\/grammar-string"}},"usage":"else:","additionalProperties":false,"type":"object"},{"pattern":"else fail","type":"string"}],"uniqueItems":true,"minitems":1}}]}}},"usage":"try:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^else$":{"$eref":{"oneOf":[{"usage":"<string>","type":"string"},{"type":"array","items":{"oneOf":[{"patternProperties":{"___^on\\s+.+$":{"$ref":"#\/definitions\/grammar-string"}},"usage":"on <selector>[,<selector>...]:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^to\\s+.+$":{"$ref":"#\/definitions\/grammar-string"}},"usage":"to <selector>[,<selector>...]:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^try$":{"$ref":"#\/definitions\/grammar-string"}},"usage":"try:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^else$":{"$ref":"#\/definitions\/grammar-string"}},"usage":"else:","additionalProperties":false,"type":"object"},{"pattern":"else fail","type":"string"}],"uniqueItems":true,"minitems":1}}]}}},"usage":"else:","additionalProperties":false,"type":"object"},{"pattern":"else fail","type":"string"}],"uniqueItems":true,"minitems":1}}]}},"properties":{"___icon":{"format":"icon-path","description":"path to a 512x512 icon representing the package.","type":"string"},"___license":{"description":"the license the package holds","type":"string"},"___type":{"description":"the snap type, the implicit type is 'app'","type":"string","enum":["app","base","gadget","kernel","snapd"]},"___grade":{"default":"stable","description":"the quality grade of the snap","type":"string","enum":["stable","devel"]},"___apps":{"patternProperties":{"___^[a-zA-Z0-9](?:-?[a-zA-Z0-9])*$":{"additionalProperties":false,"type":"object","properties":{"___refresh-mode":{"description":"controls if the app should be restarted at all","type":"string","enum":["endure","restart"]},"___stop-timeout":{"pattern":"^[0-9]+(ns|us|ms|s|m)*$","description":"Optional time to wait for daemon to stop - <n>ns | <n>us | <n>ms | <n>s | <n>m","type":"string","validation-failure":"{.instance!r} is not a valid timeout value."},"___extensions":{"uniqueItems":true,"type":"array","items":{"enum":["gnome-3-28","kde-neon"]},"minitems":1},"___watchdog-timeout":{"pattern":"^[0-9]+(ns|us|ms|s|m)*$","description":"Service watchdog timeout - <n>ns | <n>us | <n>ms | <n>s | <n>m","type":"string","validation-failure":"{.instance!r} is not a valid timeout value."},"___daemon":{"description":"signals that the app is a service.","type":"string","enum":["simple","forking","oneshot","notify","dbus"]},"___start-timeout":{"pattern":"^[0-9]+(ns|us|ms|s|m)*$","description":"Optional time to wait for daemon to start - <n>ns | <n>us | <n>ms | <n>s | <n>m","type":"string","validation-failure":"{.instance!r} is not a valid timeout value."},"___environment":{"minItems":1,"description":"environment entries for the specific app.","additionalProperties":{"anyOf":[{"minLength":1,"type":"string"},{"type":"number"}]},"type":"object"},"___adapter":{"default":"legacy","description":"What kind of wrapper to generate for the given command","$comment":"Full should be the default, but it requires command-chain which isn't available in snapd until 2.36, which isn't yet stable. Until 2.36 is generally available, continue with legacy as the default.","type":"string","enum":["none","legacy","full"]},"___passthrough":{"description":"properties to be passed into snap.yaml as-is","type":"object"},"___timer":{"description":"The service is activated by a timer, app must be a daemon. (systemd.time calendar event string)","type":"string"},"___completer":{"description":"bash completion script relative to the prime directory","type":"string"},"___after":{"uniqueItems":true,"description":"List of applications that are ordered to be started after the current one","type":"array","items":{"type":"string"},"minitems":1},"___stop-mode":{"description":"controls how the daemon should be stopped","type":"string","enum":["sigterm","sigterm-all","sighup","sighup-all","sigusr1","sigusr1-all","sigusr2","sigusr2-all"]},"___autostart":{"pattern":"^[A-Za-z0-9. _#:$-]+\\.desktop$","description":"Name of the desktop file placed by the application in $SNAP_USER_DATA\/.config\/autostart to indicate that application should be started with the user's desktop session.","type":"string","validation-failure":"{.instance!r} is not a valid desktop file name (e.g. myapp.desktop)"},"___restart-condition":{"type":"string","enum":["on-success","on-failure","on-abnormal","on-abort","on-watchdog","always","never"]},"___command-chain":{"type":"array","items":{"pattern":"^[A-Za-z0-9\/._#:$-]*$","type":"string","validation-failure":"{.instance!r} is not a valid command-chain entry. Command chain entries must be strings, and can only use ASCII alphanumeric characters and the following special characters: \/ . _ # : $ -"}},"___before":{"uniqueItems":true,"description":"List of applications that are ordered to be started before the current one","type":"array","items":{"type":"string"},"minitems":1},"___common-id":{"description":"common identifier across multiple packaging formats","type":"string"},"___reload-command":{"description":"Command to use to ask the service to reload its configuration.","type":"string"},"___restart-delay":{"pattern":"^[0-9]+(ns|us|ms|s|m)*$","description":"Delay between service restarts - <n>ns | <n>us | <n>ms | <n>s | <n>m. Defaults to unset. See the systemd.service manual on RestartSec for details.","type":"string","validation-failure":"{.instance!r} is not a valid delay value."},"___post-stop-command":{"description":"command executed after stopping a service","type":"string"},"___bus-name":{"pattern":"^[A-Za-z0-9\/. _#:$-]*$","description":"D-Bus name this service is reachable as (mandatory if daemon=dbus)","type":"string","validation-failure":"{.instance!r} is not a valid bus name."},"___aliases":{"uniqueItems":true,"type":"array","items":{"pattern":"^[a-zA-Z0-9][-_.a-zA-Z0-9]*$","type":"string"}},"___sockets":{"patternProperties":{"___^[a-z][a-z0-9_-]*$":{"description":"Sockets for automatic service activation","additionalProperties":false,"type":"object","properties":{"___listen-stream":{"anyOf":[{"usage":"port number, an integer between 1 and 65535","maximum":65535,"type":"integer","minimum":1},{"usage":"socket path, a string","type":"string"}]},"___socket-mode":{"type":"integer"}},"required":["listen-stream"]}},"additionalProperties":false,"type":"object","validation-failure":"{!r} is not a valid socket name. Socket names consist of lower-case alphanumeric characters and hyphens."},"___stop-command":{"description":"command executed to stop a service","type":"string"},"___slots":{"uniqueItems":true,"type":"array","items":{"type":"string"},"minitems":1},"___command":{"description":"command executed to run the binary","type":"string"},"___desktop":{"description":"path to a desktop file representing the app, relative to the prime directory","type":"string"},"___plugs":{"uniqueItems":true,"type":"array","items":{"type":"string"},"minitems":1}},"required":["command"],"dependencies":{"watchdog-timeout":["daemon"],"before":["daemon"],"stop-mode":["daemon"],"restart-condition":["daemon"],"start-timeout":["daemon"],"reload-command":["daemon"],"stop-timeout":["daemon"],"refresh-mode":["daemon"],"bus-name":["daemon"],"stop-command":["daemon"],"restart-delay":["daemon"],"timer":["daemon"],"post-stop-command":["daemon"],"after":["daemon"]}}},"additionalProperties":false,"type":"object","validation-failure":"{!r} is not a valid app name. App names consist of upper- and lower-case alphanumeric characters and hyphens. They cannot start or end with a hyphen."},"___title":{"description":"title for the snap","$comment":"https:\/\/forum.snapcraft.io\/t\/title-length-in-snapcraft-yaml-snap-yaml\/8625\/10","type":"string","maxLength":40},"___environment":{"minItems":1,"description":"environment entries for the snap as a whole","additionalProperties":{"anyOf":[{"minLength":1,"type":"string"},{"type":"number"}]},"type":"object"},"___assumes":{"minItems":1,"uniqueItems":true,"description":"featureset the snap requires in order to work.","type":"array","items":[{"type":"string"}]},"___description":{"description":"long description of the package","type":"string"},"___confinement":{"default":"strict","description":"the type of confinement supported by the snap","type":"string","enum":["classic","devmode","strict"]},"___passthrough":{"description":"properties to be passed into snap.yaml as-is","type":"object"},"___version":{"allOf":[{"type":"string","validation-failure":"snap versions need to be strings. They must also be wrapped in quotes when the value will be interpreted by the YAML parser as a non-string. Examples: '1', '1.2', '1.2.3', git (will be replaced by a git describe based version string)."},{"pattern":"^[a-zA-Z0-9](?:[a-zA-Z0-9:.+~-]*[a-zA-Z0-9+~])?$","maxLength":32,"validation-failure":"{.instance!r} is not a valid snap version string. Snap versions consist of upper- and lower-case alphanumeric characters, as well as periods, colons, plus signs, tildes, and hyphens. They cannot begin with a period, colon, plus sign, tilde, or hyphen. They cannot end with a period, colon, or hyphen."}],"description":"package version"},"___layout":{"description":"layout property to be passed into the snap.yaml as-is","type":"object"},"___hooks":{"patternProperties":{"___^[a-z](?:-?[a-z0-9])*$":{"additionalProperties":false,"type":"object","properties":{"___passthrough":{"description":"properties to be passed into snap.yaml as-is","type":"object"},"___plugs":{"uniqueItems":true,"type":"array","items":{"type":"string"},"minitems":1}}}},"additionalProperties":false,"type":"object","validation-failure":"{!r} is not a valid hook name. Hook names consist of lower-case alphanumeric characters and hyphens. They cannot start or end with a hyphen."},"___build-base":{"description":"force a build environment based on base to create a snap","type":"string"},"___version-script":{"description":"a script that echoes the version to set.","type":"string"},"___adopt-info":{"description":"name of the part that provides source files that will be parsed to extract snap metadata information","type":"string"},"___build-packages":{"$eref":{"uniqueItems":true,"type":"array","items":{"oneOf":[{"usage":"<string>","type":"string"},{"patternProperties":{"___^on\\s+.+$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"on <selector>[,<selector>...]:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^to\\s+.+$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"to <selector>[,<selector>...]:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^try$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"try:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^else$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"else:","additionalProperties":false,"type":"object"}]},"minitems":1},"description":"top level build packages."},"___base":{"description":"the base snap to use","type":"string"},"___frameworks":{"minItems":1,"uniqueItems":true,"type":"array","items":[{"type":"string"}]},"___name":{"allOf":[{"$comment":"string, but not too long. the failure message avoids printing repr of the thing, as it could be huge","type":"string","maxLength":40,"validation-failure":"snap names need to be strings."},{"pattern":"^[a-z0-9-]*[a-z][a-z0-9-]*$","validation-failure":"{.instance!r} is not a valid snap name. Snap names can only use ASCII lowercase letters, numbers, and hyphens, and must have at least one letter."},{"pattern":"^[^-]","validation-failure":"{.instance!r} is not a valid snap name. Snap names cannot start with a hyphen."},{"pattern":"[^-]$","validation-failure":"{.instance!r} is not a valid snap name. Snap names cannot end with a hyphen."},{"not":{"pattern":"--"},"validation-failure":"{.instance!r} is not a valid snap name. Snap names cannot have two hyphens in a row."}],"description":"name of the snap package"},"___parts":{"patternProperties":{"___^(?!plugins$)[a-z0-9][a-z0-9+-]*$":{"type":["object","null"],"properties":{"___source-type":{"default":"","type":"string","enum":["bzr","git","hg","mercurial","subversion","svn","tar","zip","deb","rpm","7z","local"]},"___source-checksum":{"default":"","type":"string"},"___override-stage":{"default":"snapcraftctl stage","type":"string"},"___override-pull":{"default":"snapcraftctl pull","type":"string"},"___source-branch":{"default":"","type":"string"},"___organize":{"default":{},"additionalProperties":{"minLength":1,"type":"string"},"type":"object"},"___build-packages":{"default":[],"$eref":{"uniqueItems":true,"type":"array","items":{"oneOf":[{"usage":"<string>","type":"string"},{"patternProperties":{"___^on\\s+.+$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"on <selector>[,<selector>...]:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^to\\s+.+$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"to <selector>[,<selector>...]:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^try$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"try:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^else$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"else:","additionalProperties":false,"type":"object"}]},"minitems":1},"$comment":"For some reason 'default' doesn't work if in the ref"},"___prime":{"default":["*"],"uniqueItems":true,"type":"array","items":{"type":"string"},"minitems":1},"___build-attributes":{"default":[],"uniqueItems":true,"type":"array","items":{"type":"string","enum":["no-patchelf","no-install","debug","keep-execstack"]},"minitems":1},"___plugin":{"description":"plugin name","type":"string"},"___after":{"default":[],"uniqueItems":true,"type":"array","items":{"type":"string"},"minitems":1},"___build-snaps":{"default":[],"$eref":{"uniqueItems":true,"type":"array","items":{"oneOf":[{"usage":"<string>","type":"string"},{"patternProperties":{"___^on\\s+.+$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"on <selector>[,<selector>...]:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^to\\s+.+$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"to <selector>[,<selector>...]:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^try$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"try:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^else$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"else:","additionalProperties":false,"type":"object"}]},"minitems":1},"$comment":"For some reason 'default' doesn't work if in the ref"},"___build-environment":{"default":[],"type":"array","items":{"maxProperties":1,"additionalProperties":{"type":"string"},"type":"object","minProperties":1},"minitems":1},"___override-build":{"default":"snapcraftctl build","type":"string"},"___source":{"$eref":{"oneOf":[{"usage":"<string>","type":"string"},{"type":"array","items":{"oneOf":[{"patternProperties":{"___^on\\s+.+$":{"$ref":"#\/definitions\/grammar-string"}},"usage":"on <selector>[,<selector>...]:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^to\\s+.+$":{"$ref":"#\/definitions\/grammar-string"}},"usage":"to <selector>[,<selector>...]:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^try$":{"$ref":"#\/definitions\/grammar-string"}},"usage":"try:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^else$":{"$ref":"#\/definitions\/grammar-string"}},"usage":"else:","additionalProperties":false,"type":"object"},{"pattern":"else fail","type":"string"}],"uniqueItems":true,"minitems":1}}]}},"___source-depth":{"default":0,"type":"integer"},"___stage-snaps":{"default":[],"$eref":{"uniqueItems":true,"type":"array","items":{"oneOf":[{"usage":"<string>","type":"string"},{"patternProperties":{"___^on\\s+.+$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"on <selector>[,<selector>...]:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^to\\s+.+$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"to <selector>[,<selector>...]:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^try$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"try:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^else$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"else:","additionalProperties":false,"type":"object"}]},"minitems":1},"$comment":"For some reason 'default' doesn't work if in the ref"},"___override-prime":{"default":"snapcraftctl prime","type":"string"},"___parse-info":{"default":[],"uniqueItems":true,"type":"array","items":{"type":"string"},"minitems":1},"___stage-packages":{"default":[],"$eref":{"uniqueItems":true,"type":"array","items":{"oneOf":[{"usage":"<string>","type":"string"},{"patternProperties":{"___^on\\s+.+$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"on <selector>[,<selector>...]:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^to\\s+.+$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"to <selector>[,<selector>...]:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^try$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"try:","additionalProperties":false,"type":"object"},{"patternProperties":{"___^else$":{"$ref":"#\/definitions\/grammar-array"}},"usage":"else:","additionalProperties":false,"type":"object"}]},"minitems":1},"$comment":"For some reason 'default' doesn't work if in the ref"},"___source-commit":{"default":"","type":"string"},"___filesets":{"default":{},"additionalProperties":{"type":"array","minitems":1},"type":"object"},"___stage":{"default":["*"],"uniqueItems":true,"type":"array","items":{"type":"string"},"minitems":1},"___source-subdir":{"default":"","type":"string"},"___disable-parallel":{"default":false,"type":"boolean"},"___source-tag":{"default":"","type":"string"}},"required":["plugin"],"minProperties":1}},"additionalProperties":false,"type":"object","validation-failure":"{!r} is not a valid part name. Part names consist of lower-case alphanumeric characters, hyphens and plus signs. As a special case, 'plugins' is also not a valid part name.","minProperties":1},"___epoch":{"format":"epoch","description":"the snap epoch, used to specify upgrade paths"},"___slots":{"type":"object"},"___summary":{"description":"one line summary for the package","type":"string","maxLength":78},"___architectures":{"minItems":1,"uniqueItems":true,"format":"architectures","description":"architectures on which to build, and on which the resulting snap runs","type":"array","items":{"anyOf":[{"type":"string"},{"additionalProperties":false,"type":"object","properties":{"___build-on":{"anyOf":[{"type":"string"},{"minItems":1,"uniqueItems":true,"type":"array"}]},"___run-on":{"anyOf":[{"type":"string"},{"minItems":1,"uniqueItems":true,"type":"array"}]}},"required":["build-on"]}]}},"___plugs":{"type":"object"}},"required":["name","parts"],"dependencies":{"license-agreement":["license"],"license-version":["license"]}}