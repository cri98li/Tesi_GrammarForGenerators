{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"JSON schema for ~#PROJECT#~ configuration","additionalProperties":false,"title":"~#PROJECT#~ config","type":"object","properties":{"___remoteConfigEndpoint":{"default":"","description":"Remote configuration URL (ip:port)","type":"string"},"___remoteConfigProvider":{"default":"","description":"Remote configuration source (if any)","type":"string","enum":["","consul","etcd","envvar"]},"___stats":{"description":"StatsD is used to collect usage metrics","additionalProperties":false,"type":"object","properties":{"___flush_period":{"default":100,"description":"Sets how often (in milliseconds) the StatsD client's buffer is flushed. When 0 the buffer is only flushed when it is full","maximum":1000,"type":"integer","minimum":0},"___prefix":{"default":"~#PROJECT#~","description":"StatsD client's string prefix that will be used in every bucket name","type":"string"},"___network":{"default":"udp","description":"Network type used by the StatsD client","type":"string","enum":["udp","tcp"]},"___address":{"default":":8125","description":"Network address of the StatsD daemon (ip:port) or just (:port)","type":"string"}},"required":["prefix","network","address","flush_period"]},"___log":{"description":"Logging settings","additionalProperties":false,"type":"object","properties":{"___level":{"default":"DEBUG","description":"Defines the default log level","type":"string","enum":["EMERGENCY","ALERT","CRITICAL","ERROR","WARNING","NOTICE","INFO","DEBUG"]},"___network":{"default":"","description":"(OPTIONAL) Network type used by the Syslog","type":"string","enum":["","udp","tcp"]},"___address":{"default":"","description":"(OPTIONAL) Network address of the Syslog daemon (ip:port) or just (:port)","type":"string"}},"required":["level","network","address"]},"___serverAddress":{"default":":8017","description":"Internal HTTP address (ip:port) or just (:port)","type":"string"},"___remoteConfigPath":{"default":"","description":"Remote configuration path in which to search for the configuration file (e.g. '\/config\/~#PROJECT#~')","type":"string"},"___jwt":{"description":"JWT Authentication","additionalProperties":false,"type":"object","properties":{"___key":{"default":"","description":"Shared JWT signing key","type":"string"},"___enabled":{"default":false,"description":"Enable the JWT authentication","type":"boolean"},"___renewTime":{"default":30,"description":"Time in second before the JWT expiration time when the renewal is allowed","type":"integer","minimum":1},"___exp":{"default":5,"description":"JWT token expiration time in minutes","type":"integer","minimum":1}},"required":["enabled","key","exp"]},"___remoteConfigSecretKeyring":{"default":"","description":"Path to the openpgp secret keyring used to decrypt the remote configuration data (e.g. '\/etc\/~#PROJECT#~\/configkey.gpg'); if empty a non secure connection will be used instead","type":"string"},"___proxyAddress":{"default":"","description":"URL of the server to proxy","type":"string"},"___user":{"description":"user names and hashed passwords with resources\/hash\/hash","type":"object"},"___mongodb":{"description":"MongoDB Settings","additionalProperties":false,"type":"object","properties":{"___password":{"default":"","description":"Database password","type":"string"},"___user":{"default":"","description":"Database user","type":"string"},"___timeout":{"default":60,"description":"Connection timeout in seconds","type":"integer"},"___database":{"default":"annotation-service","description":"Database name","type":"string"},"___address":{"default":"mongodb:\/\/127.0.0.1:27017","description":"MongoDB address: [mongodb:\/\/][user:pass@]host1[:port1][,host2[:port2],...][\/database][?options]","type":"string"}},"required":["address","database"]},"___mysql":{"description":"Mysql settings","additionalProperties":false,"type":"object","properties":{"___DSN":{"default":"","description":"MySQL DSN in the format: username:password@protocol(address)\/dbname?param=value","type":"string"}},"required":["DSN"]},"___tls":{"description":"TLS configuration","additionalProperties":false,"type":"object","properties":{"___certPem":{"default":"","description":"TLS certificate in PEM format","type":"string"},"___enabled":{"default":false,"description":"Enable the server in HTTS-only mode","type":"boolean"},"___keyPem":{"default":"","description":"TLS private key in PEM format","type":"string"}},"required":["enabled","certPem","keyPem"]},"___elasticsearch":{"description":"ElasticSearch Settings","additionalProperties":false,"type":"object","properties":{"___url":{"default":"http:\/\/127.0.0.1:9200","description":"ElasticSearch url","type":"string"},"___index":{"default":"","description":"ElasticSearch main Index","type":"string"},"___password":{"default":"","description":"ElasticSearch password","type":"string"},"___username":{"default":"","description":"ElasticSearch user name","type":"string"}},"required":["url","index"]}},"required":["serverAddress","tls","log","stats","user","jwt","proxyAddress","mysql","mongodb","elasticsearch"]}