{"allOf":[{"$eref":{"id":"#\/definitions\/service","additionalProperties":false,"type":"object","properties":{"___env_file":{"$ref":"#\/definitions\/string_or_list"},"___shm_size":{"type":["number","string"]},"___cpu_quota":{"type":["number","string"]},"___dns":{"$ref":"#\/definitions\/string_or_list"},"___ports":{"uniqueItems":true,"type":"array","items":{"format":"ports","type":["string","number"]}},"___depends_on":{"$ref":"#\/definitions\/list_of_strings"},"___networks":{"oneOf":[{"$ref":"#\/definitions\/list_of_strings"},{"patternProperties":{"___^[a-zA-Z0-9._-]+$":{"oneOf":[{"additionalProperties":false,"type":"object","properties":{"___aliases":{"$ref":"#\/definitions\/list_of_strings"}}},{"type":"null"}]}},"additionalProperties":false,"type":"object"}]},"___volumes_from":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___labels":{"$ref":"#\/definitions\/list_or_dict"},"___cpuset":{"type":"string"},"___expose":{"uniqueItems":true,"type":"array","items":{"format":"expose","type":["string","number"]}},"___cap_add":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___mac_address":{"type":"string"},"___external_links":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___environment":{"$ref":"#\/definitions\/list_or_dict"},"___devices":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___restart":{"type":"string"},"___stdin_open":{"type":"boolean"},"___stop_signal":{"type":"string"},"___cpu_shares":{"type":["number","string"]},"___volume_driver":{"type":"string"},"___hostname":{"type":"string"},"___extends":{"oneOf":[{"type":"string"},{"additionalProperties":false,"type":"object","properties":{"___file":{"type":"string"},"___service":{"type":"string"}},"required":["service"]}]},"___ulimits":{"patternProperties":{"___^[a-z]+$":{"oneOf":[{"type":"integer"},{"additionalProperties":false,"type":"object","properties":{"___soft":{"type":"integer"},"___hard":{"type":"integer"}},"required":["soft","hard"]}]}},"type":"object"},"___logging":{"additionalProperties":false,"type":"object","properties":{"___options":{"type":"object"},"___driver":{"type":"string"}}},"___container_name":{"type":"string"},"___volumes":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___tty":{"type":"boolean"},"___domainname":{"type":"string"},"___privileged":{"type":"boolean"},"___links":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___cap_drop":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___image":{"type":"string"},"___extra_hosts":{"$ref":"#\/definitions\/list_or_dict"},"___dns_search":{"$ref":"#\/definitions\/string_or_list"},"___pid":{"type":["string","null"]},"___entrypoint":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"___memswap_limit":{"type":["number","string"]},"___working_dir":{"type":"string"},"___user":{"type":"string"},"___command":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"___security_opt":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___build":{"oneOf":[{"type":"string"},{"additionalProperties":false,"type":"object","properties":{"___args":{"oneOf":[{"$ref":"#\/definitions\/list_of_strings"},{"patternProperties":{"___^.+$":{"type":["string","number"]}},"additionalProperties":false,"type":"object"}]},"___context":{"type":"string"},"___dockerfile":{"type":"string"}}}]},"___cgroup_parent":{"type":"string"},"___read_only":{"type":"boolean"},"___mem_limit":{"type":["number","string"]},"___ipc":{"type":"string"},"___network_mode":{"type":"string"}},"dependencies":{"memswap_limit":["mem_limit"]}}},{"$eref":{"anyOf":[{"required":["build"]},{"required":["image"]}],"id":"#\/definitions\/constraints","properties":{"___build":{"required":["context"]}}}}],"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"service_schema_v2.0.json","type":"object","definitions":{"_88string_or_list":{"oneOf":[{"type":"string"},{"$eref":{"uniqueItems":true,"type":"array","items":{"type":"string"}}}]},"_88list_of_strings":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"_88constraints":{"anyOf":[{"required":["build"]},{"required":["image"]}],"id":"#\/definitions\/constraints","properties":{"___build":{"required":["context"]}}},"_88service":{"id":"#\/definitions\/service","additionalProperties":false,"type":"object","properties":{"___env_file":{"$eref":{"oneOf":[{"type":"string"},{"$ref":"#\/definitions\/list_of_strings"}]}},"___shm_size":{"type":["number","string"]},"___cpu_quota":{"type":["number","string"]},"___dns":{"$eref":{"oneOf":[{"type":"string"},{"$ref":"#\/definitions\/list_of_strings"}]}},"___ports":{"uniqueItems":true,"type":"array","items":{"format":"ports","type":["string","number"]}},"___depends_on":{"$eref":{"uniqueItems":true,"type":"array","items":{"type":"string"}}},"___networks":{"oneOf":[{"$eref":{"uniqueItems":true,"type":"array","items":{"type":"string"}}},{"patternProperties":{"___^[a-zA-Z0-9._-]+$":{"oneOf":[{"additionalProperties":false,"type":"object","properties":{"___aliases":{"$eref":{"uniqueItems":true,"type":"array","items":{"type":"string"}}}}},{"type":"null"}]}},"additionalProperties":false,"type":"object"}]},"___volumes_from":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___labels":{"$eref":{"oneOf":[{"patternProperties":{"___.+":{"format":"bool-value-in-mapping","type":["string","number","boolean","null"]}},"additionalProperties":false,"type":"object"},{"uniqueItems":true,"type":"array","items":{"type":"string"}}]}},"___cpuset":{"type":"string"},"___expose":{"uniqueItems":true,"type":"array","items":{"format":"expose","type":["string","number"]}},"___cap_add":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___mac_address":{"type":"string"},"___external_links":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___environment":{"$eref":{"oneOf":[{"patternProperties":{"___.+":{"format":"bool-value-in-mapping","type":["string","number","boolean","null"]}},"additionalProperties":false,"type":"object"},{"uniqueItems":true,"type":"array","items":{"type":"string"}}]}},"___devices":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___restart":{"type":"string"},"___stdin_open":{"type":"boolean"},"___stop_signal":{"type":"string"},"___cpu_shares":{"type":["number","string"]},"___volume_driver":{"type":"string"},"___hostname":{"type":"string"},"___extends":{"oneOf":[{"type":"string"},{"additionalProperties":false,"type":"object","properties":{"___file":{"type":"string"},"___service":{"type":"string"}},"required":["service"]}]},"___ulimits":{"patternProperties":{"___^[a-z]+$":{"oneOf":[{"type":"integer"},{"additionalProperties":false,"type":"object","properties":{"___soft":{"type":"integer"},"___hard":{"type":"integer"}},"required":["soft","hard"]}]}},"type":"object"},"___logging":{"additionalProperties":false,"type":"object","properties":{"___options":{"type":"object"},"___driver":{"type":"string"}}},"___container_name":{"type":"string"},"___volumes":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___tty":{"type":"boolean"},"___domainname":{"type":"string"},"___privileged":{"type":"boolean"},"___links":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___cap_drop":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___image":{"type":"string"},"___extra_hosts":{"$eref":{"oneOf":[{"patternProperties":{"___.+":{"format":"bool-value-in-mapping","type":["string","number","boolean","null"]}},"additionalProperties":false,"type":"object"},{"uniqueItems":true,"type":"array","items":{"type":"string"}}]}},"___dns_search":{"$eref":{"oneOf":[{"type":"string"},{"$ref":"#\/definitions\/list_of_strings"}]}},"___pid":{"type":["string","null"]},"___entrypoint":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"___memswap_limit":{"type":["number","string"]},"___working_dir":{"type":"string"},"___user":{"type":"string"},"___command":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"___security_opt":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"___build":{"oneOf":[{"type":"string"},{"additionalProperties":false,"type":"object","properties":{"___args":{"oneOf":[{"$eref":{"uniqueItems":true,"type":"array","items":{"type":"string"}}},{"patternProperties":{"___^.+$":{"type":["string","number"]}},"additionalProperties":false,"type":"object"}]},"___context":{"type":"string"},"___dockerfile":{"type":"string"}}}]},"___cgroup_parent":{"type":"string"},"___read_only":{"type":"boolean"},"___mem_limit":{"type":["number","string"]},"___ipc":{"type":"string"},"___network_mode":{"type":"string"}},"dependencies":{"memswap_limit":["mem_limit"]}},"_88list_or_dict":{"oneOf":[{"patternProperties":{"___.+":{"format":"bool-value-in-mapping","type":["string","number","boolean","null"]}},"additionalProperties":false,"type":"object"},{"uniqueItems":true,"type":"array","items":{"type":"string"}}]}}}