{"patternProperties":{"___^[.]":{"$eref":{"oneOf":[{"properties":{"___when":{"enum":["delayed"]}},"required":["when","start_in"]},{"properties":{"___when":{"not":{"enum":["delayed"]}}}}],"additionalProperties":false,"type":"object","properties":{"___start_in":{"minLength":1,"description":"Used in conjunction with 'when: delayed' to set how long to delay before starting a job.","type":"string"},"___script":{"oneOf":[{"minLength":1,"type":"string"},{"minItems":1,"type":"array","items":{"type":"string"}}],"description":"Shell scripts executed by the Runner. The only required property of jobs. Be careful with special characters (e.g. `:`, `{`, `}`, `&`) and use single or double quotes to avoid issues."},"___services":{"$ref":"#\/definitions\/services"},"___tags":{"description":"Used to select runners from the list of available runners. A runner must have all tags listed here to run the job.","type":"array","items":{"type":"string"}},"___after_script":{"$ref":"#\/definitions\/after_script"},"___when":{"default":"on_success","oneOf":[{"description":"Execute job only when all jobs from prior stages succeed.","enum":["on_success"]},{"description":"Execute job when at least one job from prior stages fails.","enum":["on_failure"]},{"description":"Execute job regardless of the status from prior stages.","enum":["always"]},{"description":"Execute the job manually from Gitlab UI or API. Read more: https:\/\/docs.gitlab.com\/ee\/ci\/yaml\/#when-manual","enum":["manual"]},{"description":"Execute a job after the time limit in 'start_in' expires. Read more: https:\/\/docs.gitlab.com\/ee\/ci\/yaml\/#when-delayed","enum":["delayed"]}],"description":"Describes the conditions for when to run the job. Defaults to 'on_success'."},"___dependencies":{"description":"Specify a list of job names from earlier stages from which artifacts should be loaded. By default, all previous artifacts are passed. Use an empty array to skip downloading artifacts.","type":"array","items":{"type":"string"}},"___artifacts":{"description":"Used to specify a list of files and directories that should be attached to the job if it succeeds. Artifacts are sent to Gitlab where they can be downloaded.","additionalProperties":false,"type":"object","properties":{"___name":{"description":"Name for the archive created on job success. Can use variables in the name, e.g. '$CI_JOB_NAME'","type":"string"},"___expire_in":{"default":"30 days","description":"How long artifacts should be kept. They are saved 30 days by default. Artifacts that have expired are removed periodically via cron job. Supports a wide variety of formats, e.g. '1 week', '3 mins 4 sec', '2 hrs 20 min', '2h20min', '6 mos 1 day', '47 yrs 6 mos and 4d', '3 weeks and 2 days'.","type":"string"},"___reports":{"description":"Reports will be uploaded as artifacts, and often displayed in the Gitlab UI, such as in Merge Requests.","additionalProperties":false,"type":"object","properties":{"___license_management":{"description":"Path to file or list of files with license report(s).","$ref":"#\/definitions\/string_file_list"},"___container_scanning":{"description":"Path to file or list of files with Container scanning vulnerabilities report(s).","$ref":"#\/definitions\/string_file_list"},"___sast":{"description":"Path to file or list of files with SAST vulnerabilities report(s).","$ref":"#\/definitions\/string_file_list"},"___codequality":{"description":"Path to file or list of files with code quality report(s) (such as Code Climate).","$ref":"#\/definitions\/string_file_list"},"___dependency_scanning":{"description":"Path to file or list of files with Dependency scanning vulnerabilities report(s).","$ref":"#\/definitions\/string_file_list"},"___junit":{"oneOf":[{"description":"Path to a single XML file","type":"string"},{"minLength":1,"description":"A list of paths to XML files that will automatically be concatenated into a single file","type":"array","items":{"type":"string"}}],"description":"Path for file(s) that should be parsed as JUnit XML result"},"___dast":{"description":"Path to file or list of files with DAST vulnerabilities report(s).","$ref":"#\/definitions\/string_file_list"},"___performance":{"description":"Path to file or list of files with performance metrics report(s).","$ref":"#\/definitions\/string_file_list"}}},"___untracked":{"default":false,"description":"Whether to add all untracked files (along with 'artifacts.paths') to the artifact.","type":"boolean"},"___when":{"default":"on_success","oneOf":[{"description":"Upload artifacts only when the job succeeds (this is the default).","enum":["on_success"]},{"description":"Upload artifacts only when the job fails.","enum":["on_failure"]},{"description":"Upload artifacts regardless of job status.","enum":["always"]}],"description":"Configure when artifacts are uploaded depended on job status."},"___paths":{"minLength":1,"description":"A list of paths to files\/folders that should be included in the artifact.","type":"array","items":{"type":"string"}}}},"___image":{"$ref":"#\/definitions\/image"},"___coverage":{"format":"regex","pattern":"^\/.+\/$","description":"Must be a regular expression, optionally but recommended to be quoted, and must be surrounded with '\/'. Example: '\/Code coverage: \\d+\\.\\d+\/'","type":"string"},"___environment":{"description":"Used to associate environment metadata with a deploy. Environment can have a name and URL attached to it, and will be displayed under \/environments under the project.","additionalProperties":false,"type":"object","properties":{"___name":{"minLength":1,"description":"The name of the environment, e.g. 'qa', 'staging', 'production'.","type":"string"},"___action":{"description":"Stops this environment so that it is inactive.","enum":["stop"]},"___url":{"format":"uri","pattern":"^https?:\/\/.+","description":"When set, this will expose buttons in various places for the current environment in Gitlab, that will take you to the defined URL.","type":"string"},"___on_stop":{"description":"The name of a job to execute when the environment is about to be stopped.","type":"string"}},"required":["name"]},"___only":{"description":"Job will run *only* when these filtering options match.","$ref":"#\/definitions\/filter"},"___parallel":{"default":0,"description":"Parallel will split up a single job into several, and provide `CI_NODE_INDEX` and `CI_NODE_TOTAL` environment variables for the running jobs.","maximum":50,"type":"integer","minimum":2},"___allow_failure":{"default":false,"description":"Setting this option to true will allow the job to fail while still letting the pipeline pass.","type":"boolean"},"___extends":{"description":"The name of a job to inherit configuration from.","type":"string"},"___variables":{"$ref":"#\/definitions\/variables"},"___stage":{"default":"test","description":"Define what stage the job will run in.","type":"string"},"___retry":{"oneOf":[{"$ref":"#\/definitions\/retry_max"},{"additionalProperties":false,"type":"object","properties":{"___max":{"$ref":"#\/definitions\/retry_max"},"___when":{"oneOf":[{"$ref":"#\/definitions\/retry_errors"},{"type":"array","items":{"$ref":"#\/definitions\/retry_errors"}}],"description":"Either a single or array of error types to trigger job retry."}}}],"description":"Retry a job if it fails. Can be a simple integer or object definition."},"___before_script":{"$ref":"#\/definitions\/before_script"},"___cache":{"$ref":"#\/definitions\/cache"},"___except":{"description":"Job will run *except* for when these filtering options match.","$ref":"#\/definitions\/filter"}}}}},"$schema":"http:\/\/json-schema.org\/draft-07\/schema#","description":"Gitlab has a built-in solution for doing CI called Gitlab CI. It is configured by supplying a file called `.gitlab-ci.yml`, which will list all the jobs that are going to run for the project. A full list of all options can be found at https:\/\/docs.gitlab.com\/ee\/ci\/yaml\/. You can read more about Gitlab CI at https:\/\/docs.gitlab.com\/ee\/ci\/README.html.","additionalProperties":{"$eref":{"allOf":[{"$ref":"#\/definitions\/job_template"},{"anyOf":[{"required":["script"]},{"required":["extends"]}]}]}},"title":"Gitlab CI configuration","type":"object","definitions":{"_88services":{"description":"Similar to `image` property, but will link the specified services to the `image` container.","type":"array","items":{"oneOf":[{"minLength":1,"description":"Full name of the image that should be used. It should contain the Registry part if needed.","type":"string"},{"description":"","additionalProperties":false,"type":"object","properties":{"___name":{"minLength":1,"description":"Full name of the image that should be used. It should contain the Registry part if needed.","type":"string"},"___alias":{"minLength":1,"description":"Additional alias that can be used to access the service from the job's container. Read Accessing the services for more information.","type":"string"},"___command":{"minItems":1,"description":"Command or script that should be used as the container's command. It will be translated to arguments passed to Docker after the image's name. The syntax is similar to Dockerfile's CMD directive, where each shell token is a separate string in the array.","type":"array","items":{"type":"string"}},"___entrypoint":{"minItems":1,"description":"Command or script that should be executed as the container's entrypoint. It will be translated to Docker's --entrypoint option while creating the container. The syntax is similar to Dockerfile's ENTRYPOINT directive, where each shell token is a separate string in the array.","type":"array","items":{"type":"string"}}},"required":["name"]}]}},"_88variables":{"description":"Defines environment variables for specific jobs or globally. Job level property overrides global variables. If a job sets `variables: {}`, all global variables are turned off.","additionalProperties":{"type":"string"},"type":"object"},"_88retry_errors":{"oneOf":[{"description":"Retry on any failure (default).","enum":["always"]},{"description":"Retry when the failure reason is unknown.","enum":["unknown_failure"]},{"description":"Retry when the script failed.","enum":["script_failure"]},{"description":"Retry on API failure.","enum":["api_failure"]},{"description":"Retry when the job got stuck or timed out.","enum":["stuck_or_timeout_failure"]},{"description":"Retry if there was a runner system failure (e.g. setting up the job failed).","enum":["runner_system_failure"]},{"description":"Retry if a dependency was missing.","enum":["missing_dependency_failure"]},{"description":"Retry if the runner was unsupported.","enum":["runner_unsupported"]}]},"_88after_script":{"description":"Defines scripts that should run *after* the job. Can be set globally or per job.","type":"array","items":{"type":"string"}},"_88image":{"oneOf":[{"minLength":1,"description":"Full name of the image that should be used. It should contain the Registry part if needed.","type":"string"},{"description":"Specifies the docker image to use for the job or globally for all jobs. Job configuration takes precedence over global setting. Requires a certain kind of Gitlab runner executor.","additionalProperties":false,"type":"object","properties":{"___name":{"minLength":1,"description":"Full name of the image that should be used. It should contain the Registry part if needed.","type":"string"},"___entrypoint":{"minItems":1,"description":"Command or script that should be executed as the container's entrypoint. It will be translated to Docker's --entrypoint option while creating the container. The syntax is similar to Dockerfile's ENTRYPOINT directive, where each shell token is a separate string in the array.","type":"array"}},"required":["name"]}],"description":"Specifies the docker image to use for the job or globally for all jobs. Job configuration takes precedence over global setting. Requires a certain kind of Gitlab runner executor."},"_88retry_max":{"default":0,"description":"The number of times the job will be retried if it fails. Defaults to 0 and can max be retried 2 times (3 times total).","maximum":2,"type":"integer","minimum":0},"_88before_script":{"description":"Defines scripts that should run *before* the job. Can be set globally or per job.","type":"array","items":{"type":"string"}},"_88filter_refs":{"description":"Filter job by different keywords that determine origin or state, or by supplying string\/regex to check against branch\/tag names.","type":"array","items":{"anyOf":[{"oneOf":[{"description":"When a branch is pushed.","enum":["branches"]},{"description":"When a tag is pushed.","enum":["tags"]},{"description":"When a pipeline has been triggered by a second pipelines API (not triggers API).","enum":["api"]},{"description":"When using CI services other than Gitlab","enum":["external"]},{"description":"For multi-project triggers, created using the API with 'CI_JOB_TOKEN'.","enum":["pipelines"]},{"description":"Pipeline is triggered by a `git push` by the user","enum":["pushes"]},{"description":"For scheduled pipelines.","enum":["schedules"]},{"description":"For pipelines created using a trigger token.","enum":["triggers"]},{"description":"For pipelines created using *Run pipeline* button in Gitlab UI (under your project's *Pipelines*).","enum":["web"]}]},{"description":"String or regular expression to match against tag or branch names.","type":"string"}]}},"_88string_file_list":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"_88job":{"allOf":[{"$eref":{"oneOf":[{"properties":{"___when":{"enum":["delayed"]}},"required":["when","start_in"]},{"properties":{"___when":{"not":{"enum":["delayed"]}}}}],"additionalProperties":false,"type":"object","properties":{"___start_in":{"minLength":1,"description":"Used in conjunction with 'when: delayed' to set how long to delay before starting a job.","type":"string"},"___script":{"oneOf":[{"minLength":1,"type":"string"},{"minItems":1,"type":"array","items":{"type":"string"}}],"description":"Shell scripts executed by the Runner. The only required property of jobs. Be careful with special characters (e.g. `:`, `{`, `}`, `&`) and use single or double quotes to avoid issues."},"___services":{"$ref":"#\/definitions\/services"},"___tags":{"description":"Used to select runners from the list of available runners. A runner must have all tags listed here to run the job.","type":"array","items":{"type":"string"}},"___after_script":{"$ref":"#\/definitions\/after_script"},"___when":{"default":"on_success","oneOf":[{"description":"Execute job only when all jobs from prior stages succeed.","enum":["on_success"]},{"description":"Execute job when at least one job from prior stages fails.","enum":["on_failure"]},{"description":"Execute job regardless of the status from prior stages.","enum":["always"]},{"description":"Execute the job manually from Gitlab UI or API. Read more: https:\/\/docs.gitlab.com\/ee\/ci\/yaml\/#when-manual","enum":["manual"]},{"description":"Execute a job after the time limit in 'start_in' expires. Read more: https:\/\/docs.gitlab.com\/ee\/ci\/yaml\/#when-delayed","enum":["delayed"]}],"description":"Describes the conditions for when to run the job. Defaults to 'on_success'."},"___dependencies":{"description":"Specify a list of job names from earlier stages from which artifacts should be loaded. By default, all previous artifacts are passed. Use an empty array to skip downloading artifacts.","type":"array","items":{"type":"string"}},"___artifacts":{"description":"Used to specify a list of files and directories that should be attached to the job if it succeeds. Artifacts are sent to Gitlab where they can be downloaded.","additionalProperties":false,"type":"object","properties":{"___name":{"description":"Name for the archive created on job success. Can use variables in the name, e.g. '$CI_JOB_NAME'","type":"string"},"___expire_in":{"default":"30 days","description":"How long artifacts should be kept. They are saved 30 days by default. Artifacts that have expired are removed periodically via cron job. Supports a wide variety of formats, e.g. '1 week', '3 mins 4 sec', '2 hrs 20 min', '2h20min', '6 mos 1 day', '47 yrs 6 mos and 4d', '3 weeks and 2 days'.","type":"string"},"___reports":{"description":"Reports will be uploaded as artifacts, and often displayed in the Gitlab UI, such as in Merge Requests.","additionalProperties":false,"type":"object","properties":{"___license_management":{"description":"Path to file or list of files with license report(s).","$ref":"#\/definitions\/string_file_list"},"___container_scanning":{"description":"Path to file or list of files with Container scanning vulnerabilities report(s).","$ref":"#\/definitions\/string_file_list"},"___sast":{"description":"Path to file or list of files with SAST vulnerabilities report(s).","$ref":"#\/definitions\/string_file_list"},"___codequality":{"description":"Path to file or list of files with code quality report(s) (such as Code Climate).","$ref":"#\/definitions\/string_file_list"},"___dependency_scanning":{"description":"Path to file or list of files with Dependency scanning vulnerabilities report(s).","$ref":"#\/definitions\/string_file_list"},"___junit":{"oneOf":[{"description":"Path to a single XML file","type":"string"},{"minLength":1,"description":"A list of paths to XML files that will automatically be concatenated into a single file","type":"array","items":{"type":"string"}}],"description":"Path for file(s) that should be parsed as JUnit XML result"},"___dast":{"description":"Path to file or list of files with DAST vulnerabilities report(s).","$ref":"#\/definitions\/string_file_list"},"___performance":{"description":"Path to file or list of files with performance metrics report(s).","$ref":"#\/definitions\/string_file_list"}}},"___untracked":{"default":false,"description":"Whether to add all untracked files (along with 'artifacts.paths') to the artifact.","type":"boolean"},"___when":{"default":"on_success","oneOf":[{"description":"Upload artifacts only when the job succeeds (this is the default).","enum":["on_success"]},{"description":"Upload artifacts only when the job fails.","enum":["on_failure"]},{"description":"Upload artifacts regardless of job status.","enum":["always"]}],"description":"Configure when artifacts are uploaded depended on job status."},"___paths":{"minLength":1,"description":"A list of paths to files\/folders that should be included in the artifact.","type":"array","items":{"type":"string"}}}},"___image":{"$ref":"#\/definitions\/image"},"___coverage":{"format":"regex","pattern":"^\/.+\/$","description":"Must be a regular expression, optionally but recommended to be quoted, and must be surrounded with '\/'. Example: '\/Code coverage: \\d+\\.\\d+\/'","type":"string"},"___environment":{"description":"Used to associate environment metadata with a deploy. Environment can have a name and URL attached to it, and will be displayed under \/environments under the project.","additionalProperties":false,"type":"object","properties":{"___name":{"minLength":1,"description":"The name of the environment, e.g. 'qa', 'staging', 'production'.","type":"string"},"___action":{"description":"Stops this environment so that it is inactive.","enum":["stop"]},"___url":{"format":"uri","pattern":"^https?:\/\/.+","description":"When set, this will expose buttons in various places for the current environment in Gitlab, that will take you to the defined URL.","type":"string"},"___on_stop":{"description":"The name of a job to execute when the environment is about to be stopped.","type":"string"}},"required":["name"]},"___only":{"description":"Job will run *only* when these filtering options match.","$ref":"#\/definitions\/filter"},"___parallel":{"default":0,"description":"Parallel will split up a single job into several, and provide `CI_NODE_INDEX` and `CI_NODE_TOTAL` environment variables for the running jobs.","maximum":50,"type":"integer","minimum":2},"___allow_failure":{"default":false,"description":"Setting this option to true will allow the job to fail while still letting the pipeline pass.","type":"boolean"},"___extends":{"description":"The name of a job to inherit configuration from.","type":"string"},"___variables":{"$ref":"#\/definitions\/variables"},"___stage":{"default":"test","description":"Define what stage the job will run in.","type":"string"},"___retry":{"oneOf":[{"$ref":"#\/definitions\/retry_max"},{"additionalProperties":false,"type":"object","properties":{"___max":{"$ref":"#\/definitions\/retry_max"},"___when":{"oneOf":[{"$ref":"#\/definitions\/retry_errors"},{"type":"array","items":{"$ref":"#\/definitions\/retry_errors"}}],"description":"Either a single or array of error types to trigger job retry."}}}],"description":"Retry a job if it fails. Can be a simple integer or object definition."},"___before_script":{"$ref":"#\/definitions\/before_script"},"___cache":{"$ref":"#\/definitions\/cache"},"___except":{"description":"Job will run *except* for when these filtering options match.","$ref":"#\/definitions\/filter"}}}},{"anyOf":[{"required":["script"]},{"required":["extends"]}]}]},"_88job_template":{"oneOf":[{"properties":{"___when":{"enum":["delayed"]}},"required":["when","start_in"]},{"properties":{"___when":{"not":{"enum":["delayed"]}}}}],"additionalProperties":false,"type":"object","properties":{"___start_in":{"minLength":1,"description":"Used in conjunction with 'when: delayed' to set how long to delay before starting a job.","type":"string"},"___script":{"oneOf":[{"minLength":1,"type":"string"},{"minItems":1,"type":"array","items":{"type":"string"}}],"description":"Shell scripts executed by the Runner. The only required property of jobs. Be careful with special characters (e.g. `:`, `{`, `}`, `&`) and use single or double quotes to avoid issues."},"___services":{"$eref":{"description":"Similar to `image` property, but will link the specified services to the `image` container.","type":"array","items":{"oneOf":[{"minLength":1,"description":"Full name of the image that should be used. It should contain the Registry part if needed.","type":"string"},{"description":"","additionalProperties":false,"type":"object","properties":{"___name":{"minLength":1,"description":"Full name of the image that should be used. It should contain the Registry part if needed.","type":"string"},"___alias":{"minLength":1,"description":"Additional alias that can be used to access the service from the job's container. Read Accessing the services for more information.","type":"string"},"___command":{"minItems":1,"description":"Command or script that should be used as the container's command. It will be translated to arguments passed to Docker after the image's name. The syntax is similar to Dockerfile's CMD directive, where each shell token is a separate string in the array.","type":"array","items":{"type":"string"}},"___entrypoint":{"minItems":1,"description":"Command or script that should be executed as the container's entrypoint. It will be translated to Docker's --entrypoint option while creating the container. The syntax is similar to Dockerfile's ENTRYPOINT directive, where each shell token is a separate string in the array.","type":"array","items":{"type":"string"}}},"required":["name"]}]}}},"___tags":{"description":"Used to select runners from the list of available runners. A runner must have all tags listed here to run the job.","type":"array","items":{"type":"string"}},"___after_script":{"$eref":{"description":"Defines scripts that should run *after* the job. Can be set globally or per job.","type":"array","items":{"type":"string"}}},"___when":{"default":"on_success","oneOf":[{"description":"Execute job only when all jobs from prior stages succeed.","enum":["on_success"]},{"description":"Execute job when at least one job from prior stages fails.","enum":["on_failure"]},{"description":"Execute job regardless of the status from prior stages.","enum":["always"]},{"description":"Execute the job manually from Gitlab UI or API. Read more: https:\/\/docs.gitlab.com\/ee\/ci\/yaml\/#when-manual","enum":["manual"]},{"description":"Execute a job after the time limit in 'start_in' expires. Read more: https:\/\/docs.gitlab.com\/ee\/ci\/yaml\/#when-delayed","enum":["delayed"]}],"description":"Describes the conditions for when to run the job. Defaults to 'on_success'."},"___dependencies":{"description":"Specify a list of job names from earlier stages from which artifacts should be loaded. By default, all previous artifacts are passed. Use an empty array to skip downloading artifacts.","type":"array","items":{"type":"string"}},"___artifacts":{"description":"Used to specify a list of files and directories that should be attached to the job if it succeeds. Artifacts are sent to Gitlab where they can be downloaded.","additionalProperties":false,"type":"object","properties":{"___name":{"description":"Name for the archive created on job success. Can use variables in the name, e.g. '$CI_JOB_NAME'","type":"string"},"___expire_in":{"default":"30 days","description":"How long artifacts should be kept. They are saved 30 days by default. Artifacts that have expired are removed periodically via cron job. Supports a wide variety of formats, e.g. '1 week', '3 mins 4 sec', '2 hrs 20 min', '2h20min', '6 mos 1 day', '47 yrs 6 mos and 4d', '3 weeks and 2 days'.","type":"string"},"___reports":{"description":"Reports will be uploaded as artifacts, and often displayed in the Gitlab UI, such as in Merge Requests.","additionalProperties":false,"type":"object","properties":{"___license_management":{"$eref":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"description":"Path to file or list of files with license report(s)."},"___container_scanning":{"$eref":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"description":"Path to file or list of files with Container scanning vulnerabilities report(s)."},"___sast":{"$eref":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"description":"Path to file or list of files with SAST vulnerabilities report(s)."},"___codequality":{"$eref":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"description":"Path to file or list of files with code quality report(s) (such as Code Climate)."},"___dependency_scanning":{"$eref":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"description":"Path to file or list of files with Dependency scanning vulnerabilities report(s)."},"___junit":{"oneOf":[{"description":"Path to a single XML file","type":"string"},{"minLength":1,"description":"A list of paths to XML files that will automatically be concatenated into a single file","type":"array","items":{"type":"string"}}],"description":"Path for file(s) that should be parsed as JUnit XML result"},"___dast":{"$eref":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"description":"Path to file or list of files with DAST vulnerabilities report(s)."},"___performance":{"$eref":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"description":"Path to file or list of files with performance metrics report(s)."}}},"___untracked":{"default":false,"description":"Whether to add all untracked files (along with 'artifacts.paths') to the artifact.","type":"boolean"},"___when":{"default":"on_success","oneOf":[{"description":"Upload artifacts only when the job succeeds (this is the default).","enum":["on_success"]},{"description":"Upload artifacts only when the job fails.","enum":["on_failure"]},{"description":"Upload artifacts regardless of job status.","enum":["always"]}],"description":"Configure when artifacts are uploaded depended on job status."},"___paths":{"minLength":1,"description":"A list of paths to files\/folders that should be included in the artifact.","type":"array","items":{"type":"string"}}}},"___image":{"$eref":{"oneOf":[{"minLength":1,"description":"Full name of the image that should be used. It should contain the Registry part if needed.","type":"string"},{"description":"Specifies the docker image to use for the job or globally for all jobs. Job configuration takes precedence over global setting. Requires a certain kind of Gitlab runner executor.","additionalProperties":false,"type":"object","properties":{"___name":{"minLength":1,"description":"Full name of the image that should be used. It should contain the Registry part if needed.","type":"string"},"___entrypoint":{"minItems":1,"description":"Command or script that should be executed as the container's entrypoint. It will be translated to Docker's --entrypoint option while creating the container. The syntax is similar to Dockerfile's ENTRYPOINT directive, where each shell token is a separate string in the array.","type":"array"}},"required":["name"]}],"description":"Specifies the docker image to use for the job or globally for all jobs. Job configuration takes precedence over global setting. Requires a certain kind of Gitlab runner executor."}},"___coverage":{"format":"regex","pattern":"^\/.+\/$","description":"Must be a regular expression, optionally but recommended to be quoted, and must be surrounded with '\/'. Example: '\/Code coverage: \\d+\\.\\d+\/'","type":"string"},"___environment":{"description":"Used to associate environment metadata with a deploy. Environment can have a name and URL attached to it, and will be displayed under \/environments under the project.","additionalProperties":false,"type":"object","properties":{"___name":{"minLength":1,"description":"The name of the environment, e.g. 'qa', 'staging', 'production'.","type":"string"},"___action":{"description":"Stops this environment so that it is inactive.","enum":["stop"]},"___url":{"format":"uri","pattern":"^https?:\/\/.+","description":"When set, this will expose buttons in various places for the current environment in Gitlab, that will take you to the defined URL.","type":"string"},"___on_stop":{"description":"The name of a job to execute when the environment is about to be stopped.","type":"string"}},"required":["name"]},"___only":{"$eref":{"oneOf":[{"$ref":"#\/definitions\/filter_refs"},{"additionalProperties":false,"type":"object","properties":{"___refs":{"$ref":"#\/definitions\/filter_refs"},"___kubernetes":{"description":"Filter job based on if Kubernetes integration is active.","enum":["active"]},"___changes":{"description":"Filter job creation based on files that were modified in a git push.","type":"array","items":{"type":"string"}},"___variables":{"description":"Filter job by checking comparing values of environment variables. Read more about variable expressions: https:\/\/docs.gitlab.com\/ee\/ci\/variables\/README.html#variables-expressions","type":"array","items":{"type":"string"}}}}]},"description":"Job will run *only* when these filtering options match."},"___parallel":{"default":0,"description":"Parallel will split up a single job into several, and provide `CI_NODE_INDEX` and `CI_NODE_TOTAL` environment variables for the running jobs.","maximum":50,"type":"integer","minimum":2},"___allow_failure":{"default":false,"description":"Setting this option to true will allow the job to fail while still letting the pipeline pass.","type":"boolean"},"___extends":{"description":"The name of a job to inherit configuration from.","type":"string"},"___variables":{"$eref":{"description":"Defines environment variables for specific jobs or globally. Job level property overrides global variables. If a job sets `variables: {}`, all global variables are turned off.","additionalProperties":{"type":"string"},"type":"object"}},"___stage":{"default":"test","description":"Define what stage the job will run in.","type":"string"},"___retry":{"oneOf":[{"$eref":{"default":0,"description":"The number of times the job will be retried if it fails. Defaults to 0 and can max be retried 2 times (3 times total).","maximum":2,"type":"integer","minimum":0}},{"additionalProperties":false,"type":"object","properties":{"___max":{"$eref":{"default":0,"description":"The number of times the job will be retried if it fails. Defaults to 0 and can max be retried 2 times (3 times total).","maximum":2,"type":"integer","minimum":0}},"___when":{"oneOf":[{"$eref":{"oneOf":[{"description":"Retry on any failure (default).","enum":["always"]},{"description":"Retry when the failure reason is unknown.","enum":["unknown_failure"]},{"description":"Retry when the script failed.","enum":["script_failure"]},{"description":"Retry on API failure.","enum":["api_failure"]},{"description":"Retry when the job got stuck or timed out.","enum":["stuck_or_timeout_failure"]},{"description":"Retry if there was a runner system failure (e.g. setting up the job failed).","enum":["runner_system_failure"]},{"description":"Retry if a dependency was missing.","enum":["missing_dependency_failure"]},{"description":"Retry if the runner was unsupported.","enum":["runner_unsupported"]}]}},{"type":"array","items":{"$eref":{"oneOf":[{"description":"Retry on any failure (default).","enum":["always"]},{"description":"Retry when the failure reason is unknown.","enum":["unknown_failure"]},{"description":"Retry when the script failed.","enum":["script_failure"]},{"description":"Retry on API failure.","enum":["api_failure"]},{"description":"Retry when the job got stuck or timed out.","enum":["stuck_or_timeout_failure"]},{"description":"Retry if there was a runner system failure (e.g. setting up the job failed).","enum":["runner_system_failure"]},{"description":"Retry if a dependency was missing.","enum":["missing_dependency_failure"]},{"description":"Retry if the runner was unsupported.","enum":["runner_unsupported"]}]}}}],"description":"Either a single or array of error types to trigger job retry."}}}],"description":"Retry a job if it fails. Can be a simple integer or object definition."},"___before_script":{"$eref":{"description":"Defines scripts that should run *before* the job. Can be set globally or per job.","type":"array","items":{"type":"string"}}},"___cache":{"$eref":{"description":"Specify files or directories to cache between jobs. Can be set globally or per job.","additionalProperties":false,"type":"object","properties":{"___key":{"description":"Unique cache ID, to allow e.g. specific branch or job cache. Environment variables can be used to set up unique keys (e.g. \"$CI_COMMIT_REF_SLUG\" for per branch cache).","type":"string"},"___policy":{"default":"pull-push","oneOf":[{"description":"Pull will download cache but skip uploading after job completes.","enum":["pull"]},{"description":"Push will skip downloading cache and always recreate cache after job completes.","enum":["push"]},{"description":"Pull-push will both download cache at job start and upload cache on job success.","enum":["pull-push"]}],"description":"Determines the strategy for downloading and updating the cache.","type":"string"},"___untracked":{"default":false,"description":"Set to `true` to cache untracked files.","type":"boolean"},"___paths":{"description":"List of files or paths to cache.","type":"array","items":{"type":"string"}}}}},"___except":{"$eref":{"oneOf":[{"$ref":"#\/definitions\/filter_refs"},{"additionalProperties":false,"type":"object","properties":{"___refs":{"$ref":"#\/definitions\/filter_refs"},"___kubernetes":{"description":"Filter job based on if Kubernetes integration is active.","enum":["active"]},"___changes":{"description":"Filter job creation based on files that were modified in a git push.","type":"array","items":{"type":"string"}},"___variables":{"description":"Filter job by checking comparing values of environment variables. Read more about variable expressions: https:\/\/docs.gitlab.com\/ee\/ci\/variables\/README.html#variables-expressions","type":"array","items":{"type":"string"}}}}]},"description":"Job will run *except* for when these filtering options match."}}},"_88filter":{"oneOf":[{"$eref":{"description":"Filter job by different keywords that determine origin or state, or by supplying string\/regex to check against branch\/tag names.","type":"array","items":{"anyOf":[{"oneOf":[{"description":"When a branch is pushed.","enum":["branches"]},{"description":"When a tag is pushed.","enum":["tags"]},{"description":"When a pipeline has been triggered by a second pipelines API (not triggers API).","enum":["api"]},{"description":"When using CI services other than Gitlab","enum":["external"]},{"description":"For multi-project triggers, created using the API with 'CI_JOB_TOKEN'.","enum":["pipelines"]},{"description":"Pipeline is triggered by a `git push` by the user","enum":["pushes"]},{"description":"For scheduled pipelines.","enum":["schedules"]},{"description":"For pipelines created using a trigger token.","enum":["triggers"]},{"description":"For pipelines created using *Run pipeline* button in Gitlab UI (under your project's *Pipelines*).","enum":["web"]}]},{"description":"String or regular expression to match against tag or branch names.","type":"string"}]}}},{"additionalProperties":false,"type":"object","properties":{"___refs":{"$eref":{"description":"Filter job by different keywords that determine origin or state, or by supplying string\/regex to check against branch\/tag names.","type":"array","items":{"anyOf":[{"oneOf":[{"description":"When a branch is pushed.","enum":["branches"]},{"description":"When a tag is pushed.","enum":["tags"]},{"description":"When a pipeline has been triggered by a second pipelines API (not triggers API).","enum":["api"]},{"description":"When using CI services other than Gitlab","enum":["external"]},{"description":"For multi-project triggers, created using the API with 'CI_JOB_TOKEN'.","enum":["pipelines"]},{"description":"Pipeline is triggered by a `git push` by the user","enum":["pushes"]},{"description":"For scheduled pipelines.","enum":["schedules"]},{"description":"For pipelines created using a trigger token.","enum":["triggers"]},{"description":"For pipelines created using *Run pipeline* button in Gitlab UI (under your project's *Pipelines*).","enum":["web"]}]},{"description":"String or regular expression to match against tag or branch names.","type":"string"}]}}},"___kubernetes":{"description":"Filter job based on if Kubernetes integration is active.","enum":["active"]},"___changes":{"description":"Filter job creation based on files that were modified in a git push.","type":"array","items":{"type":"string"}},"___variables":{"description":"Filter job by checking comparing values of environment variables. Read more about variable expressions: https:\/\/docs.gitlab.com\/ee\/ci\/variables\/README.html#variables-expressions","type":"array","items":{"type":"string"}}}}]},"_88cache":{"description":"Specify files or directories to cache between jobs. Can be set globally or per job.","additionalProperties":false,"type":"object","properties":{"___key":{"description":"Unique cache ID, to allow e.g. specific branch or job cache. Environment variables can be used to set up unique keys (e.g. \"$CI_COMMIT_REF_SLUG\" for per branch cache).","type":"string"},"___policy":{"default":"pull-push","oneOf":[{"description":"Pull will download cache but skip uploading after job completes.","enum":["pull"]},{"description":"Push will skip downloading cache and always recreate cache after job completes.","enum":["push"]},{"description":"Pull-push will both download cache at job start and upload cache on job success.","enum":["pull-push"]}],"description":"Determines the strategy for downloading and updating the cache.","type":"string"},"___untracked":{"default":false,"description":"Set to `true` to cache untracked files.","type":"boolean"},"___paths":{"description":"List of files or paths to cache.","type":"array","items":{"type":"string"}}}}},"properties":{"___$schema":{"format":"uri","type":"string"},"___services":{"$eref":{"description":"Similar to `image` property, but will link the specified services to the `image` container.","type":"array","items":{"oneOf":[{"minLength":1,"description":"Full name of the image that should be used. It should contain the Registry part if needed.","type":"string"},{"description":"","additionalProperties":false,"type":"object","properties":{"___name":{"minLength":1,"description":"Full name of the image that should be used. It should contain the Registry part if needed.","type":"string"},"___alias":{"minLength":1,"description":"Additional alias that can be used to access the service from the job's container. Read Accessing the services for more information.","type":"string"},"___command":{"minItems":1,"description":"Command or script that should be used as the container's command. It will be translated to arguments passed to Docker after the image's name. The syntax is similar to Dockerfile's CMD directive, where each shell token is a separate string in the array.","type":"array","items":{"type":"string"}},"___entrypoint":{"minItems":1,"description":"Command or script that should be executed as the container's entrypoint. It will be translated to Docker's --entrypoint option while creating the container. The syntax is similar to Dockerfile's ENTRYPOINT directive, where each shell token is a separate string in the array.","type":"array","items":{"type":"string"}}},"required":["name"]}]}}},"___include":{"default":[],"oneOf":[{"format":"uri-reference","pattern":"^(https?:\/\/|\/).+","type":"string"},{"type":"array","items":{"format":"uri-reference","pattern":"^(https?:\/\/|\/).+","type":"string"}}],"description":"Can be string or array of strings which should be an URL or local file reference (e.g. '\/templates\/ci-template.yml'). The external content will be fetched, included and evaluated along the `.gitlab-ci.yml`."},"___after_script":{"$eref":{"description":"Defines scripts that should run *after* the job. Can be set globally or per job.","type":"array","items":{"type":"string"}}},"___stages":{"minItems":1,"default":["build","test","deploy"],"uniqueItems":true,"description":"Groups jobs into stages. All jobs in one stage must complete before next stage is executed. Defaults to ['build', 'test', 'deploy'].","type":"array","items":{"type":"string"}},"___pages":{"$eref":{"allOf":[{"$ref":"#\/definitions\/job_template"},{"anyOf":[{"required":["script"]},{"required":["extends"]}]}]},"description":"A special job used to upload static sites to Gitlab pages. Requires a `public\/` directory with `artifacts.path` pointing to it."},"___variables":{"$eref":{"description":"Defines environment variables for specific jobs or globally. Job level property overrides global variables. If a job sets `variables: {}`, all global variables are turned off.","additionalProperties":{"type":"string"},"type":"object"}},"___image":{"$eref":{"oneOf":[{"minLength":1,"description":"Full name of the image that should be used. It should contain the Registry part if needed.","type":"string"},{"description":"Specifies the docker image to use for the job or globally for all jobs. Job configuration takes precedence over global setting. Requires a certain kind of Gitlab runner executor.","additionalProperties":false,"type":"object","properties":{"___name":{"minLength":1,"description":"Full name of the image that should be used. It should contain the Registry part if needed.","type":"string"},"___entrypoint":{"minItems":1,"description":"Command or script that should be executed as the container's entrypoint. It will be translated to Docker's --entrypoint option while creating the container. The syntax is similar to Dockerfile's ENTRYPOINT directive, where each shell token is a separate string in the array.","type":"array"}},"required":["name"]}],"description":"Specifies the docker image to use for the job or globally for all jobs. Job configuration takes precedence over global setting. Requires a certain kind of Gitlab runner executor."}},"___before_script":{"$eref":{"description":"Defines scripts that should run *before* the job. Can be set globally or per job.","type":"array","items":{"type":"string"}}},"___cache":{"$eref":{"description":"Specify files or directories to cache between jobs. Can be set globally or per job.","additionalProperties":false,"type":"object","properties":{"___key":{"description":"Unique cache ID, to allow e.g. specific branch or job cache. Environment variables can be used to set up unique keys (e.g. \"$CI_COMMIT_REF_SLUG\" for per branch cache).","type":"string"},"___policy":{"default":"pull-push","oneOf":[{"description":"Pull will download cache but skip uploading after job completes.","enum":["pull"]},{"description":"Push will skip downloading cache and always recreate cache after job completes.","enum":["push"]},{"description":"Pull-push will both download cache at job start and upload cache on job success.","enum":["pull-push"]}],"description":"Determines the strategy for downloading and updating the cache.","type":"string"},"___untracked":{"default":false,"description":"Set to `true` to cache untracked files.","type":"boolean"},"___paths":{"description":"List of files or paths to cache.","type":"array","items":{"type":"string"}}}}}},"$id":"https:\/\/gitlab.com\/.gitlab-ci.yml"}