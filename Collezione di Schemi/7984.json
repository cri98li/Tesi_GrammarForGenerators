{"input_schema":{"$schema":"http:\/\/json-schema.org\/draft-06\/schema#","additionalProperties":false,"title":"Image upgrade strategy input","type":"object","properties":{"___fabric_uuid":{"description":"Fabric UUID","type":"string"},"___upgrade_mode":{"description":"Mode in which to run workflow","enum":["test_run","dry_run","upgrade"]},"___image_devices":{"type":"array","items":{"description":"List of images and corresponding devices to upgrade","additionalProperties":false,"title":"Image Devices","type":"object","properties":{"___image_uuid":{"type":"string"},"___device_list":{"description":"List of device UUIDs to be upgraded with this image","type":"array","items":{"format":"uuid","title":"device uuid","type":"string"}}},"required":["image_uuid","device_list"]}},"___device_list":{"description":"List of device UUIDs to be upgraded","type":"array","items":{"format":"uuid","title":"device uuid","type":"string"}},"___advanced_parameters":{"default":{},"description":"Optional parameters used to override defaults","additionalProperties":false,"title":"Advanced parameters","type":"object","properties":{"___Juniper":{"default":{},"additionalProperties":false,"type":"object","properties":{"___l2_total_mac_count_check":{"default":true,"description":"Enable\/disable l2 total mac count check","type":"boolean"},"___alarm":{"default":{},"additionalProperties":false,"type":"object","properties":{"___system_alarm_check":{"default":true,"description":"Enable\/disable system alarm check","type":"boolean"},"___chassis_alarm_check":{"default":true,"description":"Enable\/disable chassis alarm check","type":"boolean"}}},"___storm_control_flag_check":{"default":true,"description":"Enable\/disable storm control flag check","type":"boolean"},"___lacp":{"default":{},"additionalProperties":false,"type":"object","properties":{"___lacp_down_local_check":{"default":true,"description":"Enable\/disable local interface down check","type":"boolean"},"___lacp_down_peer_check":{"default":true,"description":"Enable\/disable peer interface down check","type":"boolean"}}},"___fpc":{"default":{},"additionalProperties":false,"type":"object","properties":{"___fpc_cpu_5min_avg":{"default":50,"description":"FPC CPU 5 minute average utilization","type":"integer"},"___fpc_cpu_5min_avg_check":{"default":true,"description":"Enable\/disable FPC CPU 5 minute average utilizationcheck","type":"boolean"},"___fpc_memory_heap_util":{"default":45,"description":"FPC memory heap utilization","type":"integer"},"___fpc_memory_heap_util_check":{"default":true,"description":"Enable\/disable FPC memory heap utilization check","type":"boolean"}}},"___interface":{"default":{},"additionalProperties":false,"type":"object","properties":{"___interface_carrier_transition_count_check":{"default":true,"description":"Enable\/disable interface carrier transition check","type":"boolean"},"___interface_error_check":{"default":true,"description":"Enable\/disable interface error check","type":"boolean"},"___interface_drop_count_check":{"default":true,"description":"Enable\/disable interface drop check","type":"boolean"}}},"___active_route_count_check":{"default":true,"description":"Enable\/disable active route count check","type":"boolean"},"___routing_engine":{"default":{},"additionalProperties":false,"type":"object","properties":{"___routing_engine_cpu_idle_check":{"default":true,"description":"Enable\/disable routing engine CLU idle time check","type":"boolean"},"___routing_engine_cpu_idle":{"default":60,"description":"Routing engine CPU idle time","type":"integer"}}},"___bgp":{"default":{},"additionalProperties":false,"type":"object","properties":{"___bgp_peer_state_check":{"default":true,"description":"Enable\/disable bgp peer state check","type":"boolean"},"___bgp_down_peer_count":{"default":0,"description":"Number of down peers allowed","type":"integer"},"___bgp_flap_count_check":{"default":true,"description":"Enable\/disable bgp_flap_count check","type":"boolean"},"___bgp_flap_count":{"default":4,"description":"Number of flaps allowed for BGP neighbors","type":"integer"},"___bgp_down_peer_count_check":{"default":true,"description":"Enable\/disable bgp_down_peer_count check","type":"boolean"}}}}},"___bulk_device_upgrade_count":{"default":4,"description":"Maximum number of devices to upgrade simultaneously","type":"integer"},"___health_check_abort":{"default":true,"description":"Enable\/disable abort upon health check failures","type":"boolean"}}}}},"output_schema":{"$schema":"http:\/\/json-schema.org\/draft-06\/schema#","title":"Generic Job Output","type":"object","properties":{"___status":{"description":"Result status of the job","type":"string","enum":["Success","Failure","Timeout"]},"___results":{"description":"JSON object holding the job specific output details","type":"object"},"___message":{"description":"Should capture a summarized error message in case of Failures.","type":"string"}},"required":["status"]}}