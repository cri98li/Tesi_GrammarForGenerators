{"\/\/":"Nothing is required. The administrator can choose not to declare a definitions stanza.","$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"definitions.json","description":"A dict containing JSON snippets which are referenced within the config for clarity or brevity.","id":"http:\/\/judkins.house\/apis\/k2\/v1\/definitions.json","additionalProperties":false,"title":"Definitions","type":"object","properties":{"___kvStoreConfigs":{"minItems":1,"description":"A list of kvStore (e.g. etcd) configurations referenced within the configuration file.","title":"kvStore configurations","type":"array","items":{"$eref":{"oneOf":[{"$ref":"etcdConfig.json"}],"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"kvStoreConfig.json","description":"Describes a kvStore (e.g. etcd) configuration.","id":"http:\/\/judkins.house\/apis\/k2\/v1\/kvStoreConfig.json","title":"kvStore Configuration","type":"object"}}},"___bastionConfigs":{"minItems":1,"description":"A list of bastion configurations within the configuration file.","title":"Bastion configurations","type":"array","items":{"$eref":{"oneOf":[{"$ref":"bastionConfigSimple.json"},{"$ref":"bastionConfigLoadBalanced.json"}],"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"bastionConfig.json","description":"Properties pertaining to a Bastion.","id":"http:\/\/judkins.house\/apis\/k2\/v1\/bastionConfig.json","title":"A Bastion configuration","type":"object"}}},"___loadBalancerConfigs":{"minItems":1,"description":"A list of Load Balancer configurations referenced within the configuration file.","title":"Load Balancer configurations","type":"array","items":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"loadBalancerConfig.json","description":"Load balancer configuration for Kubernetes API servers","id":"http:\/\/judkins.house\/apis\/k2\/v1\/loadBalancerConfig.json","additionalProperties":false,"title":"Load balancer configuration","type":"object","properties":{"___name":{"description":"Name of the load balancer configuration.","type":"string","maxLength":32},"___type":{"description":"Type of load balancer.","type":"string","enum":["cloud","flipbit"]}},"required":["type"]}}},"___autoScalingConfigs":{"minItems":1,"description":"Describes the autoScaling configuration for a nodePool.","title":"AutoScaling configurations","type":"array","items":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"autoScalingConfig.json","description":"Describes the autoScaling configuration for a nodePool.","id":"http:\/\/judkins.house\/apis\/k2\/v1\/autoScalingConfig.json","additionalProperties":false,"title":"AutoScaling configurations","type":"object","properties":{"___enabled":{"description":"Enable or disable the cluster auto-scaler addon.","type":"boolean"},"___minNodes":{"description":"Minimum number of nodes the cluster auto-scaler should scale down to.","type":"number","minimum":1},"___maxNodes":{"description":"Maximum number of nodes the cluster auto-scaler should scale up to.","type":"number","minimum":2}},"required":["minNodes","maxNodes","enabled"]}}},"___nodeConfigs":{"minItems":1,"description":"A list of (provider specific) node configurations referenced within the configuration file.","title":"Node configurations","type":"array","items":{"$eref":{"oneOf":[{"$ref":"awsNodeConfig.json"},{"$ref":"gkeNodeConfig.json"}],"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"nodeConfig.json","description":"Describes the configuration of a node within a nodePool.","id":"http:\/\/judkins.house\/apis\/k2\/v1\/nodeConfig.json","title":"Node Configuration"}}},"___osConfigs":{"minItems":1,"description":"A list of OS configurations referenced within the configuration file.","title":"OS configurations","type":"array","items":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"osConfig.json","description":"Describes the OS configuration for a node.","anyOf":[{"$ref":"coreOsConfig.json"}],"id":"http:\/\/judkins.house\/apis\/k2\/v1\/osConfig.json","title":"OS Configuration"}}},"___apiServerConfigs":{"minItems":1,"description":"A list of API server configurations referenced within the configuration file.","title":"API server configurations","type":"array","items":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"apiServerConfig.json","description":"API Server properties such as the state kvStore (e.g. etcd) or flags","id":"http:\/\/judkins.house\/apis\/k2\/v1\/apiServerConfig.json","additionalProperties":false,"title":"Kubernetes API server configuration","type":"object","properties":{"___name":{"description":"Name of the API server configuration","type":"string"},"___loadBalancerConfigs":{"description":"Further configuration options for the load balancer.","$ref":"awsLoadBalancerConfig.json"},"___flags":{"description":"Flags that we allow to change for a kraken cluster","$ref":"apiServerFlags.json"},"___state":{"etcd":{"$ref":"kvStoreConfig.json"}},"___events":{"etcd":{"$ref":"kvStoreConfig.json"}},"___loadBalancer":{"description":"What sort of load balancer system should be used","type":"string","enum":["cloud","flipbit"]},"___kind":{"description":"Type of apiServer","type":"string","enum":["apiServer"]}},"required":["name","loadBalancer","state","events"]}}},"___providerConfigs":{"minItems":1,"description":"A list of provider (e.g. AWS, GKE, etc.) configurations referenced within the configuration file.","title":"Provider configurations","type":"array","items":{"$eref":{"oneOf":[{"$ref":"awsProviderConfig.json"},{"$ref":"gkeProviderConfig.json"}],"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"providerConfig.json","description":"Describes the provider specific (e.g. AWS, GKE, etc.) configuration.","id":"http:\/\/judkins.house\/apis\/k2\/v1\/providerConfig.json","title":"Provider Configuration"}}},"___kubeAuth":{"minItems":1,"description":"A list of Kubernetes Authenications entries referenced within the configuration file.","title":"Kubernetes Authentication configurations","type":"array","items":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"kubeAuthConfig.json","description":"Kubernetes Authentication Entry","id":"http:\/\/judkins.house\/apis\/k2\/v1\/kubeAuthConfig.json","additionalProperties":false,"title":"Kubernetes Authentication Entry","type":"object","properties":{"___authz":{"$ref":"kubeAuthAuthzEntry.json"},"___authn":{"$ref":"kubeAuthAuthnEntry.json"}},"required":["authn"]}}},"___helmConfigs":{"minItems":1,"description":"A list of Helm configurations referenced within the configuration file.","title":"Helm configurations","type":"array","items":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"helmConfig.json","description":"Configuration for helm for use in K2.","id":"http:\/\/judkins.house\/apis\/k2\/v1\/helmConfig.json","additionalProperties":false,"title":"Helm Configuration","type":"object","properties":{"___name":{"description":"Name of the helm configuration.","type":"string"},"___repos":{"description":"List of helm repositories we want installed.","type":"array","items":{"$ref":"helmRepo.json"}},"___registries":{"description":"List of helm app registries we want installed.","type":"array","items":{"$ref":"helmRegistry.json"}},"___kind":{"description":"Kind of kubernetes package manager.","type":"string"},"___charts":{"description":"List of helm charts we want installed.","type":"array","items":{"$ref":"helmChart.json"}}},"required":["name","repos","charts"]}}},"___dnsConfig":{"minItems":1,"description":"A list of DNS configurations referenced within the configuration file.","title":"DNS configurations","type":"array","items":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"dnsConfig.json","description":"Describes the configuration of a DNS service for the cluster.","id":"http:\/\/judkins.house\/apis\/k2\/v1\/dnsConfig.json","additionalProperties":false,"title":"Cluster DNS configuration","type":"object","properties":{"___name":{"description":"Name of cluster DNS configuration.","type":"string"},"___kubedns":{"$ref":"kubeDns.json"},"___kind":{"description":"Type of cluster DNS configuration.","type":"string","enum":["dns"]}},"required":["name","kubedns"]}}},"___schedulingConfigs":{"description":"Taint information for pod scheduling.","title":"Pod Scheduling configuration.","type":"array","items":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"schedulingConfig.json","description":"Describes configuration of taints added per nodePool","id":"http:\/\/judkins.house\/apis\/k2\/v1\/schedulingConfig.json","additionalProperties":false,"title":"Scheduling configuration","type":"object","properties":{"___name":{"description":"Name of the scheduling configuration.","type":"string"},"___kind":{"description":"Scheduling configuration for taints and labels.","type":"string","enum":["scheduling"]},"___taints":{"description":"List of taints to apply to node","type":"array","items":{"$ref":"kubeNodeTaint.json"}}}}}},"___kubeConfigs":{"minItems":1,"description":"A list of Kubernetes configurations referenced within the configuration file.","title":"Kubernetes configurations","type":"array","items":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"kubeConfig.json","description":"The location and version of a container containing the Kubernetes hyperkube binary.","id":"http:\/\/judkins.house\/apis\/k2\/v1\/kubeConfig.json","additionalProperties":false,"title":"A Kubernetes configuration","type":"object","properties":{"___name":{"description":"Name of the Kubernetes configuration.","type":"string"},"___version":{"format":"semver","description":"Version of the hyperkube binary.","type":"string"},"___kind":{"description":"Type of kubeconfig","type":"string","enum":["kubernetes"]},"___hyperkubeLocation":{"format":"uri","description":"Location of the Kubernetes container.","type":"string"}},"required":["name","version"]}}},"___containerConfigs":{"minItems":1,"description":"A list of container configurations referenced within the configuration file.","title":"Container configurations","type":"array","items":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"containerConfig.json","description":"Container runtime specific configuration.","anyOf":[{"$ref":"dockerContainerConfig.json"}],"id":"http:\/\/judkins.house\/apis\/k2\/v1\/containerConfig.json","title":"Container Configuration"}}},"___fabricConfigs":{"minItems":1,"description":"A list of fabric configurations referenced within the configuration file.","title":"Fabric configurations","type":"array","items":{"$eref":{"oneOf":[{"$ref":"canalFabricConfig.json"},{"$ref":"weaveFabricConfig.json"},{"$ref":"kubeVersionedFabric.json"}],"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"fabricConfig.json","description":"Describes the configuration of a network fabric for use with kubernetes.","id":"http:\/\/judkins.house\/apis\/k2\/v1\/fabricConfig.json","title":"Fabric Configuration"}}},"___keyPairs":{"minItems":1,"description":"A list of key pairs referenced within the configuration file.","title":"Key pairs","type":"array","items":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","$$target":"keyPair.json","description":"Key Pairs Entry for use in K2.","id":"http:\/\/judkins.house\/apis\/k2\/v1\/keyPair.json","additionalProperties":false,"title":"Key Pairs Entry for use in K2","type":"object","properties":{"___name":{"description":"Name given to the key entry for identification in other k2 configuration areas.","type":"string"},"___providerConfig":{"description":"Provider Specific information about key pairs.","anyOf":[{"$ref":"gkeKeyPairConfig.json"}]},"___publickeyFile":{"description":"Location of the public key on the host running K2.","type":"string"},"___kind":{"description":"Type configuration node this is","type":"string","enum":["keyPair"]},"___privatekeyFile":{"description":"Location of the private key on the host running K2.","type":"string"}},"required":["name"]}}}}}