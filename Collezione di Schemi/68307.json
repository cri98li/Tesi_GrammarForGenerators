{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"This schema specifies the structure of a single serialized model from the 'crosscat' generator in bayeslite. Such serialized models are stored in the theta_json column of the bayesdb_crosscat_theta table of a .bdb file.","additionalProperties":false,"title":"schema for a serialized crosscat model","type":"object","definitions":{"_88normalStats":{"description":"Sufficient statistics for a normal category","additionalProperties":false,"type":"object","properties":{"___sum_x":{"type":"number"},"___N":{"type":"number"},"___sum_x_squared":{"type":"number"}},"required":["N","sum_x","sum_x_squared"]},"_88numericHypers":{"description":"Hyperparameters for a normal-inverse-gamma distribution in column_hypers","additionalProperties":false,"type":"object","properties":{"___mu":{"type":"number"},"___nu":{"type":"number"},"___s":{"type":"number"},"___r":{"type":"number"},"___fixed":{"$eref":{"description":"Hyperparameter 'fixed'. Nonzero in theory if Crosscat cannot do hyperparameter inference. Always zero.","maximum":0,"type":"number","minimum":0}}},"required":["fixed"]},"_88categoricalHypers":{"description":"Hyperparameters for a Dirichlet distribution in column_hypers. dirichlet_alpha is a single number because the model only allows for Dirichlets with uniform priors; {'dirichlet_alpha': 0.5, 'K': 2} is the Beta(0.5,0.5) distribution.","additionalProperties":false,"type":"object","properties":{"___K":{"type":"number"},"___dirichlet_alpha":{"type":"number"},"___fixed":{"$eref":{"description":"Hyperparameter 'fixed'. Nonzero in theory if Crosscat cannot do hyperparameter inference. Always zero.","maximum":0,"type":"number","minimum":0}}},"required":["fixed","dirichlet_alpha","K"]},"_88cyclicHypers":{"description":"Hyperparameters for a von Mises distribution in column_hypers","additionalProperties":false,"type":"object","properties":{"___kappa":{"type":"number"},"___a":{"type":"number"},"___fixed":{"$eref":{"description":"Hyperparameter 'fixed'. Nonzero in theory if Crosscat cannot do hyperparameter inference. Always zero.","maximum":0,"type":"number","minimum":0}},"___b":{"type":"number"}},"required":["fixed","a","b","kappa"]},"_88emptyStats":{"additionalProperties":false,"type":"object"},"_88multinomialStats":{"patternProperties":{"___[0-9]+":{"type":"number"}},"description":"Sufficient statistics for a multinomial category. '0', '1', etc. properties are counts.","additionalProperties":false,"type":"object","properties":{"___N":{"type":"number"}},"required":["N"]},"_88dependenceContstraints":{"patternProperties":{"___[0-9]+":{"type":"array","items":{"type":"integer"}}},"description":"Specifies a collection of dependence or independence constraints. Maps a column index to the list of columns on which it is (in)dependent.","additionalProperties":false,"type":"object"},"_88fixed":{"description":"Hyperparameter 'fixed'. Nonzero in theory if Crosscat cannot do hyperparameter inference. Always zero.","maximum":0,"type":"number","minimum":0},"_88vonMisesStats":{"description":"Sufficient statistics for a von Mises category.","additionalProperties":false,"type":"object","properties":{"___sum_cos_x":{"type":"number"},"___sum_sin_x":{"type":"number"},"___N":{"type":"number"}},"required":["N","sum_cos_x","sum_sin_x"]}},"properties":{"___model_config":{"description":"Metainformation about the model, independent of its current state. It is always the same value.","additionalProperties":false,"type":"object","properties":{"___kernel_list":{"description":"See transition_name_to_method_name_and_args in crosscat\/src\/cython_code\/State.pyx.","type":"array","items":{"enum":["column_partition_hyperparameter","column_partition_assignments","column_hyperparameters","row_partition_hyperparameters","row_partition_assignments"]}},"___row_initialization":{"enum":["from_the_prior"]},"___initialization":{"enum":["from_the_prior"]}},"required":["initialization","kernel_list","row_initialization"]},"___X_L":{"description":"X_L specifies the latent state of the model.","additionalProperties":false,"type":"object","properties":{"___col_ensure":{"description":"Optional declaration of (in)dependence constraints","additionalProperties":false,"type":"object","properties":{"___independent":{"$eref":{"patternProperties":{"___[0-9]+":{"type":"array","items":{"type":"integer"}}},"description":"Specifies a collection of dependence or independence constraints. Maps a column index to the list of columns on which it is (in)dependent.","additionalProperties":false,"type":"object"}},"___dependent":{"$eref":{"patternProperties":{"___[0-9]+":{"type":"array","items":{"type":"integer"}}},"description":"Specifies a collection of dependence or independence constraints. Maps a column index to the list of columns on which it is (in)dependent.","additionalProperties":false,"type":"object"}}}},"___column_hypers":{"description":"Hyperparameters for a column. Model parameters within a category are drawn from the distribution implied by these parameters. Elements correspond to columns.","type":"array","items":{"oneOf":[{"$eref":{"description":"Hyperparameters for a normal-inverse-gamma distribution in column_hypers","additionalProperties":false,"type":"object","properties":{"___mu":{"type":"number"},"___nu":{"type":"number"},"___s":{"type":"number"},"___r":{"type":"number"},"___fixed":{"$ref":"#\/definitions\/fixed"}},"required":["fixed"]}},{"$eref":{"description":"Hyperparameters for a Dirichlet distribution in column_hypers. dirichlet_alpha is a single number because the model only allows for Dirichlets with uniform priors; {'dirichlet_alpha': 0.5, 'K': 2} is the Beta(0.5,0.5) distribution.","additionalProperties":false,"type":"object","properties":{"___K":{"type":"number"},"___dirichlet_alpha":{"type":"number"},"___fixed":{"$ref":"#\/definitions\/fixed"}},"required":["fixed","dirichlet_alpha","K"]}},{"$eref":{"description":"Hyperparameters for a von Mises distribution in column_hypers","additionalProperties":false,"type":"object","properties":{"___kappa":{"type":"number"},"___a":{"type":"number"},"___fixed":{"$ref":"#\/definitions\/fixed"},"___b":{"type":"number"}},"required":["fixed","a","b","kappa"]}}]}},"___column_partition":{"description":"Describes the partitioning of variables into views.","additionalProperties":false,"type":"object","properties":{"___counts":{"description":"Element v has value n if view v has n variables in it. This is redundant with assignments. This array has the same length as X_D.","type":"array","items":{"type":"integer","minimum":0}},"___assignments":{"description":"An array of view assignments. Element k has value v if variable k is in view v.","type":"array","items":{"type":"integer","minimum":0}},"___hypers":{"additionalProperties":false,"type":"object","properties":{"___alpha":{"description":"Parameter for the CRP that generates the views.","type":"number","minimum":0}},"required":["alpha"]}},"required":["assignments","counts","hypers"]},"___view_state":{"description":"Each element corresponds to a view and contains all information about that view.","type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___column_names":{"description":"An array of the column names in the view. If X_L.view_state[2].column_names[4] is 'S', and the fifth element of X_L.column_partition.assignments with value 2 has index k, then column k has name 'S'.","type":"array","items":{"type":"string"}},"___row_partition_model":{"description":"Latent state for assignment of variables to categories in this view.","additionalProperties":false,"type":"object","properties":{"___counts":{"description":"Index is category, value is number of variables in that category.","type":"array","items":{"type":"integer"}},"___hypers":{"additionalProperties":false,"type":"object","properties":{"___alpha":{"description":"Dirichlet parameter for assignment of variables to categories in this view.","type":"number","exclusiveMinimum":true,"minimum":0}},"required":["alpha"]}},"required":["counts","hypers"]},"___column_component_suffstats":{"description":"An array of sufficient statistics of the categories of this view. There is one element for each column in the view. This element is itself an array with one element for each category.","type":"array","items":{"description":"Array of sufficient-statistics objects for one category of this view.","type":"array","items":{"oneOf":[{"$eref":{"description":"Sufficient statistics for a normal category","additionalProperties":false,"type":"object","properties":{"___sum_x":{"type":"number"},"___N":{"type":"number"},"___sum_x_squared":{"type":"number"}},"required":["N","sum_x","sum_x_squared"]}},{"$eref":{"patternProperties":{"___[0-9]+":{"type":"number"}},"description":"Sufficient statistics for a multinomial category. '0', '1', etc. properties are counts.","additionalProperties":false,"type":"object","properties":{"___N":{"type":"number"}},"required":["N"]}},{"$eref":{"description":"Sufficient statistics for a von Mises category.","additionalProperties":false,"type":"object","properties":{"___sum_cos_x":{"type":"number"},"___sum_sin_x":{"type":"number"},"___N":{"type":"number"}},"required":["N","sum_cos_x","sum_sin_x"]}},{"$eref":{"additionalProperties":false,"type":"object"}}]}}}},"required":["column_names","column_component_suffstats","row_partition_model"]}}},"required":["column_partition","column_hypers","view_state"]},"___iterations":{"description":"The number of iterations ANALYZE has been run for on this model.","type":"integer","minimum":0},"___X_D":{"description":"X_D specifies the mapping of data rows into categories for each view. It is an array with an element for each view. So, if there were three data rows and two views, X_D could be [[0, 0, 0], [0, 1, 1]]. The first view would assign all rows to a single category. The second view would assign the first row to one category and last two rows to a second category.","type":"array","items":{"type":"array","items":{"type":"integer","minimum":0}}}},"required":["X_D","X_L","model_config","iterations"]}