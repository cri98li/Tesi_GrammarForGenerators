{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"schema for Sync pings, documentation avaliable in toolkit\/components\/telemetry\/docs\/sync-ping.rst","additionalProperties":false,"type":"object","definitions":{"_88shutdownError":{"properties":{"___name":{"enum":["shutdownerror"]}},"required":["name"]},"_88otherError":{"properties":{"___name":{"enum":["othererror"]},"___error":{"type":"string"}},"required":["name"]},"_88sqlError":{"properties":{"___name":{"enum":["sqlerror"]},"___code":{"type":"integer"}},"required":["name"]},"_88nsError":{"properties":{"___name":{"enum":["nserror"]},"___code":{"type":"integer"}},"required":["name","code"]},"_88authError":{"properties":{"___name":{"enum":["autherror"]},"___from":{"enum":["tokenserver","fxaccounts","hawkclient"]}},"required":["name"]},"_88error":{"oneOf":[{"$eref":{"properties":{"___name":{"enum":["httperror"]},"___code":{"type":"integer"}},"required":["name","code"]}},{"$eref":{"properties":{"___name":{"enum":["nserror"]},"___code":{"type":"integer"}},"required":["name","code"]}},{"$eref":{"properties":{"___name":{"enum":["shutdownerror"]}},"required":["name"]}},{"$eref":{"properties":{"___name":{"enum":["autherror"]},"___from":{"enum":["tokenserver","fxaccounts","hawkclient"]}},"required":["name"]}},{"$eref":{"properties":{"___name":{"enum":["othererror"]},"___error":{"type":"string"}},"required":["name"]}},{"$eref":{"properties":{"___name":{"enum":["unexpectederror"]},"___error":{"type":"string"}},"required":["name"]}},{"$eref":{"properties":{"___name":{"enum":["sqlerror"]},"___code":{"type":"integer"}},"required":["name"]}}]},"_88httpError":{"properties":{"___name":{"enum":["httperror"]},"___code":{"type":"integer"}},"required":["name","code"]},"_88validationProblem":{"properties":{"___name":{"type":"string"},"___count":{"type":"integer"}},"required":["name","count"]},"_88outgoingBatch":{"anyOf":[{"required":["sent"]},{"required":["failed"]}],"additionalProperties":false,"type":"object","properties":{"___failed":{"type":"integer","minimum":1},"___sent":{"type":"integer","minimum":1}}},"_88payload":{"additionalProperties":false,"type":"object","properties":{"___devices":{"type":"array","items":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___version":{"type":"string"},"___os":{"type":"string"},"___id":{"pattern":"^[0-9a-f]{64}$","type":"string"}},"required":["os","id","version"]}}},"___status":{"anyOf":[{"required":["sync"]},{"required":["service"]}],"additionalProperties":false,"type":"object","properties":{"___sync":{"type":"string"},"___service":{"type":"string"}}},"___didLogin":{"type":"boolean"},"___when":{"type":"integer"},"___failureReason":{"$eref":{"oneOf":[{"$ref":"#\/definitions\/httpError"},{"$ref":"#\/definitions\/nsError"},{"$ref":"#\/definitions\/shutdownError"},{"$ref":"#\/definitions\/authError"},{"$ref":"#\/definitions\/otherError"},{"$ref":"#\/definitions\/unexpectedError"},{"$ref":"#\/definitions\/sqlError"}]}},"___took":{"type":"integer","minimum":-1},"___why":{"enum":["startup","schedule","score","user","tabs"]},"___engines":{"minItems":1,"type":"array","items":{"$eref":{"additionalProperties":false,"properties":{"___name":{"enum":["addons","bookmarks","clients","forms","history","passwords","prefs","tabs"]},"___status":{"type":"string"},"___validation":{"anyOf":[{"required":["checked"]},{"required":["failureReason"]}],"additionalProperties":false,"type":"object","properties":{"___problems":{"minItems":1,"type":"array","$ref":"#\/definitions\/validationProblem"},"___version":{"type":"integer"},"___failureReason":{"$ref":"#\/definitions\/error"},"___took":{"type":"integer"},"___checked":{"type":"integer","minimum":0}}},"___incoming":{"anyOf":[{"required":["applied"]},{"required":["failed"]},{"required":["newFailed"]},{"required":["reconciled"]}],"additionalProperties":false,"type":"object","properties":{"___applied":{"type":"integer","minimum":1},"___newFailed":{"type":"integer","minimum":1},"___failed":{"type":"integer","minimum":1},"___reconciled":{"type":"integer","minimum":1}}},"___outgoing":{"minItems":1,"type":"array","items":{"$ref":"#\/definitions\/outgoingBatch"}},"___failureReason":{"$ref":"#\/definitions\/error"},"___took":{"type":"integer","minimum":1}},"required":["name"]}}}},"required":["when","took"]},"_88event":{"minItems":4,"maxItems":6,"type":"array"},"_88unexpectedError":{"properties":{"___name":{"enum":["unexpectederror"]},"___error":{"type":"string"}},"required":["name"]},"_88engine":{"additionalProperties":false,"properties":{"___name":{"enum":["addons","bookmarks","clients","forms","history","passwords","prefs","tabs"]},"___status":{"type":"string"},"___validation":{"anyOf":[{"required":["checked"]},{"required":["failureReason"]}],"additionalProperties":false,"type":"object","properties":{"___problems":{"minItems":1,"$eref":{"properties":{"___name":{"type":"string"},"___count":{"type":"integer"}},"required":["name","count"]},"type":"array"},"___version":{"type":"integer"},"___failureReason":{"$eref":{"oneOf":[{"$ref":"#\/definitions\/httpError"},{"$ref":"#\/definitions\/nsError"},{"$ref":"#\/definitions\/shutdownError"},{"$ref":"#\/definitions\/authError"},{"$ref":"#\/definitions\/otherError"},{"$ref":"#\/definitions\/unexpectedError"},{"$ref":"#\/definitions\/sqlError"}]}},"___took":{"type":"integer"},"___checked":{"type":"integer","minimum":0}}},"___incoming":{"anyOf":[{"required":["applied"]},{"required":["failed"]},{"required":["newFailed"]},{"required":["reconciled"]}],"additionalProperties":false,"type":"object","properties":{"___applied":{"type":"integer","minimum":1},"___newFailed":{"type":"integer","minimum":1},"___failed":{"type":"integer","minimum":1},"___reconciled":{"type":"integer","minimum":1}}},"___outgoing":{"minItems":1,"type":"array","items":{"$eref":{"anyOf":[{"required":["sent"]},{"required":["failed"]}],"additionalProperties":false,"type":"object","properties":{"___failed":{"type":"integer","minimum":1},"___sent":{"type":"integer","minimum":1}}}}},"___failureReason":{"$eref":{"oneOf":[{"$ref":"#\/definitions\/httpError"},{"$ref":"#\/definitions\/nsError"},{"$ref":"#\/definitions\/shutdownError"},{"$ref":"#\/definitions\/authError"},{"$ref":"#\/definitions\/otherError"},{"$ref":"#\/definitions\/unexpectedError"},{"$ref":"#\/definitions\/sqlError"}]}},"___took":{"type":"integer","minimum":1}},"required":["name"]},"_88device":{"additionalProperties":false,"type":"object","properties":{"___version":{"type":"string"},"___os":{"type":"string"},"___id":{"pattern":"^[0-9a-f]{64}$","type":"string"}},"required":["os","id","version"]}},"properties":{"___syncs":{"minItems":1,"type":"array","items":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___devices":{"type":"array","items":{"$ref":"#\/definitions\/device"}},"___status":{"anyOf":[{"required":["sync"]},{"required":["service"]}],"additionalProperties":false,"type":"object","properties":{"___sync":{"type":"string"},"___service":{"type":"string"}}},"___didLogin":{"type":"boolean"},"___when":{"type":"integer"},"___failureReason":{"$ref":"#\/definitions\/error"},"___took":{"type":"integer","minimum":-1},"___why":{"enum":["startup","schedule","score","user","tabs"]},"___engines":{"minItems":1,"type":"array","items":{"$ref":"#\/definitions\/engine"}}},"required":["when","took"]}}},"___deviceID":{"pattern":"^[0-9a-f]{64}$","type":"string"},"___version":{"type":"integer","minimum":0},"___events":{"minItems":1,"type":"array","items":{"$eref":{"minItems":4,"maxItems":6,"type":"array"}}},"___uid":{"pattern":"^[0-9a-f]{32}$","type":"string"},"___discarded":{"type":"integer","minimum":1},"___why":{"enum":["shutdown","schedule","idchange"]}},"required":["version","syncs","why","uid"]}