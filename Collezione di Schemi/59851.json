{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"This document describes how to interact with broccoli Job Executor system","id":"https:\/\/portal.webgap.eu\/alpaca\/schemas\/broccoli.json","additionalProperties":false,"title":"Broccoli schema definition","type":"object","definitions":{"_88filter":{"description":"Search in","additionalProperties":false,"title":"Line","type":"object","properties":{"___copy":{"description":"One copy of the file per regex match?","title":"Copy file for each Match?","type":"boolean"},"___filterFile":{"minLength":1,"description":"Please specify the file you want to filter or a regex","title":"File to read","type":"string"},"___placeholder":{"minLength":1,"description":"The placeholder in the file(s) you want to be replaced with the matched results","title":"Placeholder","type":"string"},"___writeFile":{"minLength":1,"description":"Please specify the file you want to write the matching results or a regex","title":"File to write","type":"string"},"___pattern":{"minLength":1,"description":"This regex should match exactly what you want to extract from the file(s)","title":"Matching Regex","type":"string"}}},"_88task":{"description":"A Task is a simple process holding a name, a description, steps to run a command and following Sub Tasks (Guidance Tasks)","additionalProperties":false,"title":"Describes a Task","type":"object","properties":{"___taskName":{"minLength":1,"description":"A Name for the Task","title":"Task Name","type":"string","maxLength":100},"___children":{"additionalItems":false,"description":"Defines the Tasks to execute after the current Task finishes","title":"Tasks","type":"array","items":{"$eref":{"description":"A Task is a simple process holding a name, a description, steps to run a command and following Sub Tasks (Guidance Tasks)","additionalProperties":false,"title":"Describes a Task","type":"object","properties":{"___taskName":{"minLength":1,"description":"A Name for the Task","title":"Task Name","type":"string","maxLength":100},"___children":{"additionalItems":false,"description":"Defines the Tasks to execute after the current Task finishes","title":"Tasks","type":"array","items":{"description":"A Task is a simple process holding a name, a description, steps to run a command and following Tasks","additionalProperties":false,"title":"Guidance Task","$ref":"#\/definitions\/task"}},"___taskDescription":{"minLength":1,"description":"Description of the Task","title":"Task Description","type":"string","maxLength":255},"___preparation":{"oneOf":[{"description":"","title":"Just run commands","$ref":"#\/definitions\/none"},{"description":"Please use '$file' placeholder in the commands section if you want to use the matched files or $line if you want the matched content","title":"Filter","$ref":"#\/definitions\/filter"}],"description":"What to do to before run this task. It can be a simple command, read a file line by line or search for files to process","title":"What do you want to do?","type":"object"},"___wait":{"description":"Set it to true if this Task should wait for others to complete before moving on to children","title":"Wait for other Tasks, at same level, to complete","type":"boolean"},"___failTolerant":{"description":"Set it to true if children can be processed even if one of the commands fails","title":"Do not exit if command fails.","type":"boolean"},"___commands":{"minItems":1,"uniqueItems":false,"additionalItems":false,"description":"The commands, or tools, you want to execute","title":"Commands","type":"array","items":{"minLength":1,"description":"The command to execute","title":"Command","type":"string"}},"___workingDir":{"description":"The Working directory where the task will run. Can be a relative path to the Job Working Directory","title":"Working directory","type":"string"}},"required":["taskName","commands"]},"description":"A Task is a simple process holding a name, a description, steps to run a command and following Tasks","additionalProperties":false,"title":"Guidance Task"}},"___taskDescription":{"minLength":1,"description":"Description of the Task","title":"Task Description","type":"string","maxLength":255},"___preparation":{"oneOf":[{"$eref":{"description":"Search in","additionalProperties":false,"title":"File","type":"object","properties":{}},"description":"","title":"Just run commands"},{"$eref":{"description":"Search in","additionalProperties":false,"title":"Line","type":"object","properties":{"___copy":{"description":"One copy of the file per regex match?","title":"Copy file for each Match?","type":"boolean"},"___filterFile":{"minLength":1,"description":"Please specify the file you want to filter or a regex","title":"File to read","type":"string"},"___placeholder":{"minLength":1,"description":"The placeholder in the file(s) you want to be replaced with the matched results","title":"Placeholder","type":"string"},"___writeFile":{"minLength":1,"description":"Please specify the file you want to write the matching results or a regex","title":"File to write","type":"string"},"___pattern":{"minLength":1,"description":"This regex should match exactly what you want to extract from the file(s)","title":"Matching Regex","type":"string"}}},"description":"Please use '$file' placeholder in the commands section if you want to use the matched files or $line if you want the matched content","title":"Filter"}],"description":"What to do to before run this task. It can be a simple command, read a file line by line or search for files to process","title":"What do you want to do?","type":"object"},"___wait":{"description":"Set it to true if this Task should wait for others to complete before moving on to children","title":"Wait for other Tasks, at same level, to complete","type":"boolean"},"___failTolerant":{"description":"Set it to true if children can be processed even if one of the commands fails","title":"Do not exit if command fails.","type":"boolean"},"___commands":{"minItems":1,"uniqueItems":false,"additionalItems":false,"description":"The commands, or tools, you want to execute","title":"Commands","type":"array","items":{"minLength":1,"description":"The command to execute","title":"Command","type":"string"}},"___workingDir":{"description":"The Working directory where the task will run. Can be a relative path to the Job Working Directory","title":"Working directory","type":"string"}},"required":["taskName","commands"]},"_88none":{"description":"Search in","additionalProperties":false,"title":"File","type":"object","properties":{}}},"properties":{"___jobDescription":{"minLength":1,"description":"The Job Description is used to provide more details on the Job to perform","title":"Job Description","type":"string","maxLength":255},"___tasks":{"minItems":1,"uniqueItems":false,"additionalItems":false,"description":"The Tasks to execute within this Job","title":"Tasks","type":"array","items":{"$eref":{"description":"A Task is a simple process holding a name, a description, steps to run a command and following Sub Tasks (Guidance Tasks)","additionalProperties":false,"title":"Describes a Task","type":"object","properties":{"___taskName":{"minLength":1,"description":"A Name for the Task","title":"Task Name","type":"string","maxLength":100},"___children":{"additionalItems":false,"description":"Defines the Tasks to execute after the current Task finishes","title":"Tasks","type":"array","items":{"description":"A Task is a simple process holding a name, a description, steps to run a command and following Tasks","additionalProperties":false,"title":"Guidance Task","$ref":"#\/definitions\/task"}},"___taskDescription":{"minLength":1,"description":"Description of the Task","title":"Task Description","type":"string","maxLength":255},"___preparation":{"oneOf":[{"description":"","title":"Just run commands","$ref":"#\/definitions\/none"},{"description":"Please use '$file' placeholder in the commands section if you want to use the matched files or $line if you want the matched content","title":"Filter","$ref":"#\/definitions\/filter"}],"description":"What to do to before run this task. It can be a simple command, read a file line by line or search for files to process","title":"What do you want to do?","type":"object"},"___wait":{"description":"Set it to true if this Task should wait for others to complete before moving on to children","title":"Wait for other Tasks, at same level, to complete","type":"boolean"},"___failTolerant":{"description":"Set it to true if children can be processed even if one of the commands fails","title":"Do not exit if command fails.","type":"boolean"},"___commands":{"minItems":1,"uniqueItems":false,"additionalItems":false,"description":"The commands, or tools, you want to execute","title":"Commands","type":"array","items":{"minLength":1,"description":"The command to execute","title":"Command","type":"string"}},"___workingDir":{"description":"The Working directory where the task will run. Can be a relative path to the Job Working Directory","title":"Working directory","type":"string"}},"required":["taskName","commands"]},"description":"A Task is a simple process holding a name, a description, steps to run a command and following Tasks","additionalProperties":false,"title":"Task"}},"___timeout":{"exclusiveMaximum":false,"multipleOf":1,"description":"The Timeout in seconds for the executor to trigger the kill of all processes running for this Job","maximum":86400,"exclusiveMinimum":false,"title":"Timeout","type":"integer","minimum":1},"___jobName":{"minLength":1,"description":"The Job Name is used to identify the Job running","title":"Job Name","type":"string","maxLength":100},"___workingDir":{"minLength":1,"description":"The root Working directory where the processor will run. All paths will be relative from here","title":"Working directory","type":"string"}},"required":["jobName","workingDir","timeout","tasks"]}