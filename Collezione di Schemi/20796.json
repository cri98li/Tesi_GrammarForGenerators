{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","additionalProperties":false,"type":"object","definitions":{"_88access_limited":{"additionalProperties":false,"type":"object","properties":{"___organisations":{"$eref":{"uniqueItems":true,"type":"array","items":{"$ref":"#\/definitions\/guid"}},"description":"A list of organisation content ids permitted access to this item"},"___auth_bypass_ids":{"$eref":{"uniqueItems":true,"type":"array","items":{"$ref":"#\/definitions\/guid"}},"description":"Deprecated: auth_bypass_ids should be sent as a separate field"},"___users":{"type":"array","items":{"type":"string"}}}},"_88description_optional":{"anyOf":[{"$eref":{"type":"string"}},{"type":"null"}]},"_88finder_default_order":{"description":"DEPRECATED: Use \u201Csort\u201D property","type":"string"},"_88finder_signup_link":{"anyOf":[{"type":"string"},{"type":"null"}]},"_88title":{"type":"string"},"_88finder_document_noun":{"description":"How to refer to documents when presenting the search results","type":"string"},"_88update_type":{"enum":["major","minor","republish"]},"_88details":{"additionalProperties":false,"type":"object","properties":{"___sort":{"$eref":{"description":"These are the options for sorting the finder","type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___name":{"description":"Label for the sort option","type":"string"},"___key":{"description":"Rummager field name, with an optional preceding \u201C-\u201D to sort in descending order","type":"string"},"___default":{"description":"Indicates if this should be the default sort option","type":"boolean"}},"required":["key","name"]}}},"___no_index":{"type":"boolean"},"___facets":{"$eref":{"description":"The facets shown to the user to refine their search.","type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___preposition":{"description":"Text used to augment the description of the search when the facet is used.","type":"string"},"___hide_facet_tag":{"description":"Causes the facet to not have a facet tag shown in a finder","type":"boolean"},"___key":{"description":"The rummager field name used for this facet.","type":"string"},"___open_value":{"description":"Value that determines the open state (the key field is in the future) of a topical facet.","$ref":"#\/definitions\/label_value_pair"},"___type":{"description":"Defines the UI component and how the facet is queried from the search API","type":"string","enum":["autocomplete","checkbox","date","hidden","hidden_clearable","radio","research_and_statistics","official_documents","taxon","text","topical"]},"___allowed_values":{"description":"Possible values to show for non-dynamic select facets. All values are shown regardless of the search.","type":"array","items":{"$ref":"#\/definitions\/label_value_pair"}},"___filter_key":{"description":"The exact rummager field name for this facet. Allows 'key' to be aliased to a rummager filter field","type":"string"},"___keys":{"description":"Field names used for the taxon drop down.","type":"array","items":{"type":"string"}},"___display_as_result_metadata":{"description":"Include this in search result metadata. Can be set for non-filterable facets.","type":"boolean"},"___filterable":{"description":"This must be true to show the facet to users.","type":"boolean"},"___name":{"description":"Label for the facet.","type":"string"},"___closed_value":{"description":"Value that determines the closed state (the key field is in the past) of a topical facet.","$ref":"#\/definitions\/label_value_pair"},"___short_name":{"type":"string"},"___show_option_select_filter":{"description":"Controls whether Option Select Facet displays a filter field","type":"boolean"},"___option_lookup":{"patternProperties":{"___^[a-z_]+$":{"type":"array","items":{"type":"string"}}},"description":"A map of keys to values that can be used to associate allowed_values with multiple values","additionalProperties":true,"type":"object"},"___filter_value":{"description":"A preset filter value that is applied when a checkbox is selected","type":"string"},"___combine_mode":{"default":"and","description":"Specifies how to combine with other facets","type":"string","enum":["and","or"]}},"required":["key","filterable","display_as_result_metadata"]}}},"___generic_description":{"type":"boolean"},"___show_summaries":{"$eref":{"type":"boolean"}},"___document_noun":{"$eref":{"description":"How to refer to documents when presenting the search results","type":"string"}},"___signup_link":{"$eref":{"anyOf":[{"type":"string"},{"type":"null"}]}},"___default_order":{"$eref":{"description":"DEPRECATED: Use \u201Csort\u201D property","type":"string"}},"___default_documents_per_page":{"$eref":{"description":"Specify this to paginate results","type":"integer"}},"___canonical_link":{"type":"boolean"},"___reject":{"$eref":{"description":"A fixed filter that rejects documents which match the conditions","additionalProperties":false,"type":"object","properties":{"___link":{"type":"array","items":{"type":"string"}},"___policies":{"type":"array","items":{"type":"string"}},"___content_store_document_type":{"type":"array","items":{"type":"string"}},"___email_document_supertype":{"type":"array","items":{"type":"string"}},"___content_purpose_supergroup":{"type":"array","items":{"type":"string"}}}}},"___beta_message":{"anyOf":[{"type":"string"},{"type":"null"}]},"___format_name":{"type":"string"},"___filter":{"$eref":{"description":"This is the fixed filter that scopes the finder","additionalProperties":false,"type":"object","properties":{"___policies":{"type":"array","items":{"type":"string"}},"___organisations":{"type":"array","items":{"type":"string"}},"___document_type":{"type":"string"},"___format":{"type":"string"},"___all_part_of_taxonomy_tree":{"type":"array","items":{"type":"string"}},"___content_store_document_type":{"type":"array","items":{"type":"string"}},"___content_purpose_subgroup":{"type":"array","items":{"type":"string"}},"___email_document_supertype":{"type":"array","items":{"type":"string"}},"___has_official_document":{"type":"boolean"},"___facet_groups":{"type":"array","items":{"type":"string"}},"___content_purpose_supergroup":{"type":"array","items":{"type":"string"}}}}},"___beta":{"$eref":{"description":"Indicates if finder is in beta. TODO: Switch to top-level phase label","anyOf":[{"type":"boolean"},{"type":"null"}]}},"___summary":{"$eref":{"anyOf":[{"type":"string"},{"type":"null"}]}},"___logo_path":{"type":"string"}},"required":["document_noun","facets"]},"_88label_value_pair":{"description":"One of many possible values a user can select from","additionalProperties":false,"type":"object","properties":{"___value":{"description":"A value to use for form controls","type":"string"},"___default":{"description":"The default option for a radio facet","type":"boolean"},"___label":{"description":"A human readable label","type":"string"}},"required":["label","value"]},"_88finder_filter":{"description":"This is the fixed filter that scopes the finder","additionalProperties":false,"type":"object","properties":{"___policies":{"type":"array","items":{"type":"string"}},"___organisations":{"type":"array","items":{"type":"string"}},"___document_type":{"type":"string"},"___format":{"type":"string"},"___all_part_of_taxonomy_tree":{"type":"array","items":{"type":"string"}},"___content_store_document_type":{"type":"array","items":{"type":"string"}},"___content_purpose_subgroup":{"type":"array","items":{"type":"string"}},"___email_document_supertype":{"type":"array","items":{"type":"string"}},"___has_official_document":{"type":"boolean"},"___facet_groups":{"type":"array","items":{"type":"string"}},"___content_purpose_supergroup":{"type":"array","items":{"type":"string"}}}},"_88finder_beta":{"description":"Indicates if finder is in beta. TODO: Switch to top-level phase label","anyOf":[{"type":"boolean"},{"type":"null"}]},"_88finder_facets":{"description":"The facets shown to the user to refine their search.","type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___preposition":{"description":"Text used to augment the description of the search when the facet is used.","type":"string"},"___hide_facet_tag":{"description":"Causes the facet to not have a facet tag shown in a finder","type":"boolean"},"___key":{"description":"The rummager field name used for this facet.","type":"string"},"___open_value":{"$eref":{"description":"One of many possible values a user can select from","additionalProperties":false,"type":"object","properties":{"___value":{"description":"A value to use for form controls","type":"string"},"___default":{"description":"The default option for a radio facet","type":"boolean"},"___label":{"description":"A human readable label","type":"string"}},"required":["label","value"]},"description":"Value that determines the open state (the key field is in the future) of a topical facet."},"___type":{"description":"Defines the UI component and how the facet is queried from the search API","type":"string","enum":["autocomplete","checkbox","date","hidden","hidden_clearable","radio","research_and_statistics","official_documents","taxon","text","topical"]},"___allowed_values":{"description":"Possible values to show for non-dynamic select facets. All values are shown regardless of the search.","type":"array","items":{"$eref":{"description":"One of many possible values a user can select from","additionalProperties":false,"type":"object","properties":{"___value":{"description":"A value to use for form controls","type":"string"},"___default":{"description":"The default option for a radio facet","type":"boolean"},"___label":{"description":"A human readable label","type":"string"}},"required":["label","value"]}}},"___filter_key":{"description":"The exact rummager field name for this facet. Allows 'key' to be aliased to a rummager filter field","type":"string"},"___keys":{"description":"Field names used for the taxon drop down.","type":"array","items":{"type":"string"}},"___display_as_result_metadata":{"description":"Include this in search result metadata. Can be set for non-filterable facets.","type":"boolean"},"___filterable":{"description":"This must be true to show the facet to users.","type":"boolean"},"___name":{"description":"Label for the facet.","type":"string"},"___closed_value":{"$eref":{"description":"One of many possible values a user can select from","additionalProperties":false,"type":"object","properties":{"___value":{"description":"A value to use for form controls","type":"string"},"___default":{"description":"The default option for a radio facet","type":"boolean"},"___label":{"description":"A human readable label","type":"string"}},"required":["label","value"]},"description":"Value that determines the closed state (the key field is in the past) of a topical facet."},"___short_name":{"type":"string"},"___show_option_select_filter":{"description":"Controls whether Option Select Facet displays a filter field","type":"boolean"},"___option_lookup":{"patternProperties":{"___^[a-z_]+$":{"type":"array","items":{"type":"string"}}},"description":"A map of keys to values that can be used to associate allowed_values with multiple values","additionalProperties":true,"type":"object"},"___filter_value":{"description":"A preset filter value that is applied when a checkbox is selected","type":"string"},"___combine_mode":{"default":"and","description":"Specifies how to combine with other facets","type":"string","enum":["and","or"]}},"required":["key","filterable","display_as_result_metadata"]}},"_88locale":{"type":"string","enum":["ar","az","be","bg","bn","cs","cy","da","de","dr","el","en","es","es-419","et","fa","fi","fr","gd","he","hi","hr","hu","hy","id","is","it","ja","ka","kk","ko","lt","lv","ms","mt","nl","no","pl","ps","pt","ro","ru","si","sk","sl","so","sq","sr","sv","sw","ta","th","tk","tr","uk","ur","uz","vi","zh","zh-hk","zh-tw"]},"_88guid_list":{"uniqueItems":true,"type":"array","items":{"$eref":{"pattern":"^[a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[89ab][a-f0-9]{3}-[a-f0-9]{12}$","type":"string"}}},"_88finder_sort":{"description":"These are the options for sorting the finder","type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___name":{"description":"Label for the sort option","type":"string"},"___key":{"description":"Rummager field name, with an optional preceding \u201C-\u201D to sort in descending order","type":"string"},"___default":{"description":"Indicates if this should be the default sort option","type":"boolean"}},"required":["key","name"]}},"_88rendering_app":{"description":"The application that renders this item.","type":"string","enum":["calculators","calendars","collections","content-store","email-alert-frontend","email-campaign-frontend","feedback","finder-frontend","frontend","government-frontend","info-frontend","licencefinder","manuals-frontend","performanceplatform-big-screen-view","rummager","search-api","service-manual-frontend","smartanswers","spotlight","static","tariff","whitehall-admin","whitehall-frontend"]},"_88first_published_at":{"format":"date-time","description":"The date the content was first published.  Automatically determined by the publishing-api, unless overridden by the publishing application.","type":"string"},"_88guid":{"pattern":"^[a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[89ab][a-f0-9]{3}-[a-f0-9]{12}$","type":"string"},"_88finder_summary":{"anyOf":[{"type":"string"},{"type":"null"}]},"_88analytics_identifier":{"description":"A short identifier we send to Google Analytics for multi-valued fields. This means we avoid the truncated values we would get if we sent the path or slug of eg organisations.","anyOf":[{"type":"string"},{"type":"null"}]},"_88absolute_path":{"pattern":"^\/(([a-zA-Z0-9._~!$&'()*+,;=:@-]|%[0-9a-fA-F]{2})+(\/([a-zA-Z0-9._~!$&'()*+,;=:@-]|%[0-9a-fA-F]{2})*)*)?$","description":"A path only. Query string and\/or fragment are not allowed.","type":"string"},"_88public_updated_at":{"format":"date-time","description":"When the content was last significantly changed (a major update). Shown to users.  Automatically determined by the publishing-api, unless overridden by the publishing application.","type":"string"},"_88description":{"type":"string"},"_88finder_reject_filter":{"description":"A fixed filter that rejects documents which match the conditions","additionalProperties":false,"type":"object","properties":{"___link":{"type":"array","items":{"type":"string"}},"___policies":{"type":"array","items":{"type":"string"}},"___content_store_document_type":{"type":"array","items":{"type":"string"}},"___email_document_supertype":{"type":"array","items":{"type":"string"}},"___content_purpose_supergroup":{"type":"array","items":{"type":"string"}}}},"_88routes":{"minItems":1,"type":"array","items":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___type":{"enum":["prefix","exact"]},"___path":{"type":"string"}},"required":["path","type"]}}},"_88finder_default_documents_per_page":{"description":"Specify this to paginate results","type":"integer"},"_88finder_show_summaries":{"type":"boolean"},"_88route":{"additionalProperties":false,"type":"object","properties":{"___type":{"enum":["prefix","exact"]},"___path":{"type":"string"}},"required":["path","type"]},"_88publishing_app_name":{"description":"The application that published this item.","type":"string","enum":["calculators","calendars","collections-publisher","contacts","content-publisher","content-tagger","email-alert-frontend","external-link-tracker","feedback","frontend","hmrc-manuals-api","info-frontend","licencefinder","local-links-manager","manuals-frontend","manuals-publisher","maslow","performanceplatform-big-screen-view","publisher","rummager","search-admin","search-api","service-manual-publisher","share-sale-publisher","short-url-manager","smartanswers","special-route-publisher","specialist-publisher","static","tariff","travel-advice-publisher","whitehall"]}},"properties":{"___document_type":{"type":"string","enum":["finder","search"]},"___previous_version":{"type":"string"},"___locale":{"$eref":{"type":"string","enum":["ar","az","be","bg","bn","cs","cy","da","de","dr","el","en","es","es-419","et","fa","fi","fr","gd","he","hi","hr","hu","hy","id","is","it","ja","ka","kk","ko","lt","lv","ms","mt","nl","no","pl","ps","pt","ro","ru","si","sk","sl","so","sq","sr","sv","sw","ta","th","tk","tr","uk","ur","uz","vi","zh","zh-hk","zh-tw"]}},"___links":{"additionalProperties":false,"type":"object","properties":{"___policy_areas":{"$eref":{"uniqueItems":true,"type":"array","items":{"$ref":"#\/definitions\/guid"}},"description":"A largely deprecated tag currently only used to power email alerts."}}},"___publishing_app":{"$eref":{"description":"The application that published this item.","type":"string","enum":["calculators","calendars","collections-publisher","contacts","content-publisher","content-tagger","email-alert-frontend","external-link-tracker","feedback","frontend","hmrc-manuals-api","info-frontend","licencefinder","local-links-manager","manuals-frontend","manuals-publisher","maslow","performanceplatform-big-screen-view","publisher","rummager","search-admin","search-api","service-manual-publisher","share-sale-publisher","short-url-manager","smartanswers","special-route-publisher","specialist-publisher","static","tariff","travel-advice-publisher","whitehall"]}},"___first_published_at":{"$eref":{"format":"date-time","description":"The date the content was first published.  Automatically determined by the publishing-api, unless overridden by the publishing application.","type":"string"}},"___public_updated_at":{"$eref":{"format":"date-time","description":"When the content was last significantly changed (a major update). Shown to users.  Automatically determined by the publishing-api, unless overridden by the publishing application.","type":"string"}},"___routes":{"$eref":{"minItems":1,"type":"array","items":{"$ref":"#\/definitions\/route"}}},"___title":{"$eref":{"type":"string"}},"___phase":{"description":"The service design phase of this content item - https:\/\/www.gov.uk\/service-manual\/phases","type":"string","enum":["alpha","beta","live"]},"___need_ids":{"type":"array","items":{"type":"string"}},"___details":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___sort":{"$ref":"#\/definitions\/finder_sort"},"___no_index":{"type":"boolean"},"___facets":{"$ref":"#\/definitions\/finder_facets"},"___generic_description":{"type":"boolean"},"___show_summaries":{"$ref":"#\/definitions\/finder_show_summaries"},"___document_noun":{"$ref":"#\/definitions\/finder_document_noun"},"___signup_link":{"$ref":"#\/definitions\/finder_signup_link"},"___default_order":{"$ref":"#\/definitions\/finder_default_order"},"___default_documents_per_page":{"$ref":"#\/definitions\/finder_default_documents_per_page"},"___canonical_link":{"type":"boolean"},"___reject":{"$ref":"#\/definitions\/finder_reject_filter"},"___beta_message":{"anyOf":[{"type":"string"},{"type":"null"}]},"___format_name":{"type":"string"},"___filter":{"$ref":"#\/definitions\/finder_filter"},"___beta":{"$ref":"#\/definitions\/finder_beta"},"___summary":{"$ref":"#\/definitions\/finder_summary"},"___logo_path":{"type":"string"}},"required":["document_noun","facets"]}},"___last_edited_at":{"format":"date-time","description":"Last time when the content received a major or minor update.","type":"string"},"___rendering_app":{"$eref":{"description":"The application that renders this item.","type":"string","enum":["calculators","calendars","collections","content-store","email-alert-frontend","email-campaign-frontend","feedback","finder-frontend","frontend","government-frontend","info-frontend","licencefinder","manuals-frontend","performanceplatform-big-screen-view","rummager","search-api","service-manual-frontend","smartanswers","spotlight","static","tariff","whitehall-admin","whitehall-frontend"]}},"___base_path":{"$eref":{"pattern":"^\/(([a-zA-Z0-9._~!$&'()*+,;=:@-]|%[0-9a-fA-F]{2})+(\/([a-zA-Z0-9._~!$&'()*+,;=:@-]|%[0-9a-fA-F]{2})*)*)?$","description":"A path only. Query string and\/or fragment are not allowed.","type":"string"}},"___schema_name":{"type":"string","enum":["finder"]},"___description":{"$eref":{"anyOf":[{"$ref":"#\/definitions\/description"},{"type":"null"}]}},"___auth_bypass_ids":{"$eref":{"uniqueItems":true,"type":"array","items":{"$ref":"#\/definitions\/guid"}},"description":"A list of ids that will allow access to this item for non-authenticated users"},"___redirects":{"additionalItems":false,"type":"array","items":{}},"___analytics_identifier":{"$eref":{"description":"A short identifier we send to Google Analytics for multi-valued fields. This means we avoid the truncated values we would get if we sent the path or slug of eg organisations.","anyOf":[{"type":"string"},{"type":"null"}]}},"___access_limited":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___organisations":{"description":"A list of organisation content ids permitted access to this item","$ref":"#\/definitions\/guid_list"},"___auth_bypass_ids":{"description":"Deprecated: auth_bypass_ids should be sent as a separate field","$ref":"#\/definitions\/guid_list"},"___users":{"type":"array","items":{"type":"string"}}}}},"___update_type":{"$eref":{"enum":["major","minor","republish"]}},"___change_note":{"type":["null","string"]},"___bulk_publishing":{"type":"boolean"}},"required":["base_path","details","document_type","publishing_app","rendering_app","routes","schema_name","title"]}