{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"Schema for Apache Thrift protocol descriptors","id":"http:\/\/thrift.apache.org\/program-schema#","type":"object","definitions":{"_88function":{"allOf":[{"$eref":{"type":"object","properties":{"___name":{"type":"string"},"___doc":{"type":"string"}},"required":["name"]}},{"oneOf":[{"properties":{"___oneway":{"type":"boolean"}},"required":["oneway"]},{"properties":{"___returnType":{"$eref":{"allOf":[{"type":"object"},{"oneOf":[{"$ref":"#\/definitions\/base-type"},{"$ref":"#\/definitions\/list-type"},{"$ref":"#\/definitions\/map-type"},{"$ref":"#\/definitions\/struct-spec"}]}]}}},"required":["returnType"]}]},{"properties":{"___exceptions":{"type":"array","items":{"$eref":{"$ref":"#\/definitions\/struct"}}},"___arguments":{"type":"array","items":{"allOf":[{"$eref":{"allOf":[{"$ref":"#\/definitions\/name-and-doc"},{"$ref":"#\/definitions\/type-spec"},{"properties":{"___key":{"maximum":65535,"type":"integer","minimum":1},"___required":{"enum":["required","optional","req_out"]},"___default":{"oneOf":[{"type":"string"},{"type":"number"},{"type":"array"},{"type":"object"}]}},"required":["key","required"]}],"type":"object"}},{"properties":{}}]}}},"required":["oneway","arguments","exceptions"]}],"type":"object"},"_88exception":{"$eref":{"allOf":[{"$ref":"#\/definitions\/name-and-doc"},{"properties":{"___isException":{"type":"boolean"},"___fields":{"type":"array","items":{"$ref":"#\/definitions\/field"}},"___isUnion":{"type":"boolean"}},"required":["isException","isUnion","fields"]}],"type":"object"}},"_88enum":{"allOf":[{"$eref":{"type":"object","properties":{"___name":{"type":"string"},"___doc":{"type":"string"}},"required":["name"]}},{"properties":{"___members":{"type":"array","items":{"type":"object","properties":{"___name":{"type":"string"},"___value":{"type":"integer"}},"required":["name","value"]}}},"required":["members"]}],"type":"object"},"_88name-and-doc":{"type":"object","properties":{"___name":{"type":"string"},"___doc":{"type":"string"}},"required":["name"]},"_88list-type":{"title":"List and set types","type":"object","properties":{"___typeId":{"enum":["list","set"]},"___elemType":{"$eref":{"allOf":[{"type":"object"},{"oneOf":[{"$ref":"#\/definitions\/base-type"},{"$ref":"#\/definitions\/list-type"},{"$ref":"#\/definitions\/map-type"},{"$ref":"#\/definitions\/struct-spec"}]}]}},"___elemTypeId":{"$eref":{"enum":["void","string","bool","byte","i16","i32","i64","double","list","set","map","union","struct","exception","binary"]}}},"required":["typeId","elemTypeId","elemType"]},"_88service":{"allOf":[{"$eref":{"type":"object","properties":{"___name":{"type":"string"},"___doc":{"type":"string"}},"required":["name"]}},{"properties":{"___functions":{"type":"array","items":{"$eref":{"allOf":[{"$ref":"#\/definitions\/name-and-doc"},{"oneOf":[{"properties":{"___oneway":{"type":"boolean"}},"required":["oneway"]},{"properties":{"___returnType":{"$ref":"#\/definitions\/type-spec"}},"required":["returnType"]}]},{"properties":{"___exceptions":{"type":"array","items":{"$ref":"#\/definitions\/exception"}},"___arguments":{"type":"array","items":{"allOf":[{"$ref":"#\/definitions\/field"},{"properties":{}}]}}},"required":["oneway","arguments","exceptions"]}],"type":"object"}}}},"required":["functions"]}],"type":"object"},"_88base-type":{"title":"Base types","type":"object","properties":{"___typeId":{"enum":["void","string","bool","byte","i16","i32","i64","double","binary"]}},"required":["typeId"]},"_88constant":{"allOf":[{"$eref":{"type":"object","properties":{"___name":{"type":"string"},"___doc":{"type":"string"}},"required":["name"]}},{"$eref":{"allOf":[{"type":"object"},{"oneOf":[{"$ref":"#\/definitions\/base-type"},{"$ref":"#\/definitions\/list-type"},{"$ref":"#\/definitions\/map-type"},{"$ref":"#\/definitions\/struct-spec"}]}]}},{"properties":{"___value":{"oneOf":[{"type":"string"},{"type":"number"},{"type":"array"},{"type":"object"}]}},"required":["value"]}],"type":"object"},"_88struct":{"allOf":[{"$eref":{"type":"object","properties":{"___name":{"type":"string"},"___doc":{"type":"string"}},"required":["name"]}},{"properties":{"___isException":{"type":"boolean"},"___fields":{"type":"array","items":{"$eref":{"allOf":[{"$ref":"#\/definitions\/name-and-doc"},{"$ref":"#\/definitions\/type-spec"},{"properties":{"___key":{"maximum":65535,"type":"integer","minimum":1},"___required":{"enum":["required","optional","req_out"]},"___default":{"oneOf":[{"type":"string"},{"type":"number"},{"type":"array"},{"type":"object"}]}},"required":["key","required"]}],"type":"object"}}},"___isUnion":{"type":"boolean"}},"required":["isException","isUnion","fields"]}],"type":"object"},"_88typedef":{"allOf":[{"$eref":{"type":"object","properties":{"___name":{"type":"string"},"___doc":{"type":"string"}},"required":["name"]}},{"properties":{"___typeId":{"$eref":{"enum":["void","string","bool","byte","i16","i32","i64","double","list","set","map","union","struct","exception","binary"]}},"___type":{"$eref":{"allOf":[{"type":"object"},{"oneOf":[{"$ref":"#\/definitions\/base-type"},{"$ref":"#\/definitions\/list-type"},{"$ref":"#\/definitions\/map-type"},{"$ref":"#\/definitions\/struct-spec"}]}]}}},"required":["typeId"]}],"type":"object"},"_88type-id":{"enum":["void","string","bool","byte","i16","i32","i64","double","list","set","map","union","struct","exception","binary"]},"_88union":{"$eref":{"allOf":[{"$ref":"#\/definitions\/name-and-doc"},{"properties":{"___isException":{"type":"boolean"},"___fields":{"type":"array","items":{"$ref":"#\/definitions\/field"}},"___isUnion":{"type":"boolean"}},"required":["isException","isUnion","fields"]}],"type":"object"}},"_88struct-spec":{"title":"Struct and union types","type":"object","properties":{"___typeId":{"enum":["union","struct"]},"___class":{"type":"string"}},"required":["typeId","class"]},"_88field":{"allOf":[{"$eref":{"type":"object","properties":{"___name":{"type":"string"},"___doc":{"type":"string"}},"required":["name"]}},{"$eref":{"allOf":[{"type":"object"},{"oneOf":[{"$ref":"#\/definitions\/base-type"},{"$ref":"#\/definitions\/list-type"},{"$ref":"#\/definitions\/map-type"},{"$ref":"#\/definitions\/struct-spec"}]}]}},{"properties":{"___key":{"maximum":65535,"type":"integer","minimum":1},"___required":{"enum":["required","optional","req_out"]},"___default":{"oneOf":[{"type":"string"},{"type":"number"},{"type":"array"},{"type":"object"}]}},"required":["key","required"]}],"type":"object"},"_88type-spec":{"allOf":[{"type":"object"},{"oneOf":[{"$eref":{"title":"Base types","type":"object","properties":{"___typeId":{"enum":["void","string","bool","byte","i16","i32","i64","double","binary"]}},"required":["typeId"]}},{"$eref":{"title":"List and set types","type":"object","properties":{"___typeId":{"enum":["list","set"]},"___elemType":{"$ref":"#\/definitions\/type-spec"},"___elemTypeId":{"$ref":"#\/definitions\/type-id"}},"required":["typeId","elemTypeId","elemType"]}},{"$eref":{"title":"Map type","type":"object","properties":{"___typeId":{"enum":["map"]},"___keyType":{"$ref":"#\/definitions\/type-spec"},"___valueType":{"$ref":"#\/definitions\/type-spec"},"___keyTypeId":{"$ref":"#\/definitions\/type-id"},"___valueTypeId":{"$ref":"#\/definitions\/type-id"}},"required":["typeId","keyTypeId","valueTypeId"]}},{"$eref":{"title":"Struct and union types","type":"object","properties":{"___typeId":{"enum":["union","struct"]},"___class":{"type":"string"}},"required":["typeId","class"]}}]}]},"_88map-type":{"title":"Map type","type":"object","properties":{"___typeId":{"enum":["map"]},"___keyType":{"$eref":{"allOf":[{"type":"object"},{"oneOf":[{"$ref":"#\/definitions\/base-type"},{"$ref":"#\/definitions\/list-type"},{"$ref":"#\/definitions\/map-type"},{"$ref":"#\/definitions\/struct-spec"}]}]}},"___valueType":{"$eref":{"allOf":[{"type":"object"},{"oneOf":[{"$ref":"#\/definitions\/base-type"},{"$ref":"#\/definitions\/list-type"},{"$ref":"#\/definitions\/map-type"},{"$ref":"#\/definitions\/struct-spec"}]}]}},"___keyTypeId":{"$eref":{"enum":["void","string","bool","byte","i16","i32","i64","double","list","set","map","union","struct","exception","binary"]}},"___valueTypeId":{"$eref":{"enum":["void","string","bool","byte","i16","i32","i64","double","list","set","map","union","struct","exception","binary"]}}},"required":["typeId","keyTypeId","valueTypeId"]}},"properties":{"___name":{"type":"string"},"___constants":{"type":"array","items":{"$eref":{"allOf":[{"$ref":"#\/definitions\/name-and-doc"},{"$ref":"#\/definitions\/type-spec"},{"properties":{"___value":{"oneOf":[{"type":"string"},{"type":"number"},{"type":"array"},{"type":"object"}]}},"required":["value"]}],"type":"object"}}},"___services":{"type":"array","items":{"$eref":{"allOf":[{"$ref":"#\/definitions\/name-and-doc"},{"properties":{"___functions":{"type":"array","items":{"$ref":"#\/definitions\/function"}}},"required":["functions"]}],"type":"object"}}},"___typedefs":{"type":"array","items":{"$eref":{"allOf":[{"$ref":"#\/definitions\/name-and-doc"},{"properties":{"___typeId":{"$ref":"#\/definitions\/type-id"},"___type":{"$ref":"#\/definitions\/type-spec"}},"required":["typeId"]}],"type":"object"}}},"___enums":{"type":"array","items":{"$eref":{"allOf":[{"$ref":"#\/definitions\/name-and-doc"},{"properties":{"___members":{"type":"array","items":{"type":"object","properties":{"___name":{"type":"string"},"___value":{"type":"integer"}},"required":["name","value"]}}},"required":["members"]}],"type":"object"}}},"___structs":{"type":"array","items":{"$eref":{"allOf":[{"$ref":"#\/definitions\/name-and-doc"},{"properties":{"___isException":{"type":"boolean"},"___fields":{"type":"array","items":{"$ref":"#\/definitions\/field"}},"___isUnion":{"type":"boolean"}},"required":["isException","isUnion","fields"]}],"type":"object"}}},"___includes":{"uniqueItems":true,"type":"array","items":{"type":"string"}}},"required":["name","namespaces","includes","enums","typedefs","structs","constants","services"]}