{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"iAgree v2 JSON schema","title":"Root iAgree schema.","type":"object","properties":{"___compensation_of":{"type":"object","properties":{"___condition":{"type":"string"},"___value":{"type":"string"}},"required":["value"]},"___scopedConfiguration":{"type":"object","properties":{"___scope":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"},"___value":{"oneOf":[{"type":"string"},{"type":"number"},{"type":"boolean"}]}},"required":["scope","value"]},"___type":{"type":"string"},"___terms":{"type":"object","properties":{"___rates":{"type":"array","items":{"$eref":{"type":"object","properties":{"___of":{"type":"array","items":{"$ref":"#\/properties\/scopedRate"}},"___over":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"}},"type":"object"},"___scope":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"}},"type":"object"},"___id":{"type":"string"}},"required":["id","scope","over","of"]}}},"___quotas":{"type":"array","items":{"$eref":{"type":"object","properties":{"___of":{"type":"array","items":{"$ref":"#\/properties\/scopedQuota"}},"___over":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"}},"type":"object"},"___scope":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"}},"type":"object"},"___id":{"type":"string"}},"required":["id","scope","over","of"]}}},"___pricing":{"$eref":{"type":"object","properties":{"___currency":{"type":"string"},"___billing":{"$ref":"#\/properties\/billing"},"___cost":{"format":"double","type":"number"}},"required":["billing"]}},"___guarantees":{"type":"array","items":{"$eref":{"type":"object","properties":{"___of":{"type":"array","items":{"$ref":"#\/properties\/scoped_guarante"}},"___scope":{"$ref":"#\/properties\/guarantee_scope"},"___id":{"type":"string"}},"required":["id","scope","of"]}}},"___metrics":{"$eref":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"type":"object","properties":{"___defaultStateReload":{"type":"boolean"},"___computer":{"type":"string"},"___schema":{"type":"object","properties":{"___description":{"type":"string"},"___type":{"type":"string"},"___unit":{"type":"string"}}},"___parameters":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"},"___scope":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"},"___metadata":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"},"___window":{"$ref":"#\/properties\/window"}}}},"type":"object"}},"___configurations":{"additionalProperties":{"$eref":{"type":"object","properties":{"___of":{"type":"array","items":{"$ref":"#\/properties\/scopedConfiguration"}},"___scope":{"$ref":"#\/properties\/scope"}},"required":["of","scope"]}},"type":"object"}},"required":["pricing","metrics","guarantees"]},"___pricing":{"type":"object","properties":{"___currency":{"type":"string"},"___billing":{"$eref":{"type":"object","properties":{"___initial":{"type":"string"},"___rewards":{"type":"array","items":{"$ref":"#\/properties\/compensation"}},"___penalties":{"type":"array","items":{"$ref":"#\/properties\/compensation"}},"___period":{"type":"string"}}}},"___cost":{"format":"double","type":"number"}},"required":["billing"]},"___guarantee_scope":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"},"___metrics":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"type":"object","properties":{"___defaultStateReload":{"type":"boolean"},"___computer":{"type":"string"},"___schema":{"type":"object","properties":{"___description":{"type":"string"},"___type":{"type":"string"},"___unit":{"type":"string"}}},"___parameters":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"},"___scope":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"},"___metadata":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"},"___window":{"$eref":{"type":"object","properties":{"___initial":{"type":"string"},"___type":{"type":"string"},"___period":{"type":"string"},"___end":{"type":"string"}},"required":["type","period","initial"]}}}}},"type":"object"},"___evidence":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"type":"object","properties":{"___computer":{"type":"string"},"___schema":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"}}}},"type":"object"},"___infrastructure":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"type":"string"}},"type":"object"},"___quota":{"type":"object","properties":{"___of":{"type":"array","items":{"$eref":{"type":"object","properties":{"___scope":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"},"___limits":{"type":"array","items":{"$ref":"#\/properties\/limit"}}},"required":["scope","limits"]}}},"___over":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"}},"type":"object"},"___scope":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"}},"type":"object"},"___id":{"type":"string"}},"required":["id","scope","over","of"]},"___version":{"type":"string"},"___definitions":{"type":"object","properties":{"___scopes":{"$eref":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"type":"object","properties":{"___name":{"type":"string"},"___format":{"type":"string"},"___description":{"type":"string"},"___type":{"type":"string"},"___default":{},"___metadata":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"}},"required":["name","description","type"]}},"type":"object"}},"type":"object"}},"___logs":{"$eref":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"type":"object","properties":{"___scopes":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"type":"string"}},"type":"object"}},"type":"object"},"___uri":{"type":"string"},"___default":{"type":"boolean"},"___stateUri":{"type":"string"},"___measures":{"type":"string"}},"required":["uri","stateUri","measures"]}},"type":"object"}},"___schemas":{"$eref":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"type":"object","properties":{"___description":{"type":"string"},"___type":{"type":"string"},"___unit":{"type":"string"}}}},"type":"object"}}},"required":["schemas","scopes"]},"___scopes":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"type":"object","properties":{"___name":{"type":"string"},"___format":{"type":"string"},"___description":{"type":"string"},"___type":{"type":"string"},"___default":{},"___metadata":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"}},"required":["name","description","type"]}},"type":"object"}},"type":"object"},"___configuration":{"type":"object","properties":{"___of":{"type":"array","items":{"$eref":{"type":"object","properties":{"___scope":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"},"___value":{"oneOf":[{"type":"string"},{"type":"number"},{"type":"boolean"}]}},"required":["scope","value"]}}},"___scope":{"$eref":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"}}},"required":["of","scope"]},"___window":{"type":"object","properties":{"___initial":{"type":"string"},"___type":{"type":"string"},"___period":{"type":"string"},"___end":{"type":"string"}},"required":["type","period","initial"]},"___limit":{"type":"object","properties":{"___max":{"type":"number"},"___period":{"type":"string"}},"required":["max"]},"___rate":{"type":"object","properties":{"___of":{"type":"array","items":{"$eref":{"type":"object","properties":{"___scope":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"},"___limits":{"type":"array","items":{"$ref":"#\/properties\/limit"}}},"required":["scope","limits"]}}},"___over":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"}},"type":"object"},"___scope":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"}},"type":"object"},"___id":{"type":"string"}},"required":["id","scope","over","of"]},"___compensation":{"type":"object","properties":{"___of":{"type":"array","items":{"$eref":{"type":"object","properties":{"___condition":{"type":"string"},"___value":{"type":"string"}},"required":["value"]}}},"___groupBy":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"}},"type":"object"},"___over":{"$eref":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"type":"object","properties":{"___description":{"type":"string"},"___type":{"type":"string"},"___unit":{"type":"string"}}}},"type":"object"}},"___upTo":{"format":"double","type":"number"},"___aggegatedBy":{"type":"string"}},"required":["over"]},"___guarantee":{"type":"object","properties":{"___of":{"type":"array","items":{"$eref":{"type":"object","properties":{"___rewards":{"type":"array","items":{"$ref":"#\/properties\/compensation"}},"___penalties":{"type":"array","items":{"$ref":"#\/properties\/compensation"}},"___evidences":{"type":"array","items":{"$ref":"#\/properties\/evidence"}},"___objective":{"type":"string"},"___scope":{"$ref":"#\/properties\/guarantee_scope"},"___with":{"$ref":"#\/properties\/with"},"___window":{"$ref":"#\/properties\/window"}},"required":["scope","objective","with","window"]}}},"___scope":{"$eref":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"}},"___id":{"type":"string"}},"required":["id","scope","of"]},"____schema":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"type":"object","properties":{"___description":{"type":"string"},"___type":{"type":"string"},"___unit":{"type":"string"}}}},"type":"object"},"___log":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"type":"object","properties":{"___scopes":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"type":"string"}},"type":"object"}},"type":"object"},"___uri":{"type":"string"},"___default":{"type":"boolean"},"___stateUri":{"type":"string"},"___measures":{"type":"string"}},"required":["uri","stateUri","measures"]}},"type":"object"},"___over":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"type":"object","properties":{"___description":{"type":"string"},"___type":{"type":"string"},"___unit":{"type":"string"}}}},"type":"object"},"___scoped_guarante":{"type":"object","properties":{"___rewards":{"type":"array","items":{"$eref":{"type":"object","properties":{"___of":{"type":"array","items":{"$ref":"#\/properties\/compensation_of"}},"___groupBy":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"}},"type":"object"},"___over":{"$ref":"#\/properties\/over"},"___upTo":{"format":"double","type":"number"},"___aggegatedBy":{"type":"string"}},"required":["over"]}}},"___penalties":{"type":"array","items":{"$eref":{"type":"object","properties":{"___of":{"type":"array","items":{"$ref":"#\/properties\/compensation_of"}},"___groupBy":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"}},"type":"object"},"___over":{"$ref":"#\/properties\/over"},"___upTo":{"format":"double","type":"number"},"___aggegatedBy":{"type":"string"}},"required":["over"]}}},"___evidences":{"type":"array","items":{"$eref":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"type":"object","properties":{"___computer":{"type":"string"},"___schema":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"}}}},"type":"object"}}},"___objective":{"type":"string"},"___scope":{"$eref":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"}},"___with":{"$eref":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"}},"type":"object"}},"___window":{"$eref":{"type":"object","properties":{"___initial":{"type":"string"},"___type":{"type":"string"},"___period":{"type":"string"},"___end":{"type":"string"}},"required":["type","period","initial"]}}},"required":["scope","objective","with","window"]},"___scope":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"},"___scopedRate":{"type":"object","properties":{"___scope":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"},"___limits":{"type":"array","items":{"$eref":{"type":"object","properties":{"___max":{"type":"number"},"___period":{"type":"string"}},"required":["max"]}}}},"required":["scope","limits"]},"___billing":{"type":"object","properties":{"___initial":{"type":"string"},"___rewards":{"type":"array","items":{"$eref":{"type":"object","properties":{"___of":{"type":"array","items":{"$ref":"#\/properties\/compensation_of"}},"___groupBy":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"}},"type":"object"},"___over":{"$ref":"#\/properties\/over"},"___upTo":{"format":"double","type":"number"},"___aggegatedBy":{"type":"string"}},"required":["over"]}}},"___penalties":{"type":"array","items":{"$eref":{"type":"object","properties":{"___of":{"type":"array","items":{"$ref":"#\/properties\/compensation_of"}},"___groupBy":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"}},"type":"object"},"___over":{"$ref":"#\/properties\/over"},"___upTo":{"format":"double","type":"number"},"___aggegatedBy":{"type":"string"}},"required":["over"]}}},"___period":{"type":"string"}}},"___with":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"}},"type":"object"},"___scopedQuota":{"type":"object","properties":{"___scope":{"patternProperties":{"___^[a-zA-Z0-9]*$":{}},"type":"object"},"___limits":{"type":"array","items":{"$eref":{"type":"object","properties":{"___max":{"type":"number"},"___period":{"type":"string"}},"required":["max"]}}}},"required":["scope","limits"]},"___validity":{"type":"object","properties":{"___initial":{"type":"string"},"___timeZone":{"type":"string"},"___end":{"type":"string"}},"required":["initial","timeZone"]},"___context":{"type":"object","properties":{"___iAgree":{"type":"string"},"___definitions":{"$eref":{"type":"object","properties":{"___scopes":{"$ref":"#\/properties\/scopes"},"___logs":{"$ref":"#\/properties\/log"},"___schemas":{"$ref":"#\/properties\/_schema"}},"required":["schemas","scopes"]}},"___consumer":{"type":"string"},"___provider":{"type":"string"},"___validity":{"$eref":{"type":"object","properties":{"___initial":{"type":"string"},"___timeZone":{"type":"string"},"___end":{"type":"string"}},"required":["initial","timeZone"]}},"___infrastructure":{"$eref":{"patternProperties":{"___^[a-zA-Z0-9]*$":{"type":"string"}},"type":"object"}}},"required":["definitions"]},"___id":{"type":"string"}},"required":["id","version","type","context","terms"]}