{"$schema":"http:\/\/json-schema.org\/draft-07\/schema#","description":"Schema for a SIP interpretation of an SKA SBI","title":"Scheduling Block Instance (SBI)","type":"object","version":"1.0.0","definitions":{"_88processing_block":{"type":"object","properties":{"___version":{"pattern":"[0-9]{1,4}.[0-9]{1,4}.[0-9]{1,4}","description":"PB configuration version","type":"string"},"___type":{"description":"[realtime, offline]","enum":["realtime","offline"]},"___dependencies":{"description":"PB dependencies","type":"array","items":{"$eref":{"properties":{"___type":{"description":"Type of dependency","type":"string"},"___parameters":{"description":"Additional parameters describing the dependency","type":"object"},"___condition":{"description":"Dependency condition","type":"string"},"___value":{"description":"Value of the dependency","type":"string"}}},"description":"PB dependency","type":"object","required":["type","value","condition"]}},"___id":{"pattern":"^PB-[0-9]{8}-[a-z|A-Z]+-.*$","description":"Primary PB Id, PB-[date]-[project]-*","type":"string"},"___workflow":{"$eref":{"properties":{"___version":{"pattern":"^[0-9]{1,4}.[0-9]{1,4}.[0-9]{1,4}","description":"Workflow version","type":"string"},"___parameters":{"description":"Workflow parameters","type":"object"},"___id":{"description":"Workflow Id","type":"string"}}},"description":"PB workflow description","type":"object","required":["id","version","configuration"]},"___priority":{"description":"PB priority","maximum":100,"type":"number","minimum":-1}},"required":["id","version","type","workflow"]},"_88scheduling_block":{"type":"object","properties":{"___telescope":{"description":"Telescope Id","type":"string"},"___programme_block":{"description":"Programme block Id","type":"string"},"___project":{"description":"Project Id","type":"string"},"___id":{"description":"SB Id","type":"string"}},"required":["id"]},"_88dependency":{"properties":{"___type":{"description":"Type of dependency","type":"string"},"___parameters":{"description":"Additional parameters describing the dependency","type":"object"},"___condition":{"description":"Dependency condition","type":"string"},"___value":{"description":"Value of the dependency","type":"string"}}},"_88workflow":{"properties":{"___version":{"pattern":"^[0-9]{1,4}.[0-9]{1,4}.[0-9]{1,4}","description":"Workflow version","type":"string"},"___parameters":{"description":"Workflow parameters","type":"object"},"___id":{"description":"Workflow Id","type":"string"}}}},"properties":{"___scheduling_block":{"$eref":{"type":"object","properties":{"___telescope":{"description":"Telescope Id","type":"string"},"___programme_block":{"description":"Programme block Id","type":"string"},"___project":{"description":"Project Id","type":"string"},"___id":{"description":"SB Id","type":"string"}},"required":["id"]},"description":"Scheduling Block properties"},"___version":{"pattern":"[0-9]{1,4}.[0-9]{1,4}.[0-9]{1,4}","description":"SBI configuration version","type":"string"},"___processing_blocks":{"description":"Array of PBs defined for this SBI","type":"array","items":{"$eref":{"type":"object","properties":{"___version":{"pattern":"[0-9]{1,4}.[0-9]{1,4}.[0-9]{1,4}","description":"PB configuration version","type":"string"},"___type":{"description":"[realtime, offline]","enum":["realtime","offline"]},"___dependencies":{"description":"PB dependencies","type":"array","items":{"description":"PB dependency","type":"object","$ref":"#\/definitions\/dependency","required":["type","value","condition"]}},"___id":{"pattern":"^PB-[0-9]{8}-[a-z|A-Z]+-.*$","description":"Primary PB Id, PB-[date]-[project]-*","type":"string"},"___workflow":{"description":"PB workflow description","type":"object","$ref":"#\/definitions\/workflow","required":["id","version","configuration"]},"___priority":{"description":"PB priority","maximum":100,"type":"number","minimum":-1}},"required":["id","version","type","workflow"]},"description":"PB configuration"}},"___scans":{"description":"Array of Scans assocaited with this SBI","type":"array","items":{"description":"Scan configuration object","type":"object"}},"___id":{"pattern":"^SBI-[0-9]{8}-[a-z|A-Z]+-.*$","description":"Primary SBI Id, SBI-[date]-[project]-*","type":"string"}},"required":["id","version","scheduling_block","processing_blocks"]}