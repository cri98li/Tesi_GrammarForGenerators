{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"http:\/\/schemas.wbeme.com\/json-schema\/gdbots\/enrichments\/mixin\/ip-to-geo\/1-0-0.json#","additionalProperties":true,"type":"object","definitions":{"_88address":{"anyOf":[{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"http:\/\/schemas.wbeme.com\/json-schema\/gdbots\/geo\/address\/1-0-0.json#","additionalProperties":false,"type":"object","properties":{"___street1":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":255},"____schema":{"default":"pbj:gdbots:geo::address:1-0-0","pattern":"^pbj:([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+):([0-9]+-[0-9]+-[0-9]+)$","type":"string"},"___po_box":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":20},"___continent":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":255},"___region_name":{"minLength":0,"pbj":{"rule":"single","type":"string"},"description":"The full name of the region, e.g. \"California\".","type":"string","maxLength":150},"___geo_hash":{"pattern":"^\\w+$","pbj":{"rule":"single","type":"string"},"type":"string"},"___is_verified":{"pbj":{"rule":"single","type":"boolean"},"type":"boolean"},"___postal_code":{"pattern":"^[\\w\\s-]+$","pbj":{"rule":"single","type":"string"},"type":"string"},"___street2":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":20},"___geo_point":{"pbj":{"rule":"single","type":"geo-point"},"additionalProperties":false,"type":"object","properties":{"___coordinates":{"type":"array","items":[{"maximum":180,"type":"number","minimum":-180,"required":true},{"maximum":90,"type":"number","minimum":-90,"required":true}]},"___type":{"pattern":"^Point$","type":"string"}},"required":["type","coordinates"]},"___country":{"pattern":"^[A-Z]{2}$","pbj":{"rule":"single","type":"string"},"type":"string"},"___city":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":100},"___region":{"pattern":"^[A-Z0-9]{2}$","description":"A two letter alpha or numeric code indicating the region, e.g. \"CA\". @link http:\/\/www.maxmind.com\/download\/geoip\/misc\/region_codes.csv","pbj":{"rule":"single","type":"string"},"type":"string"}},"required":["_schema"]}},{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"http:\/\/schemas.wbeme.com\/json-schema\/gdbots\/geo\/address\/1-0-1.json#","additionalProperties":false,"type":"object","properties":{"___verified":{"description":"Indicates if a verification has been run on this address.","pbj":{"rule":"single","type":"boolean"},"type":"boolean"},"___street1":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":255},"____schema":{"default":"pbj:gdbots:geo::address:1-0-1","pattern":"^pbj:([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+):([0-9]+-[0-9]+-[0-9]+)$","type":"string"},"___po_box":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":20},"___continent":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":255},"___region_name":{"minLength":0,"pbj":{"rule":"single","type":"string"},"description":"The full name of the region, e.g. \"California\".","type":"string","maxLength":150},"___geo_hash":{"pattern":"^\\w+$","pbj":{"rule":"single","type":"string"},"type":"string"},"___is_verified":{"description":"Indicates if this is a valid adddress or not. Generally only true if the verified field is also true.","pbj":{"rule":"single","type":"boolean"},"type":"boolean"},"___postal_code":{"pattern":"^[\\w\\s-]+$","pbj":{"rule":"single","type":"string"},"type":"string"},"___street2":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":20},"___geo_point":{"pbj":{"rule":"single","type":"geo-point"},"additionalProperties":false,"type":"object","properties":{"___coordinates":{"type":"array","items":[{"maximum":180,"type":"number","minimum":-180,"required":true},{"maximum":90,"type":"number","minimum":-90,"required":true}]},"___type":{"pattern":"^Point$","type":"string"}},"required":["type","coordinates"]},"___country":{"pattern":"^[A-Z]{2}$","pbj":{"rule":"single","type":"string"},"type":"string"},"___city":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":100},"___region":{"pattern":"^[A-Z0-9]{2}$","description":"A two letter alpha or numeric code indicating the region, e.g. \"CA\". @link http:\/\/www.maxmind.com\/download\/geoip\/misc\/region_codes.csv","pbj":{"rule":"single","type":"string"},"type":"string"}},"required":["_schema"]}},{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","id":"http:\/\/schemas.wbeme.com\/json-schema\/gdbots\/geo\/address\/1-0-2.json#","additionalProperties":false,"type":"object","properties":{"___verified":{"description":"Indicates if a verification has been run on this address.","pbj":{"rule":"single","type":"boolean"},"type":"boolean"},"___street1":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":255},"____schema":{"default":"pbj:gdbots:geo::address:1-0-2","pattern":"^pbj:([a-z0-9-]+):([a-z0-9\\.-]+):([a-z0-9-]+)?:([a-z0-9-]+):([0-9]+-[0-9]+-[0-9]+)$","type":"string"},"___po_box":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":20},"___continent":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":255},"___county":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":100},"___region_name":{"minLength":0,"pbj":{"rule":"single","type":"string"},"description":"The full name of the region, e.g. \"California\".","type":"string","maxLength":150},"___geo_hash":{"pattern":"^\\w+$","pbj":{"rule":"single","type":"string"},"type":"string"},"___is_verified":{"description":"Indicates if this is a valid adddress or not. Generally only true if the verified field is also true.","pbj":{"rule":"single","type":"boolean"},"type":"boolean"},"___postal_code":{"pattern":"^[\\w\\s-]+$","pbj":{"rule":"single","type":"string"},"type":"string"},"___street2":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":20},"___geo_point":{"pbj":{"rule":"single","type":"geo-point"},"additionalProperties":false,"type":"object","properties":{"___coordinates":{"type":"array","items":[{"maximum":180,"type":"number","minimum":-180,"required":true},{"maximum":90,"type":"number","minimum":-90,"required":true}]},"___type":{"pattern":"^Point$","type":"string"}},"required":["type","coordinates"]},"___country":{"pattern":"^[A-Z]{2}$","pbj":{"rule":"single","type":"string"},"type":"string"},"___city":{"minLength":0,"pbj":{"rule":"single","type":"string"},"type":"string","maxLength":100},"___region":{"pattern":"^[A-Z0-9]{2}$","description":"A two letter alpha or numeric code indicating the region, e.g. \"CA\". @link http:\/\/www.maxmind.com\/download\/geoip\/misc\/region_codes.csv","pbj":{"rule":"single","type":"string"},"type":"string"}},"required":["_schema"]}}],"type":"object"}},"properties":{"___ctx_ip":{"format":"ipv4","pbj":{"format":"ipv4","overridable":true,"rule":"single","type":"string"},"type":"string"},"___ctx_ip_geo":{"anyOf":[{"$eref":{"anyOf":[{"$ref":"http:\/\/schemas.wbeme.com\/json-schema\/gdbots\/geo\/address\/1-0-0.json#"},{"$ref":"http:\/\/schemas.wbeme.com\/json-schema\/gdbots\/geo\/address\/1-0-1.json#"},{"$ref":"http:\/\/schemas.wbeme.com\/json-schema\/gdbots\/geo\/address\/1-0-2.json#"}],"type":"object"}}],"pbj":{"rule":"single","type":"message"},"type":"object"}}}