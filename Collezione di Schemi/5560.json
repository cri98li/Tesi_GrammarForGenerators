{"objects":[{"schema":{"viewable":true,"$schema":"http:\/\/json-schema.org\/draft-03\/schema","id":"http:\/\/jsonschema.net","title":"User","type":"object","properties":{"___stateProvince":{"userEditable":true,"viewable":true,"type":"string","title":"State\/Province"},"___roles":{"returnByDefault":false,"userEditable":false,"viewable":true,"description":"","title":"Provisioning Roles","type":"array","items":{"reversePropertyName":"members","reverseRelationship":true,"resourceCollection":[{"path":"managed\/role","query":{"queryFilter":"true","sortKeys":["name"],"fields":["name"]},"label":"Role"}],"type":"relationship","properties":{"____refProperties":{"type":"object","properties":{"____grantType":{"label":"Grant Type","type":"string"},"____id":{"type":"string"}}},"____ref":{"type":"string"}},"validate":true}},"___userName":{"userEditable":true,"viewable":true,"minLength":1,"policies":[{"policyId":"unique"},{"policyId":"no-internal-user-conflict"},{"policyId":"cannot-contain-characters","params":{"forbiddenChars":["\/"]}}],"title":"Username","type":"string","searchable":true},"___accountStatus":{"userEditable":false,"viewable":true,"title":"Status","type":"string","searchable":true},"___mail":{"userEditable":true,"viewable":true,"policies":[{"policyId":"valid-email-address-format"}],"title":"Email Address","type":"string","searchable":true},"___preferences":{"userEditable":true,"viewable":true,"title":"Preferences","type":"object","searchable":false,"properties":{"___marketing":{"description":"Send me special offers and services","type":"boolean"},"___updates":{"description":"Send me news and updates","type":"boolean"}},"required":[],"order":["updates","marketing"]},"___manager":{"userEditable":false,"reversePropertyName":"reports","viewable":true,"reverseRelationship":true,"description":"","resourceCollection":[{"path":"managed\/user","query":{"queryFilter":"true","sortKeys":["userName"],"fields":["userName","givenName","sn"]},"label":"User"}],"title":"Manager","type":"relationship","searchable":false,"properties":{"____refProperties":{"type":"object","properties":{"____id":{"type":"string"}}},"____ref":{"type":"string"}},"validate":true},"___authzRoles":{"returnByDefault":false,"userEditable":false,"viewable":true,"description":"","title":"Authorization Roles","type":"array","items":{"reversePropertyName":"authzMembers","reverseRelationship":true,"resourceCollection":[{"path":"repo\/internal\/role","query":{"queryFilter":"true","sortKeys":["_id"],"fields":["_id","description"]},"label":"Internal Role"},{"path":"managed\/role","query":{"queryFilter":"true","sortKeys":["name"],"fields":["name"]},"label":"Role"}],"type":"relationship","properties":{"____refProperties":{"type":"object","properties":{"____id":{"type":"string"}}},"____ref":{"type":"string"}},"validate":true}},"___givenName":{"userEditable":true,"viewable":true,"title":"First Name","type":"string","searchable":true},"___telephoneNumber":{"userEditable":true,"viewable":true,"pattern":"^\\+?([0-9\\- \\(\\)])*$","title":"Mobile Phone","type":"string"},"___description":{"userEditable":true,"viewable":true,"title":"Description","type":"string","searchable":true},"___password":{"userEditable":true,"viewable":false,"isProtected":true,"encryption":{"key":"openidm-sym-default"},"scope":"private","minLength":8,"policies":[{"policyId":"at-least-X-capitals","params":{"numCaps":1}},{"policyId":"at-least-X-numbers","params":{"numNums":1}},{"policyId":"cannot-contain-others","params":{"disallowedFields":["userName","givenName","sn"]}}],"title":"Password","type":"string","searchable":false},"___reports":{"returnByDefault":false,"userEditable":false,"viewable":true,"description":"","title":"Direct Reports","type":"array","items":{"reversePropertyName":"manager","reverseRelationship":true,"resourceCollection":[{"path":"managed\/user","query":{"queryFilter":"true","sortKeys":["userName"],"fields":["userName","givenName","sn"]},"label":"User"}],"type":"relationship","properties":{"____refProperties":{"type":"object","properties":{"____id":{"type":"string"}}},"____ref":{"type":"string"}},"validate":true}},"___effectiveRoles":{"returnByDefault":true,"viewable":false,"onRetrieve":{"source":"require('roles\/effectiveRoles').calculateEffectiveRoles(object, 'roles');","type":"text\/javascript"},"isVirtual":true,"title":"Effective Roles","type":"array","items":{"type":"object"}},"___lastSync":{"viewable":false,"scope":"private","type":"object","searchable":false,"properties":{"___timestamp":{"type":"string"},"___effectiveAssignments":{"type":"array","items":{"type":"object"}}},"required":[],"order":["effectiveAssignments","timestamp"]},"____id":{"userEditable":false,"viewable":false,"policies":[{"policyId":"cannot-contain-characters","params":{"forbiddenChars":["\/"]}}],"type":"string","searchable":false},"___country":{"userEditable":true,"viewable":true,"type":"string","title":"Country"},"___kbaInfo":{"userEditable":true,"viewable":false,"type":"array","items":{"type":"object","properties":{"___answer":{"type":"string"},"___customQuestion":{"type":"string"},"___questionId":{"type":"string"}},"required":[],"order":["answer","customQuestion","questionId"]}},"___effectiveAssignments":{"returnByDefault":true,"viewable":false,"onRetrieve":{"file":"roles\/effectiveAssignments.js","effectiveRolesPropName":"effectiveRoles","type":"text\/javascript"},"isVirtual":true,"title":"Effective Assignments","type":"array","items":{"type":"object"}},"___address2":{"userEditable":true,"viewable":true,"type":"string","title":"Address 2"},"___sn":{"userEditable":true,"viewable":true,"title":"Last Name","type":"string","searchable":true},"___postalCode":{"userEditable":true,"viewable":true,"type":"string","title":"Postal Code"},"___city":{"userEditable":true,"viewable":true,"type":"string","title":"City"},"___postalAddress":{"userEditable":true,"viewable":true,"type":"string","title":"Address 1"}},"required":["userName","givenName","sn","mail"],"order":["_id","userName","password","givenName","sn","mail","description","accountStatus","telephoneNumber","postalAddress","address2","city","postalCode","country","stateProvince","roles","manager","authzRoles","reports","effectiveRoles","effectiveAssignments","lastSync","kbaInfo","preferences"]},"onDelete":{"file":"ui\/onDelete-user-cleanup.js","type":"text\/javascript"},"onCreate":{"source":"require('ui\/onCreateUser').setDefaultFields(object);require('ui\/onCreateUser').createIdpRelationships(object);require('roles\/conditionalRoles').updateConditionalGrantsForUser(object, 'roles');require('ui\/onCreateUser').emailUser(object);","type":"text\/javascript"},"postUpdate":{"file":"roles\/postOperation-roles.js","type":"text\/javascript"},"name":"user","postDelete":{"file":"roles\/postOperation-roles.js","type":"text\/javascript"},"onUpdate":{"source":"require('ui\/onUpdateUser').preserveLastSync(object, oldObject, request);require('ui\/onUpdateUser').updateIdpRelationships(object);require('roles\/conditionalRoles').updateConditionalGrantsForUser(object, 'roles');","type":"text\/javascript"},"actions":{"resetPassword":{"source":"require('ui\/resetPassword').sendMail(object);","type":"text\/javascript"}},"postCreate":{"file":"roles\/postOperation-roles.js","type":"text\/javascript"}},{"schema":{"$schema":"http:\/\/forgerock.org\/json-schema#","description":"","title":"Role","type":"object","properties":{"___name":{"viewable":true,"description":"The role name, used for display purposes.","title":"Name","type":"string","searchable":true},"___description":{"viewable":true,"description":"The role description, used for display purposes.","title":"Description","type":"string","searchable":true},"____id":{"viewable":false,"description":"","title":"Name","type":"string","searchable":false},"___temporalConstraints":{"returnByDefault":true,"viewable":false,"description":"An array of temporal constraints for a role","title":"Temporal Constraints","type":"array","items":{"type":"object","properties":{"___duration":{"type":"string"}},"required":["duration"],"order":["duration"]}},"___condition":{"viewable":false,"description":"A conditional filter for this role","title":"Condition","type":"string","searchable":false},"___assignments":{"returnByDefault":false,"viewable":true,"description":"","title":"Managed Assignments","type":"array","items":{"reversePropertyName":"roles","reverseRelationship":true,"resourceCollection":[{"path":"managed\/assignment","query":{"queryFilter":"true","sortKeys":["name"],"fields":["name"]},"label":"Assignment"}],"type":"relationship","properties":{"____refProperties":{"type":"object","properties":{"____id":{"type":"string"}}},"____ref":{"type":"string"}},"validate":true}},"___authzMembers":{"returnByDefault":false,"viewable":true,"description":"","title":"Authorization Role Members","type":"array","items":{"reversePropertyName":"authzRoles","reverseRelationship":true,"resourceCollection":[{"path":"managed\/user","query":{"queryFilter":"true","sortKeys":["userName"],"fields":["userName","givenName","sn"]},"label":"User"}],"type":"relationship","properties":{"____refProperties":{"type":"object","properties":{"____id":{"type":"string"}}},"____ref":{"type":"string"}},"validate":true}},"___members":{"returnByDefault":false,"viewable":true,"description":"","title":"Role Members","type":"array","items":{"reversePropertyName":"roles","reverseRelationship":true,"resourceCollection":[{"path":"managed\/user","query":{"queryFilter":"true","sortKeys":["userName"],"fields":["userName","givenName","sn"]},"label":"User"}],"type":"relationship","properties":{"____refProperties":{"type":"object","properties":{"____grantType":{"label":"Grant Type","type":"string"},"____id":{"type":"string"}}},"____ref":{"type":"string"}},"validate":true}}},"required":["name","description"],"order":["_id","name","description","assignments","members","condition","temporalConstraints"]},"onDelete":{"file":"roles\/onDelete-roles.js","type":"text\/javascript"},"onCreate":{"source":"require('roles\/conditionalRoles').roleCreate(object);","type":"text\/javascript"},"onSync":{"source":"require('roles\/onSync-roles').syncUsersOfRoles(resourceName, oldObject, newObject, ['members']);","type":"text\/javascript"},"postUpdate":{"file":"roles\/postOperation-roles.js","type":"text\/javascript"},"name":"role","postDelete":{"file":"roles\/postOperation-roles.js","type":"text\/javascript"},"onUpdate":{"source":"require('roles\/conditionalRoles').roleUpdate(oldObject, object);","type":"text\/javascript"},"postCreate":{"file":"roles\/postOperation-roles.js","type":"text\/javascript"}},{"schema":{"$schema":"http:\/\/forgerock.org\/json-schema#","description":"A role assignment","title":"Assignment","type":"object","properties":{"___name":{"viewable":true,"description":"The assignment name, used for display purposes.","title":"Name","type":"string","searchable":true},"___linkQualifiers":{"viewable":true,"description":"Conditional link qualifiers to restrict this assignment to.","title":"Link Qualifiers","type":"array","items":{"type":"string"}},"___attributes":{"viewable":true,"description":"The attributes operated on by this assignment.","title":"Assignment Attributes","type":"array","items":{"type":"object","properties":{"___name":{"type":"string"},"___assignmentOperation":{"type":"string"},"___unassignmentOperation":{"type":"string"},"___value":{"type":"string"}},"required":[],"order":["assignmentOperation","unassignmentOperation","name","value"]}},"___description":{"viewable":true,"description":"The assignment description, used for display purposes.","title":"Description","type":"string","searchable":true},"____id":{"viewable":false,"description":"The assignment ID","title":"Name","type":"string","searchable":false},"___roles":{"returnByDefault":false,"userEditable":false,"viewable":true,"description":"","title":"Managed Roles","type":"array","items":{"reversePropertyName":"assignments","reverseRelationship":true,"resourceCollection":[{"path":"managed\/role","query":{"queryFilter":"true","sortKeys":["name"],"fields":["name"]},"label":"Role"}],"type":"relationship","properties":{"____refProperties":{"type":"object","properties":{"____id":{"type":"string"}}},"____ref":{"type":"string"}},"validate":true}},"___mapping":{"viewable":true,"policies":[{"policyId":"mapping-exists"}],"description":"The name of the mapping this assignment applies to","title":"Mapping","type":"string","searchable":true}},"required":["name","description","mapping"],"order":["_id","name","description","attributes","linkQualifiers"]},"onSync":{"source":"require('roles\/onSync-assignments').syncUsersOfRolesWithAssignment(resourceName, oldObject, newObject, ['roles']);","type":"text\/javascript"},"name":"assignment"}]}