{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"Microsoft Network Resource Types","id":"https:\/\/schema.management.azure.com\/schemas\/2018-04-01\/Microsoft.Network.json#","title":"Microsoft.Network","resourceDefinitions":{"trafficManagerProfiles":{"description":"Microsoft.Network\/trafficmanagerprofiles","type":"object","properties":{"___location":{"description":"The Azure Region where the resource lives","type":"string"},"___name":{"type":"string"},"___type":{"type":"string","enum":["Microsoft.Network\/trafficManagerProfiles"]},"___tags":{"oneOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Resource tags."},"___properties":{"oneOf":[{"$eref":{"description":"Class representing the Traffic Manager profile properties.","type":"object","properties":{"___monitorConfig":{"oneOf":[{"$ref":"#\/definitions\/MonitorConfig"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The endpoint monitoring settings of the Traffic Manager profile."},"___profileStatus":{"oneOf":[{"type":"string","enum":["Enabled","Disabled"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The status of the Traffic Manager profile."},"___dnsConfig":{"oneOf":[{"$ref":"#\/definitions\/DnsConfig"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The DNS settings of the Traffic Manager profile."},"___endpoints":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/Endpoint"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The list of endpoints in the Traffic Manager profile."},"___maxReturn":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Maximum number of endpoints to be returned for MultiValue routing type."},"___trafficRoutingMethod":{"oneOf":[{"type":"string","enum":["Performance","Priority","Weighted","Geographic","MultiValue","Subnet"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The traffic routing method of the Traffic Manager profile."},"___trafficViewEnrollmentStatus":{"oneOf":[{"type":"string","enum":["Enabled","Disabled"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Indicates whether Traffic View is 'Enabled' or 'Disabled' for the Traffic Manager profile. Null, indicates 'Disabled'. Enabling this feature will increase the cost of the Traffic Manage profile."}}}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The properties of the Traffic Manager profile."},"___apiVersion":{"type":"string","enum":["2018-04-01"]},"___id":{"description":"Fully qualified resource Id for the resource. Ex - \/subscriptions\/{subscriptionId}\/resourceGroups\/{resourceGroupName}\/providers\/Microsoft.Network\/trafficManagerProfiles\/{resourceName}","type":"string"}},"required":["name","type","apiVersion","properties"]}},"definitions":{"_88EndpointProperties":{"description":"Class representing a Traffic Manager endpoint properties.","type":"object","properties":{"___geoMapping":{"oneOf":[{"type":"array","items":{"type":"string"}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The list of countries\/regions mapped to this endpoint when using the 'Geographic' traffic routing method. Please consult Traffic Manager Geographic documentation for a full list of accepted values."},"___endpointStatus":{"oneOf":[{"type":"string","enum":["Enabled","Disabled"]},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The status of the endpoint. If the endpoint is Enabled, it is probed for endpoint health and is included in the traffic routing method."},"___weight":{"oneOf":[{"type":"integer"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The weight of this endpoint when using the 'Weighted' traffic routing method. Possible values are from 1 to 1000."},"___customHeaders":{"oneOf":[{"type":"array","items":{"$eref":{"description":"Custom header name and value.","type":"object","properties":{"___name":{"description":"Header name.","type":"string"},"___value":{"description":"Header value.","type":"string"}}}}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"List of custom headers."},"___target":{"description":"The fully-qualified DNS name or IP address of the endpoint. Traffic Manager returns this value in DNS responses to direct traffic to this endpoint.","type":"string"},"___endpointLocation":{"description":"Specifies the location of the external or nested endpoints when using the 'Performance' traffic routing method.","type":"string"},"___subnets":{"oneOf":[{"type":"array","items":{"$eref":{"description":"Subnet first address, scope, and\/or last address.","type":"object","properties":{"___scope":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Block size (number of leading bits in the subnet mask)."},"___first":{"description":"First address in the subnet.","type":"string"},"___last":{"description":"Last address in the subnet.","type":"string"}}}}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The list of subnets, IP addresses, and\/or address ranges mapped to this endpoint when using the 'Subnet' traffic routing method. An empty list will match all ranges not covered by other endpoints."},"___targetResourceId":{"description":"The Azure Resource URI of the of the endpoint. Not applicable to endpoints of type 'ExternalEndpoints'.","type":"string"},"___endpointMonitorStatus":{"oneOf":[{"type":"string","enum":["CheckingEndpoint","Online","Degraded","Disabled","Inactive","Stopped"]},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The monitoring status of the endpoint."},"___minChildEndpoints":{"oneOf":[{"type":"integer"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The minimum number of endpoints that must be available in the child profile in order for the parent profile to be considered available. Only applicable to endpoint of type 'NestedEndpoints'."},"___priority":{"oneOf":[{"type":"integer"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The priority of this endpoint when using the 'Priority' traffic routing method. Possible values are from 1 to 1000, lower values represent higher priority. This is an optional parameter.  If specified, it must be specified on all endpoints, and no two endpoints can share the same priority value."}}},"_88EndpointPropertiesSubnetsItem":{"description":"Subnet first address, scope, and\/or last address.","type":"object","properties":{"___scope":{"oneOf":[{"type":"integer"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Block size (number of leading bits in the subnet mask)."},"___first":{"description":"First address in the subnet.","type":"string"},"___last":{"description":"Last address in the subnet.","type":"string"}}},"_88MonitorConfig":{"description":"Class containing endpoint monitoring settings in a Traffic Manager profile.","type":"object","properties":{"___customHeaders":{"oneOf":[{"type":"array","items":{"$eref":{"description":"Custom header name and value.","type":"object","properties":{"___name":{"description":"Header name.","type":"string"},"___value":{"description":"Header value.","type":"string"}}}}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"List of custom headers."},"___toleratedNumberOfFailures":{"oneOf":[{"type":"integer"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The number of consecutive failed health check that Traffic Manager tolerates before declaring an endpoint in this profile Degraded after the next failed health check."},"___timeoutInSeconds":{"oneOf":[{"type":"integer"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The monitor timeout for endpoints in this profile. This is the time that Traffic Manager allows endpoints in this profile to response to the health check."},"___protocol":{"oneOf":[{"type":"string","enum":["HTTP","HTTPS","TCP"]},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The protocol (HTTP, HTTPS or TCP) used to probe for endpoint health."},"___expectedStatusCodeRanges":{"oneOf":[{"type":"array","items":{"$eref":{"description":"Min and max value of a status code range.","type":"object","properties":{"___min":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Min status code."},"___max":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Max status code."}}}}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"List of expected status code ranges."},"___port":{"oneOf":[{"type":"integer"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The TCP port used to probe for endpoint health."},"___intervalInSeconds":{"oneOf":[{"type":"integer"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The monitor interval for endpoints in this profile. This is the interval at which Traffic Manager will check the health of each endpoint in this profile."},"___profileMonitorStatus":{"oneOf":[{"type":"string","enum":["CheckingEndpoints","Online","Degraded","Disabled","Inactive"]},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The profile-level monitoring status of the Traffic Manager profile."},"___path":{"description":"The path relative to the endpoint domain name used to probe for endpoint health.","type":"string"}}},"_88EndpointPropertiesCustomHeadersItem":{"description":"Custom header name and value.","type":"object","properties":{"___name":{"description":"Header name.","type":"string"},"___value":{"description":"Header value.","type":"string"}}},"_88DnsConfig":{"description":"Class containing DNS settings in a Traffic Manager profile.","type":"object","properties":{"___relativeName":{"description":"The relative DNS name provided by this Traffic Manager profile. This value is combined with the DNS domain name used by Azure Traffic Manager to form the fully-qualified domain name (FQDN) of the profile.","type":"string"},"___ttl":{"oneOf":[{"type":"integer"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The DNS Time-To-Live (TTL), in seconds. This informs the local DNS resolvers and DNS clients how long to cache DNS responses provided by this Traffic Manager profile."}}},"_88MonitorConfigExpectedStatusCodeRangesItem":{"description":"Min and max value of a status code range.","type":"object","properties":{"___min":{"oneOf":[{"type":"integer"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Min status code."},"___max":{"oneOf":[{"type":"integer"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Max status code."}}},"_88MonitorConfigCustomHeadersItem":{"description":"Custom header name and value.","type":"object","properties":{"___name":{"description":"Header name.","type":"string"},"___value":{"description":"Header value.","type":"string"}}},"_88Endpoint":{"description":"Class representing a Traffic Manager endpoint.","type":"object","properties":{"___name":{"description":"The name of the resource","type":"string"},"___type":{"description":"The type of the resource. Ex- Microsoft.Network\/trafficmanagerProfiles.","type":"string"},"___properties":{"oneOf":[{"$eref":{"description":"Class representing a Traffic Manager endpoint properties.","type":"object","properties":{"___geoMapping":{"oneOf":[{"type":"array","items":{"type":"string"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The list of countries\/regions mapped to this endpoint when using the 'Geographic' traffic routing method. Please consult Traffic Manager Geographic documentation for a full list of accepted values."},"___endpointStatus":{"oneOf":[{"type":"string","enum":["Enabled","Disabled"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The status of the endpoint. If the endpoint is Enabled, it is probed for endpoint health and is included in the traffic routing method."},"___weight":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The weight of this endpoint when using the 'Weighted' traffic routing method. Possible values are from 1 to 1000."},"___customHeaders":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/EndpointPropertiesCustomHeadersItem"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"List of custom headers."},"___target":{"description":"The fully-qualified DNS name or IP address of the endpoint. Traffic Manager returns this value in DNS responses to direct traffic to this endpoint.","type":"string"},"___endpointLocation":{"description":"Specifies the location of the external or nested endpoints when using the 'Performance' traffic routing method.","type":"string"},"___subnets":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/EndpointPropertiesSubnetsItem"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The list of subnets, IP addresses, and\/or address ranges mapped to this endpoint when using the 'Subnet' traffic routing method. An empty list will match all ranges not covered by other endpoints."},"___targetResourceId":{"description":"The Azure Resource URI of the of the endpoint. Not applicable to endpoints of type 'ExternalEndpoints'.","type":"string"},"___endpointMonitorStatus":{"oneOf":[{"type":"string","enum":["CheckingEndpoint","Online","Degraded","Disabled","Inactive","Stopped"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The monitoring status of the endpoint."},"___minChildEndpoints":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The minimum number of endpoints that must be available in the child profile in order for the parent profile to be considered available. Only applicable to endpoint of type 'NestedEndpoints'."},"___priority":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The priority of this endpoint when using the 'Priority' traffic routing method. Possible values are from 1 to 1000, lower values represent higher priority. This is an optional parameter.  If specified, it must be specified on all endpoints, and no two endpoints can share the same priority value."}}}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The properties of the Traffic Manager endpoint."},"___id":{"description":"Fully qualified resource Id for the resource. Ex - \/subscriptions\/{subscriptionId}\/resourceGroups\/{resourceGroupName}\/providers\/Microsoft.Network\/trafficManagerProfiles\/{resourceName}","type":"string"}}},"_88ProfileProperties":{"description":"Class representing the Traffic Manager profile properties.","type":"object","properties":{"___monitorConfig":{"oneOf":[{"$eref":{"description":"Class containing endpoint monitoring settings in a Traffic Manager profile.","type":"object","properties":{"___customHeaders":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/MonitorConfigCustomHeadersItem"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"List of custom headers."},"___toleratedNumberOfFailures":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The number of consecutive failed health check that Traffic Manager tolerates before declaring an endpoint in this profile Degraded after the next failed health check."},"___timeoutInSeconds":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The monitor timeout for endpoints in this profile. This is the time that Traffic Manager allows endpoints in this profile to response to the health check."},"___protocol":{"oneOf":[{"type":"string","enum":["HTTP","HTTPS","TCP"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The protocol (HTTP, HTTPS or TCP) used to probe for endpoint health."},"___expectedStatusCodeRanges":{"oneOf":[{"type":"array","items":{"$ref":"#\/definitions\/MonitorConfigExpectedStatusCodeRangesItem"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"List of expected status code ranges."},"___port":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The TCP port used to probe for endpoint health."},"___intervalInSeconds":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The monitor interval for endpoints in this profile. This is the interval at which Traffic Manager will check the health of each endpoint in this profile."},"___profileMonitorStatus":{"oneOf":[{"type":"string","enum":["CheckingEndpoints","Online","Degraded","Disabled","Inactive"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The profile-level monitoring status of the Traffic Manager profile."},"___path":{"description":"The path relative to the endpoint domain name used to probe for endpoint health.","type":"string"}}}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The endpoint monitoring settings of the Traffic Manager profile."},"___profileStatus":{"oneOf":[{"type":"string","enum":["Enabled","Disabled"]},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The status of the Traffic Manager profile."},"___dnsConfig":{"oneOf":[{"$eref":{"description":"Class containing DNS settings in a Traffic Manager profile.","type":"object","properties":{"___relativeName":{"description":"The relative DNS name provided by this Traffic Manager profile. This value is combined with the DNS domain name used by Azure Traffic Manager to form the fully-qualified domain name (FQDN) of the profile.","type":"string"},"___ttl":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The DNS Time-To-Live (TTL), in seconds. This informs the local DNS resolvers and DNS clients how long to cache DNS responses provided by this Traffic Manager profile."}}}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The DNS settings of the Traffic Manager profile."},"___endpoints":{"oneOf":[{"type":"array","items":{"$eref":{"description":"Class representing a Traffic Manager endpoint.","type":"object","properties":{"___name":{"description":"The name of the resource","type":"string"},"___type":{"description":"The type of the resource. Ex- Microsoft.Network\/trafficmanagerProfiles.","type":"string"},"___properties":{"oneOf":[{"$ref":"#\/definitions\/EndpointProperties"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The properties of the Traffic Manager endpoint."},"___id":{"description":"Fully qualified resource Id for the resource. Ex - \/subscriptions\/{subscriptionId}\/resourceGroups\/{resourceGroupName}\/providers\/Microsoft.Network\/trafficManagerProfiles\/{resourceName}","type":"string"}}}}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The list of endpoints in the Traffic Manager profile."},"___maxReturn":{"oneOf":[{"type":"integer"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Maximum number of endpoints to be returned for MultiValue routing type."},"___trafficRoutingMethod":{"oneOf":[{"type":"string","enum":["Performance","Priority","Weighted","Geographic","MultiValue","Subnet"]},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The traffic routing method of the Traffic Manager profile."},"___trafficViewEnrollmentStatus":{"oneOf":[{"type":"string","enum":["Enabled","Disabled"]},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Indicates whether Traffic View is 'Enabled' or 'Disabled' for the Traffic Manager profile. Null, indicates 'Disabled'. Enabling this feature will increase the cost of the Traffic Manage profile."}}}}}