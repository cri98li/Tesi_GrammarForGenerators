{"esriDocumentation":{"examples":[{"code":{"popupInfo":{"relatedRecordsInfo":{"orderByFields":[{"field":"relationships\/0\/Identifier","order":"asc"},{"field":"relationships\/1\/Status","order":"desc"}],"showRelatedRecords":true},"fieldInfos":[{"fieldName":"expression\/expr1","visible":true,"format":{"digitSeparator":true,"places":0}},{"fieldName":"expression\/expr2","visible":true},{"visible":true,"fieldName":"ID","format":{"digitSeparator":true,"places":0},"tooltip":"Identifier","label":"ID","stringFieldOption":"textbox"},{"visible":true,"fieldName":"relationships\/0\/Status","isEditable":false,"label":"Status","stringFieldOption":"textbox"},{"visible":false,"fieldName":"relationships\/2\/Postcode","isEditable":false,"label":"Postcode","stringFieldOption":"textbox"}],"expressionInfos":[{"expression":"$feature.pop2000","name":"expr1","title":"Population (Expr)","returnType":"number"},{"expression":"$feature.state_name + ' (' + $feature.state_abbr + ')'","name":"expr2","title":"Name (Abbr) (Expr)","returnType":"string"}],"mediaInfos":[{"caption":"For a better idea...","title":"Chart stats","type":"barchart","value":{"tooltipField":"relationships\/2\/Official","fields":["relationships\/0\/Pledge"]}},{"type":"barchart","title":"{pop2000} \/ 2 = {expression\/expr4}","value":{"fields":["expression\/expr4","pop2000"]}}],"popupElements":[{"type":"text"},{"type":"fields"},{"type":"media"},{"type":"attachments"}],"showAttachments":true,"title":"Postcode status"}},"title":"popupInfo"}]},"$schema":"http:\/\/json-schema.org\/draft-04\/schema","description":"Defines the look and feel of popup windows when a user clicks or queries a feature.","additionalProperties":false,"title":"popupInfo","type":"object","properties":{"___mediaInfos":{"description":"Array of various mediaInfo to display. Can be of type `image`, `piechart`, `barchart`, `columnchart`, or `linechart`. The order given is the order in which it displays.","type":"array","items":{"$eref":{"esriDocumentation":{"examples":[{"code":{"mediaInfo":{"caption":"For a better idea...","title":"Chart stats","type":"barchart","value":{"tooltipField":"relationships\/2\/Official","fields":["relationships\/0\/Pledge"]}}},"title":"mediaInfo"}]},"$schema":"http:\/\/json-schema.org\/draft-04\/schema","description":"Defines an image or a chart to be displayed in a popup window.","additionalProperties":false,"title":"mediaInfo","type":"object","properties":{"___caption":{"description":"A string caption describing the media.","type":"string"},"___refreshInterval":{"default":0,"description":"Refresh interval of the layer in minutes. Non-zero value indicates automatic layer refresh at the specified interval. Value of 0 indicates auto refresh is not enabled. If the property does not exist, it's equivalent to having a value of 0. Only applicable when `type` is set to `image`.","type":"number"},"___type":{"description":"A string defining the type of media.","type":"string","enum":["image","barchart","columnchart","linechart","piechart"]},"___title":{"oneOf":[{"type":"string"},{"type":"null"}],"description":"A string title for the media."},"___value":{"oneOf":[{"$ref":"value_schema.json"},{"type":"null"}],"description":"A value object containing information about how the image should be retrieved or how the chart should be constructed."}}},"type":"object"}},"___layerOptions":{"$eref":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema","description":"Additional options available for the popup layer.","title":"Layer Options","type":"object","properties":{"___showNoDataRecords":{"description":"Indicates whether or not the NoData records should be displayed.","type":"boolean"}}},"description":"Additional options that can be defined for the popup layer.","type":"object"},"___description":{"oneOf":[{"type":"string"},{"type":"null"}],"description":"A string that appears in the body of the popup window as a description. It is also possible to specify the description as HTML-formatted content."},"___relatedRecordsInfo":{"$eref":{"esriDocumentation":{"examples":[{"code":{"relatedRecordsInfo":{"orderByFields":[{"field":"relationships\/0\/FieldName","order":"asc"}],"showRelatedRecords":true}},"title":"relatedRecordsInfo"}]},"$schema":"http:\/\/json-schema.org\/draft-04\/schema","description":"The sort in the popupInfo for the parent feature. This impacts the sorting order for the returned child records.","title":"relatedRecordsInfo","type":"object","properties":{"___showRelatedRecords":{"description":"Required boolean value indicating whether to display related records. If <code>true<\/code>, client should let the user navigate to the related records. Defaults to <code>true<\/code> if the layer participates in a relationship AND the related layer\/table has already been added to the scene (either as an operationalLayer or as a table).","type":"boolean"},"___orderByFields":{"description":"Array of orderByFields objects indicating the field display order for the related records and whether they should be sorted in ascending <code>'asc'<\/code> or descending <code>'desc'<\/code> order.","type":"array","items":{"type":"object","$ref":"orderByFields_schema.json"}}}},"description":"Indicates whether to enable related records if they exist on a layer.","type":"object"},"___expressionInfos":{"description":"List of Arcade expressions added to the pop-up.","type":"array","items":{"$eref":{"esriDocumentation":{"examples":[{"code":{"expressionInfos":[{"expression":"$feature.pop2000","name":"expr1","title":"Population (Expr)","returnType":"number"},{"expression":"$feature.state_name + ' (' + $feature.state_abbr + ')'","name":"expr2","title":"Name (Abbr) (Expr)","returnType":"string"}]}}]},"$schema":"http:\/\/json-schema.org\/draft-04\/schema","description":"Arcade expression added to the pop-up.","additionalProperties":false,"title":"popupExpressionInfo","properties":{"___name":{"description":"Unique identifier for the expression.","type":"string"},"___expression":{"description":"The Arcade expression.","type":"string"},"___returnType":{"description":"Return type of the Arcade expression, can be number or string. Defaults to string value. Number values are assumed to be `double`. This can be determined by the authoring client by executing the expression using a sample feature(s), although it can be corrected by the user. Knowing the returnType allows the authoring client to present fields in relevant contexts. For example, numeric fields in numeric contexts such as charts.","type":"string","enum":["number","string"]},"___title":{"description":"Title of the expression.","type":"string"}}},"type":"object"}},"___fieldInfos":{"description":"Array of fieldInfo information properties. This information is provided by the service layer definition.","type":"array","items":{"$eref":{"esriDocumentation":{"examples":[{"code":{"fieldInfo":{"visible":false,"fieldName":"relationships\/2\/Postcode","isEditable":false,"label":"Postcode","stringFieldOption":"textbox"}},"title":"fieldInfo"}]},"$schema":"http:\/\/json-schema.org\/draft-04\/schema","description":"Defines how a field in the dataset participates (or does not participate) in a popup window.","additionalProperties":false,"title":"fieldInfo","type":"object","properties":{"___format":{"description":"A format object used with numerical or date fields to provide more detail about how the value should be displayed in a popup window.","type":"object","$ref":"format_schema.json"},"___fieldName":{"description":"A string containing the field name as defined by the service. Anywhere that a fieldname is referenced as `{field-name} in popupInfo, an Arcade expression can also be referenced as `{expression\/<expression-name>}`.","type":"string"},"___stringFieldOption":{"description":"A string determining what type of input box editors see when editing the field. Applies only to string fields. Not applicable to Arcade expressions.","type":"string","enum":["textbox","textarea","richtext"]},"___visible":{"description":"A Boolean determining whether the field is visible in the popup window.","type":"boolean"},"___tooltip":{"description":"A string providing an editing hint for editors of the field. Not applicable to Arcade expressions.","type":"string"},"___isEditable":{"description":"A Boolean determining whether users can edit this field. Not applicable to Arcade expressions.","type":"boolean"},"___label":{"description":"A string containing the field alias. Not applicable to Arcade expressions as `title` is used instead.","type":"string"}}},"type":"object"}},"___title":{"description":"A string that appears at the top of the popup window as a title.","type":"string"},"___popupElements":{"description":"An array of popupElement objects that represent an ordered list of popup elements.","type":"array","items":{"$eref":{"esriDocumentation":{"additionalInformation":"Each popupElement has a `type` property. This string value indicates the type of popupElement used.","examples":[{"code":{"popupElements":[{"text":"Some descriptive text describing the popup.","type":"text"},{"fieldInfos":[],"type":"fields"},{"mediaInfos":[],"type":"media"},{"displayType":"list","type":"attachments"}]},"title":"popupElement"}]},"$schema":"http:\/\/json-schema.org\/draft-04\/schema","description":"Popup elements allow users to author popups, using multiple elements such as tabular views, string description, media (charts and images), and attachments of the attributes and control the order in which they appear. Specifically, popupElements do the following: 1) provide the ability to explicitly add a field\/ value table in addition to a description, 2) allow adding multiple description elements, and 3) allow a user to author and consume elements of a popup in the order of their choosing.","title":"popupElement","type":"object","properties":{"___mediaInfos":{"description":"This property applies to elements of type `media`. An array of [popupInfo.mediaInfo](popupInfo.md) objects representing an image or chart for display. If no `mediaInfos` property is provided, the popupElement will display whatever is specified in the [popupInfo.mediaInfo](popupInfo.md) property.","type":"array","items":{"type":"object","$ref":"mediaInfo_schema.json"}},"___text":{"description":"This property applies to elements of type `text`. This is string value indicating the text to be displayed within the popupElement. If no `text` property is provided, the popupElement will display whatever is specified in the [popupInfo.description](popupInfo.md) property.","type":"string"},"___type":{"description":"String value indicating which elements to use.","type":"string","enum":["text","fields","media","attachments"]},"___displayType":{"description":"This property applies to elements of type `attachments`. A string value indicating how to display the attachment. Possible values are, `preview`, and `list`. If `list` is specified, attachments show as links.","type":"string"},"___fieldInfos":{"description":"This property applies to elements of type `fields`.  It is an array of [popupInfo.fieldInfo](fieldInfo.md) objects representing a field\/value pair displayed as a table within the popupElement. If the `fieldInfos` property is not provided, the popupElement will display whatever is specified directly in the [popupInfo.fieldInfos](popupInfo.md) property.","type":"array","items":{"type":"object","$ref":"fieldInfo_schema.json"}}}},"type":"object"}},"___showAttachments":{"description":"Indicates whether attachments will be loaded for feature layers that have attachments.","type":"boolean"}}}