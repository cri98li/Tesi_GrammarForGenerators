{"$schema":"http:\/\/json-schema.org\/draft-07\/schema#","additionalProperties":false,"title":"turbosite.json schema","type":"object","properties":{"___wildCards":{"description":"List of wildcards that can be used to be dinamically replaced on this setup, with different values for the build and release commands","type":"array","items":{"description":"","additionalProperties":false,"type":"object","properties":{"___name":{"description":"The name for the wildcard. This string will be searched on all the setup file and replaced with the build or release value","type":"string"},"___build":{"description":"The value that will be assigned to all the wildcard occurences when the build process is executed","type":"string"},"___release":{"description":"The value that will be assigned to all the wildcard occurences when the release process is executed","type":"string"}},"required":["name","build","release"]}},"___viewComponents":{"description":"A list of components that will be loaded with specific views. They will be loaded after the global css, js and global elements. Each array item is an object with two properties: view (the name of the view that will load the component) and components (a list of paths based on src\/main to the components to load with the view, without file extension)","type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___view":{"examples":["home"],"description":"A view name","type":"string"},"___components":{"examples":["view\/components\/main-menu\/main-menu"],"description":"A list of paths to the components based on src\/main, without file extension","type":"array"}},"required":["view","components"]}},"___translationLocations":{"description":"List of locations where the resource bundles containing the site translation are located. Each array item must be an object with three properties: label, path and bundles.","type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___label":{"examples":["resources-locales"],"description":"The name that is used to define the translations location, so it can be referenced when requesting a translation","type":"string"},"___bundles":{"examples":["home","footer"],"description":"The list of bundles that will be initially loaded from the provided path. This list can be empty here and bundles added later as required.","type":"array"},"___path":{"examples":["resources\/locales\/$bundle\/$bundle_$locale.properties"],"description":"A path relative to src\/main that defines the file structure to reach the translation files inside a folder. Wilcards must be used for $bundle and $locale","type":"string"}},"required":["label","path","bundles"]}},"___homeView":{"examples":["home","some-other-view"],"description":"Contains the name of the view that is shown at the root url.","type":"string"},"___globalCss":{"examples":["libs\/normalize\/normalize.css","view\/css\/global-styles.scss","view\/components\/main-menu\/main-menu.scss","view\/components\/footer\/footer.scss"],"description":"List of css file paths that will be included globally on all the project views. All the specified files will be merged into a single global css file to optimize performance. The merge order will be exactly the same as the one defined here","type":"array","items":{"description":"The Items Schema","type":"string"}},"___globalJs":{"description":"List of js file paths (relative to src\/main) that will be included globally on all the project views. All the specified files will be merged into a single global js file to optimize performance. The merge order will be exactly the same as the one defined here","type":"array","items":{"examples":["libs\/turbocommons-es5\/turbocommons-es5.js"],"type":"string"}},"___$schema":{"description":"Url to the json schema definition to validate this file","type":"string","enum":["https:\/\/raw.githubusercontent.com\/edertone\/TurboBuilder\/master\/TurboBuilder-Node\/src\/main\/resources\/json-schema\/turbosite.schema.json"]},"___globalComponents":{"examples":["view\/components\/main-menu\/main-menu","view\/components\/footer\/footer"],"description":"A list of components that will be globally loaded right after the globalJs and globalCss. Each array element is a string with the path to a component (based on src\/main) without a file extension","type":"array","items":{"description":"A path to the component (based on src\/main) without the file extension","type":"string"}},"___errorSetup":{"description":"Defines how errors and warnings are handled by the application","additionalProperties":false,"type":"object","properties":{"___warningsToMail":{"description":"The Warningstomail Schema","type":"string"},"___exceptionsToBrowser":{"description":"If set to true, all application exceptions information will be written directly to the browser output.","type":"boolean"},"___exceptionsToLog":{"description":"A log filename or relative path where the exceptions must be written. If not specified, no log will be output. The filename or relative path must be based on the depot logs setup","type":"string"},"___exceptionsToMail":{"description":"The Exceptionstomail Schema","type":"string"},"___warningsToBrowser":{"description":"The Warningstobrowser Schema","type":"boolean"},"___tooMuchMemoryWarning":{"description":"When allocated memory on any of the site urls exceeds the number of bytes defined here, a warning will be launched. If set to zero, this feature will be disabled","type":"integer"},"___tooMuchTimeWarning":{"description":"When running time on any of the site urls exceeds the number of miliseconds defined here, a warning will be launched. If set to zero, this feature will be disabled","type":"integer"},"___warningsToLog":{"description":"A log filename or relative path where the warnings must be written. If not specified, no log will be output. The filename or relative path must be based on the depot logs setup","type":"string"}},"required":["exceptionsToBrowser","exceptionsToLog","exceptionsToMail","warningsToBrowser","warningsToLog","warningsToMail","tooMuchTimeWarning","tooMuchMemoryWarning"]},"___singleParameterView":{"description":"This is the view that will be called by default when the current url contains only a single parameter like: http:\/\/host\/this-is-a-parameter","type":"string"},"___webServices":{"description":"Defines the setup related to the web services exposed by the site at sitedomain.com\/api","additionalProperties":false,"type":"object","properties":{"___crossOriginCORS":{"description":"Defines the Cross Origin Resource Sharing policy that applies to all the web services. restrict means only same domain is allowed, and allow means access is granted from anywhere","type":"string","enum":["restrict","allow"]},"___api":{"description":"List of API definitions. Each element links a URL services path to the code namespace where the respective webservice classes can be found","type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___namespace":{"examples":["project\/src\/main\/api\/site"],"description":"The namespace where the webservice classes that relate to the specified URI can be found. Namespace must point to the root of the service classes folder that matches the specified URI fragment. No ending slash must exist","type":"string"},"___uri":{"examples":["api\/site"],"description":"A fragment of the URL that calls the services which defines the services API path. Must start with api\/ and no ending slash must exist","type":"string"}},"required":["uri","namespace"]}}},"required":["crossOriginCORS","api"]},"___globalHtml":{"description":"Defines extra fragments of html that will be added globally to all the project views","additionalProperties":false,"type":"object","properties":{"___beforeBodyClose":{"examples":["view\/components\/google-analytics\/google-analytics.html"],"description":"List of paths to files containing html code that will be added just before the <\/body> tag on all the project views, sorted in the same order as here","type":"array","items":{"description":"Path to a file containing some html code","type":"string"}},"___afterBodyOpen":{"examples":["view\/components\/google-analytics\/google-analytics.html"],"description":"List of paths to files containing html code that will be added just after the <body> tag on all the project views, sorted in the same order as here","type":"array","items":{"description":"Path to a file containing some html code","type":"string"}}},"required":["afterBodyOpen","beforeBodyClose"]},"___globalCDNS":{"examples":["TODO"],"description":"List of js files that will be loaded from CDN urls. These files are loaded first on the view documents, before any other global js files. They will be loaded in the same order as provided here. Each array item must be an object with 3 properties: url (direct url to the CDN file), fallbackVerify (a sentence that must evaluate to true to check that CDN is correctly loaded) and fallbackResource (A path inside src\/main to load the local CDN file if remote not possible)","type":"array","items":{"description":"The Items Schema","additionalProperties":false,"type":"object","properties":{"___fallbackVerify":{"examples":["window.jQuery"],"description":"A javascript sentence that must evaluate to true. If it evaluates to false it means that the CDN was not reachable and the fallback resource will be loaded","type":"string"},"___url":{"examples":["https:\/\/ajax.googleapis.com\/ajax\/libs\/jquery\/3.3.1\/jquery.min.js"],"description":"The Url Schema","type":"string"},"___fallbackResource":{"examples":["libs\/jquery\/jquery.js"],"description":"The project path inside src\/main from where the library fallback resource will be loaded if CDN is not available","type":"string"}},"required":["url","fallbackVerify","fallbackResource"]}},"___locales":{"description":"The list of locales that will be available on the site. Sorted by preference","type":"array","items":{"type":"string"}},"___baseURL":{"description":"If the project is not deployed at the root of its host, we must place here the relative path where it is located. For example, if we deploy our site into http:\/\/somehost.com\/somefolder, we must define the baseURL as \"somefolder\"","type":"string"}},"required":["$schema","errorSetup","homeView","baseURL","singleParameterView","locales","translationLocations","globalCDNS","globalJs","globalCss","globalComponents","globalHtml","viewComponents","webServices"],"$id":"http:\/\/example.com\/root.json"}