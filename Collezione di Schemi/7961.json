{"input_schema":{"$schema":"http:\/\/json-schema.org\/draft-06\/schema#","additionalProperties":false,"title":"fabric info","type":"object","properties":{"___overlay_ibgp_asn":{"default":64512,"type":"integer","title":"iBGP ASN for Contrail overlay network"},"___import_configured":{"default":false,"description":"Not importing configured interfaces by default. Set this option to true if configured interfaces need to be imported as part of onboarding.","type":"boolean"},"___device_auth":{"additionalProperties":false,"title":"Device Auth","type":"object","properties":{"___root_password":{"type":"string"}},"required":["root_password"]},"___pnf_servicechain_subnets":{"type":"array","items":{"pattern":"^([0-9]{1,3}\\.){3}[0-9]{1,3}(\/([0-9]|[1-2][0-9]|3[0-2]))?$","description":"List of the subnet prefixes that could be carved out for service chaining between fabric devices.","type":"string"}},"___supplemental_day_0_cfg":{"title":"List of day 0 config that can be used to supplement the ZTP config","type":"array","items":{"type":"object","properties":{"___name":{"title":"name for the config","type":"string"},"___cfg":{"title":"config blob that contains the supplemental day-0 config","type":"string"}},"required":["name","cfg"]}},"___enterprise_style":{"default":true,"description":"True if enterprise style, false if sp-style configuration","type":"boolean"},"___node_profiles":{"type":"array","items":{"description":"List of node profiles to be used by the fabric.","additionalProperties":false,"title":"Node profile","type":"object","properties":{"___node_profile_name":{"type":"string"},"___serial_nums":{"description":"Optional list of serial numbers of fabric devices that we want to associate with this node profile.","type":"array","items":{"type":"string"}}},"required":["node_profile_name"]}},"___fabric_fq_name":{"type":"array","items":{"type":"string"}},"___device_count":{"description":"Total number of devices in the fabric that needs to be zero-touch provisioned","title":"Number of fabric devices","type":"integer"},"___management_subnets":{"type":"array","items":{"description":"List of the management network subnets for the fabric","additionalProperties":false,"type":"object","properties":{"___gateway":{"format":"ipv4","type":"string"},"___cidr":{"pattern":"^([0-9]{1,3}\\.){3}[0-9]{1,3}(\/([0-9]|[1-2][0-9]|3[0-2]))?$","type":"string"}},"required":["cidr","gateway"]}},"___loopback_subnets":{"type":"array","items":{"pattern":"^([0-9]{1,3}\\.){3}[0-9]{1,3}(\/([0-9]|[1-2][0-9]|3[0-2]))?$","description":"List of the subnet prefixes that fabric device loopback ips can be allocated.","type":"string"}},"___interface_filters":{"type":"array","items":{"default":{},"examples":[{"op":"regex","expr":"^ge-"},{"op":"regex","expr":"^xe"}],"description":"filter object having op and expr fields","maxProperties":2,"additionalProperties":false,"title":"filter object","type":"object","properties":{"___expr":{"type":"string"},"___op":{"enum":["regex"]}}}},"___os_version":{"type":"string"},"___fabric_cluster_id":{"type":"integer"},"___fabric_asn_pool":{"type":"array","items":{"description":"List of the ASN pools that could be used to configure the eBGP peers for the IP fabric","title":"eBGP ASN Pool for fabric underlay network","type":"object","properties":{"___asn_max":{"type":"integer"},"___asn_min":{"type":"integer"}},"required":["asn_min","asn_max"]}},"___fabric_display_name":{"type":"string"},"___fabric_subnets":{"type":"array","items":{"pattern":"^([0-9]{1,3}\\.){3}[0-9]{1,3}(\/([0-9]|[1-2][0-9]|3[0-2]))?$","description":"List of the subnet prefixes that could be carved out for the p2p networks between fabric devices.","type":"string"}},"___device_to_ztp":{"title":"List of device serial numbers for the devices to be ZTPed","type":"array","items":{"type":"object","properties":{"___hostname":{"pattern":"^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\\-]*[a-zA-Z0-9])\\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9\\-]*[A-Za-z0-9])$","title":"Device hostname can be optionally specified.","type":"string"},"___supplemental_day_0_cfg":{"title":"Name of the supplemental day-0 config that can be optionally specified for this device","type":"string"},"___serial_number":{"title":"Device serial number","type":"string"}},"required":["serial_number","hostname"]}}},"required":["fabric_fq_name","management_subnets","loopback_subnets","fabric_subnets","fabric_asn_pool","device_auth","node_profiles"]},"output_schema":{"$schema":"http:\/\/json-schema.org\/draft-06\/schema#","title":"Generic Job Output","type":"object","properties":{"___status":{"description":"Result status of the job","type":"string","enum":["Success","Failure","Timeout"]},"___results":{"description":"JSON object holding the job specific output details","type":"object"},"___message":{"description":"Should capture a summarized error message in case of Failures.","type":"string"}},"required":["status"]}}