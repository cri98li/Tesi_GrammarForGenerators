{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","description":"Microsoft Sql Resource Types","id":"https:\/\/schema.management.azure.com\/schemas\/2018-06-01-preview\/Microsoft.Sql.json#","title":"Microsoft.Sql","resourceDefinitions":{"servers_vulnerabilityAssessments":{"description":"Microsoft.Sql\/servers\/vulnerabilityAssessments","type":"object","properties":{"___name":{"type":"string"},"___type":{"type":"string","enum":["Microsoft.Sql\/servers\/vulnerabilityAssessments"]},"___properties":{"oneOf":[{"$eref":{"description":"Properties of a server Vulnerability Assessment.","type":"object","properties":{"___storageContainerSasKey":{"description":"A shared access signature (SAS Key) that has write access to the blob container specified in 'storageContainerPath' parameter. If 'storageAccountAccessKey' isn't specified, StorageContainerSasKey is required.","type":"string"},"___recurringScans":{"oneOf":[{"$ref":"#\/definitions\/VulnerabilityAssessmentRecurringScansProperties"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The recurring scans settings"},"___storageContainerPath":{"description":"A blob storage container path to hold the scan results (e.g. https:\/\/myStorage.blob.core.windows.net\/VaScans\/).","type":"string"},"___storageAccountAccessKey":{"description":"Specifies the identifier key of the storage account for vulnerability assessment scan results. If 'StorageContainerSasKey' isn't specified, storageAccountAccessKey is required.","type":"string"}}}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Resource properties."},"___apiVersion":{"type":"string","enum":["2018-06-01-preview"]}},"required":["name","type","apiVersion","properties"]},"servers_databases_securityAlertPolicies":{"description":"Microsoft.Sql\/servers\/databases\/securityAlertPolicies","type":"object","properties":{"___name":{"type":"string"},"___type":{"type":"string","enum":["Microsoft.Sql\/servers\/databases\/securityAlertPolicies"]},"___properties":{"oneOf":[{"$eref":{"description":"Properties of a security alert policy.","type":"object","properties":{"___state":{"oneOf":[{"type":"string","enum":["New","Enabled","Disabled"]},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Specifies the state of the policy, whether it is enabled or disabled or a policy has not been applied yet on the specific database."},"___disabledAlerts":{"oneOf":[{"type":"array","items":{"type":"string"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Specifies an array of alerts that are disabled. Allowed values are: Sql_Injection, Sql_Injection_Vulnerability, Access_Anomaly, Data_Exfiltration, Unsafe_Action"},"___emailAccountAdmins":{"oneOf":[{"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Specifies that the alert is sent to the account administrators."},"___emailAddresses":{"oneOf":[{"type":"array","items":{"type":"string"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Specifies an array of e-mail addresses to which the alert is sent."},"___retentionDays":{"oneOf":[{"type":"integer"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Specifies the number of days to keep in the Threat Detection audit logs."},"___storageAccountAccessKey":{"description":"Specifies the identifier key of the Threat Detection audit storage account.","type":"string"},"___storageEndpoint":{"description":"Specifies the blob storage endpoint (e.g. https:\/\/MyAccount.blob.core.windows.net). This blob storage will hold all Threat Detection audit logs.","type":"string"}},"required":["state"]}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Resource properties."},"___apiVersion":{"type":"string","enum":["2018-06-01-preview"]}},"required":["name","type","apiVersion","properties"]},"managedInstances_vulnerabilityAssessments":{"description":"Microsoft.Sql\/managedInstances\/vulnerabilityAssessments","type":"object","properties":{"___name":{"type":"string"},"___type":{"type":"string","enum":["Microsoft.Sql\/managedInstances\/vulnerabilityAssessments"]},"___properties":{"oneOf":[{"$eref":{"description":"Properties of a managed instance vulnerability assessment.","type":"object","properties":{"___storageContainerSasKey":{"description":"A shared access signature (SAS Key) that has write access to the blob container specified in 'storageContainerPath' parameter. If 'storageAccountAccessKey' isn't specified, StorageContainerSasKey is required.","type":"string"},"___recurringScans":{"oneOf":[{"$ref":"#\/definitions\/VulnerabilityAssessmentRecurringScansProperties"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The recurring scans settings"},"___storageContainerPath":{"description":"A blob storage container path to hold the scan results (e.g. https:\/\/myStorage.blob.core.windows.net\/VaScans\/).","type":"string"},"___storageAccountAccessKey":{"description":"Specifies the identifier key of the storage account for vulnerability assessment scan results. If 'StorageContainerSasKey' isn't specified, storageAccountAccessKey is required.","type":"string"}}}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Resource properties."},"___apiVersion":{"type":"string","enum":["2018-06-01-preview"]}},"required":["name","type","apiVersion","properties"]}},"definitions":{"_88ManagedInstanceVulnerabilityAssessmentProperties":{"description":"Properties of a managed instance vulnerability assessment.","type":"object","properties":{"___storageContainerSasKey":{"description":"A shared access signature (SAS Key) that has write access to the blob container specified in 'storageContainerPath' parameter. If 'storageAccountAccessKey' isn't specified, StorageContainerSasKey is required.","type":"string"},"___recurringScans":{"oneOf":[{"$eref":{"description":"Properties of a Vulnerability Assessment recurring scans.","type":"object","properties":{"___isEnabled":{"oneOf":[{"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Recurring scans state."},"___emailSubscriptionAdmins":{"oneOf":[{"default":true,"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Specifies that the schedule scan notification will be is sent to the subscription administrators."},"___emails":{"oneOf":[{"type":"array","items":{"type":"string"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Specifies an array of e-mail addresses to which the scan notification is sent."}}}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The recurring scans settings"},"___storageContainerPath":{"description":"A blob storage container path to hold the scan results (e.g. https:\/\/myStorage.blob.core.windows.net\/VaScans\/).","type":"string"},"___storageAccountAccessKey":{"description":"Specifies the identifier key of the storage account for vulnerability assessment scan results. If 'StorageContainerSasKey' isn't specified, storageAccountAccessKey is required.","type":"string"}}},"_88ServerVulnerabilityAssessmentProperties":{"description":"Properties of a server Vulnerability Assessment.","type":"object","properties":{"___storageContainerSasKey":{"description":"A shared access signature (SAS Key) that has write access to the blob container specified in 'storageContainerPath' parameter. If 'storageAccountAccessKey' isn't specified, StorageContainerSasKey is required.","type":"string"},"___recurringScans":{"oneOf":[{"$eref":{"description":"Properties of a Vulnerability Assessment recurring scans.","type":"object","properties":{"___isEnabled":{"oneOf":[{"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Recurring scans state."},"___emailSubscriptionAdmins":{"oneOf":[{"default":true,"type":"boolean"},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Specifies that the schedule scan notification will be is sent to the subscription administrators."},"___emails":{"oneOf":[{"type":"array","items":{"type":"string"}},{"$ref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Specifies an array of e-mail addresses to which the scan notification is sent."}}}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"The recurring scans settings"},"___storageContainerPath":{"description":"A blob storage container path to hold the scan results (e.g. https:\/\/myStorage.blob.core.windows.net\/VaScans\/).","type":"string"},"___storageAccountAccessKey":{"description":"Specifies the identifier key of the storage account for vulnerability assessment scan results. If 'StorageContainerSasKey' isn't specified, storageAccountAccessKey is required.","type":"string"}}},"_88VulnerabilityAssessmentRecurringScansProperties":{"description":"Properties of a Vulnerability Assessment recurring scans.","type":"object","properties":{"___isEnabled":{"oneOf":[{"type":"boolean"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Recurring scans state."},"___emailSubscriptionAdmins":{"oneOf":[{"default":true,"type":"boolean"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Specifies that the schedule scan notification will be is sent to the subscription administrators."},"___emails":{"oneOf":[{"type":"array","items":{"type":"string"}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Specifies an array of e-mail addresses to which the scan notification is sent."}}},"_88SecurityAlertPolicyProperties":{"description":"Properties of a security alert policy.","type":"object","properties":{"___state":{"oneOf":[{"type":"string","enum":["New","Enabled","Disabled"]},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Specifies the state of the policy, whether it is enabled or disabled or a policy has not been applied yet on the specific database."},"___disabledAlerts":{"oneOf":[{"type":"array","items":{"type":"string"}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Specifies an array of alerts that are disabled. Allowed values are: Sql_Injection, Sql_Injection_Vulnerability, Access_Anomaly, Data_Exfiltration, Unsafe_Action"},"___emailAccountAdmins":{"oneOf":[{"type":"boolean"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Specifies that the alert is sent to the account administrators."},"___emailAddresses":{"oneOf":[{"type":"array","items":{"type":"string"}},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Specifies an array of e-mail addresses to which the alert is sent."},"___retentionDays":{"oneOf":[{"type":"integer"},{"$fref":"https:\/\/schema.management.azure.com\/schemas\/2015-01-01\/deploymentTemplate.json#\/definitions\/expression"}],"description":"Specifies the number of days to keep in the Threat Detection audit logs."},"___storageAccountAccessKey":{"description":"Specifies the identifier key of the Threat Detection audit storage account.","type":"string"},"___storageEndpoint":{"description":"Specifies the blob storage endpoint (e.g. https:\/\/MyAccount.blob.core.windows.net). This blob storage will hold all Threat Detection audit logs.","type":"string"}},"required":["state"]}}}