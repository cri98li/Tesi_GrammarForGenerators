{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","additionalProperties":false,"type":"object","definitions":{"_88access_limited":{"additionalProperties":false,"type":"object","properties":{"___organisations":{"$eref":{"uniqueItems":true,"type":"array","items":{"$ref":"#\/definitions\/guid"}},"description":"A list of organisation content ids permitted access to this item"},"___auth_bypass_ids":{"$eref":{"uniqueItems":true,"type":"array","items":{"$ref":"#\/definitions\/guid"}},"description":"Deprecated: auth_bypass_ids should be sent as a separate field"},"___users":{"type":"array","items":{"type":"string"}}}},"_88individual_step":{"additionalProperties":false,"type":"object","properties":{"___title":{"type":"string"},"___contents":{"type":"array","items":{"oneOf":[{"$eref":{"additionalProperties":false,"type":"object","properties":{"___text":{"type":"string"},"___type":{"type":"string"}},"required":["type","text"]}},{"$eref":{"additionalProperties":false,"type":"object","properties":{"___type":{"type":"string"},"___style":{"type":"string","enum":["choice","required","optional"]},"___contents":{"type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___text":{"type":"string"},"___href":{"format":"uri","type":"string"},"___context":{"type":"string"}},"required":["text"]}}},"required":["type","contents"]}}]}},"___logic":{"type":"string","enum":["and","or"]}},"required":["title","contents"]},"_88locale":{"type":"string","enum":["ar","az","be","bg","bn","cs","cy","da","de","dr","el","en","es","es-419","et","fa","fi","fr","gd","he","hi","hr","hu","hy","id","is","it","ja","ka","kk","ko","lt","lv","ms","mt","nl","no","pl","ps","pt","ro","ru","si","sk","sl","so","sq","sr","sv","sw","ta","th","tk","tr","uk","ur","uz","vi","zh","zh-hk","zh-tw"]},"_88guid_list":{"uniqueItems":true,"type":"array","items":{"$eref":{"pattern":"^[a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[89ab][a-f0-9]{3}-[a-f0-9]{12}$","type":"string"}}},"_88description_optional":{"anyOf":[{"$eref":{"type":"string"}},{"type":"null"}]},"_88rendering_app":{"description":"The application that renders this item.","type":"string","enum":["calculators","calendars","collections","content-store","email-alert-frontend","email-campaign-frontend","feedback","finder-frontend","frontend","government-frontend","info-frontend","licencefinder","manuals-frontend","performanceplatform-big-screen-view","rummager","search-api","service-manual-frontend","smartanswers","spotlight","static","tariff","whitehall-admin","whitehall-frontend"]},"_88step_item_list":{"additionalProperties":false,"type":"object","properties":{"___type":{"type":"string"},"___style":{"type":"string","enum":["choice","required","optional"]},"___contents":{"type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___text":{"type":"string"},"___href":{"format":"uri","type":"string"},"___context":{"type":"string"}},"required":["text"]}}},"required":["type","contents"]},"_88title":{"type":"string"},"_88first_published_at":{"format":"date-time","description":"The date the content was first published.  Automatically determined by the publishing-api, unless overridden by the publishing application.","type":"string"},"_88multiple_content_types":{"type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___content_type":{"type":"string"},"___content":{"type":"string"}},"required":["content_type","content"]}},"_88guid":{"pattern":"^[a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[89ab][a-f0-9]{3}-[a-f0-9]{12}$","type":"string"},"_88analytics_identifier":{"description":"A short identifier we send to Google Analytics for multi-valued fields. This means we avoid the truncated values we would get if we sent the path or slug of eg organisations.","anyOf":[{"type":"string"},{"type":"null"}]},"_88absolute_path":{"pattern":"^\/(([a-zA-Z0-9._~!$&'()*+,;=:@-]|%[0-9a-fA-F]{2})+(\/([a-zA-Z0-9._~!$&'()*+,;=:@-]|%[0-9a-fA-F]{2})*)*)?$","description":"A path only. Query string and\/or fragment are not allowed.","type":"string"},"_88update_type":{"enum":["major","minor","republish"]},"_88body_html_and_govspeak":{"description":"The main content provided as HTML with the govspeak markdown it's rendered from","anyOf":[{"$eref":{"type":"array","items":{"additionalProperties":false,"type":"object","properties":{"___content_type":{"type":"string"},"___content":{"type":"string"}},"required":["content_type","content"]}}}]},"_88step_by_step_nav":{"additionalProperties":false,"type":"object","properties":{"___introduction":{"$eref":{"description":"The main content provided as HTML with the govspeak markdown it's rendered from","anyOf":[{"$ref":"#\/definitions\/multiple_content_types"}]}},"___title":{"type":"string"},"___steps":{"type":"array","items":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___title":{"type":"string"},"___contents":{"type":"array","items":{"oneOf":[{"$ref":"#\/definitions\/step_item_paragraph"},{"$ref":"#\/definitions\/step_item_list"}]}},"___logic":{"type":"string","enum":["and","or"]}},"required":["title","contents"]}}}},"required":["title","introduction","steps"]},"_88public_updated_at":{"format":"date-time","description":"When the content was last significantly changed (a major update). Shown to users.  Automatically determined by the publishing-api, unless overridden by the publishing application.","type":"string"},"_88description":{"type":"string"},"_88routes":{"minItems":1,"type":"array","items":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___type":{"enum":["prefix","exact"]},"___path":{"type":"string"}},"required":["path","type"]}}},"_88details":{"additionalProperties":false,"type":"object","properties":{"___step_by_step_nav":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___introduction":{"$ref":"#\/definitions\/body_html_and_govspeak"},"___title":{"type":"string"},"___steps":{"type":"array","items":{"$ref":"#\/definitions\/individual_step"}}},"required":["title","introduction","steps"]}}},"required":["step_by_step_nav"]},"_88step_item_paragraph":{"additionalProperties":false,"type":"object","properties":{"___text":{"type":"string"},"___type":{"type":"string"}},"required":["type","text"]},"_88route":{"additionalProperties":false,"type":"object","properties":{"___type":{"enum":["prefix","exact"]},"___path":{"type":"string"}},"required":["path","type"]},"_88publishing_app_name":{"description":"The application that published this item.","type":"string","enum":["calculators","calendars","collections-publisher","contacts","content-publisher","content-tagger","email-alert-frontend","external-link-tracker","feedback","frontend","hmrc-manuals-api","info-frontend","licencefinder","local-links-manager","manuals-frontend","manuals-publisher","maslow","performanceplatform-big-screen-view","publisher","rummager","search-admin","search-api","service-manual-publisher","share-sale-publisher","short-url-manager","smartanswers","special-route-publisher","specialist-publisher","static","tariff","travel-advice-publisher","whitehall"]}},"properties":{"___document_type":{"type":"string","enum":["step_by_step_nav"]},"___previous_version":{"type":"string"},"___locale":{"$eref":{"type":"string","enum":["ar","az","be","bg","bn","cs","cy","da","de","dr","el","en","es","es-419","et","fa","fi","fr","gd","he","hi","hr","hu","hy","id","is","it","ja","ka","kk","ko","lt","lv","ms","mt","nl","no","pl","ps","pt","ro","ru","si","sk","sl","so","sq","sr","sv","sw","ta","th","tk","tr","uk","ur","uz","vi","zh","zh-hk","zh-tw"]}},"___links":{"additionalProperties":false,"type":"object","properties":{"___pages_part_of_step_nav":{"$eref":{"uniqueItems":true,"type":"array","items":{"$ref":"#\/definitions\/guid"}},"description":"A list of content that should be navigable via this step by step journey"},"___pages_related_to_step_nav":{"$eref":{"uniqueItems":true,"type":"array","items":{"$ref":"#\/definitions\/guid"}},"description":"A list of content that is related to this step by step navigation journey"},"___pages_secondary_to_step_nav":{"$eref":{"uniqueItems":true,"type":"array","items":{"$ref":"#\/definitions\/guid"}},"description":"A list of content items that may be a part of but not essential to completing this step by step navigation journey."},"___policy_areas":{"$eref":{"uniqueItems":true,"type":"array","items":{"$ref":"#\/definitions\/guid"}},"description":"A largely deprecated tag currently only used to power email alerts."}}},"___publishing_app":{"$eref":{"description":"The application that published this item.","type":"string","enum":["calculators","calendars","collections-publisher","contacts","content-publisher","content-tagger","email-alert-frontend","external-link-tracker","feedback","frontend","hmrc-manuals-api","info-frontend","licencefinder","local-links-manager","manuals-frontend","manuals-publisher","maslow","performanceplatform-big-screen-view","publisher","rummager","search-admin","search-api","service-manual-publisher","share-sale-publisher","short-url-manager","smartanswers","special-route-publisher","specialist-publisher","static","tariff","travel-advice-publisher","whitehall"]}},"___first_published_at":{"$eref":{"format":"date-time","description":"The date the content was first published.  Automatically determined by the publishing-api, unless overridden by the publishing application.","type":"string"}},"___public_updated_at":{"$eref":{"format":"date-time","description":"When the content was last significantly changed (a major update). Shown to users.  Automatically determined by the publishing-api, unless overridden by the publishing application.","type":"string"}},"___routes":{"$eref":{"minItems":1,"type":"array","items":{"$ref":"#\/definitions\/route"}}},"___title":{"$eref":{"type":"string"}},"___phase":{"description":"The service design phase of this content item - https:\/\/www.gov.uk\/service-manual\/phases","type":"string","enum":["alpha","beta","live"]},"___need_ids":{"type":"array","items":{"type":"string"}},"___details":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___step_by_step_nav":{"$ref":"#\/definitions\/step_by_step_nav"}},"required":["step_by_step_nav"]}},"___last_edited_at":{"format":"date-time","description":"Last time when the content received a major or minor update.","type":"string"},"___rendering_app":{"$eref":{"description":"The application that renders this item.","type":"string","enum":["calculators","calendars","collections","content-store","email-alert-frontend","email-campaign-frontend","feedback","finder-frontend","frontend","government-frontend","info-frontend","licencefinder","manuals-frontend","performanceplatform-big-screen-view","rummager","search-api","service-manual-frontend","smartanswers","spotlight","static","tariff","whitehall-admin","whitehall-frontend"]}},"___base_path":{"$eref":{"pattern":"^\/(([a-zA-Z0-9._~!$&'()*+,;=:@-]|%[0-9a-fA-F]{2})+(\/([a-zA-Z0-9._~!$&'()*+,;=:@-]|%[0-9a-fA-F]{2})*)*)?$","description":"A path only. Query string and\/or fragment are not allowed.","type":"string"}},"___schema_name":{"type":"string","enum":["step_by_step_nav"]},"___description":{"$eref":{"anyOf":[{"$ref":"#\/definitions\/description"},{"type":"null"}]}},"___auth_bypass_ids":{"$eref":{"uniqueItems":true,"type":"array","items":{"$ref":"#\/definitions\/guid"}},"description":"A list of ids that will allow access to this item for non-authenticated users"},"___redirects":{"additionalItems":false,"type":"array","items":{}},"___analytics_identifier":{"$eref":{"description":"A short identifier we send to Google Analytics for multi-valued fields. This means we avoid the truncated values we would get if we sent the path or slug of eg organisations.","anyOf":[{"type":"string"},{"type":"null"}]}},"___access_limited":{"$eref":{"additionalProperties":false,"type":"object","properties":{"___organisations":{"description":"A list of organisation content ids permitted access to this item","$ref":"#\/definitions\/guid_list"},"___auth_bypass_ids":{"description":"Deprecated: auth_bypass_ids should be sent as a separate field","$ref":"#\/definitions\/guid_list"},"___users":{"type":"array","items":{"type":"string"}}}}},"___update_type":{"$eref":{"enum":["major","minor","republish"]}},"___change_note":{"type":["null","string"]},"___bulk_publishing":{"type":"boolean"}},"required":["base_path","details","document_type","publishing_app","rendering_app","routes","schema_name","title"]}