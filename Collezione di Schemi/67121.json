{"$schema":"http:\/\/json-schema.org\/schema#","id":"http:\/\/comrade.forma-pro.com\/schemas\/JobTemplate.json","type":"object","properties":{"___resultPayload":{"type":["null","string","number","object","array"]},"___subJobPolicy":{"$eref":{"$schema":"http:\/\/json-schema.org\/schema#","id":"http:\/\/comrade.forma-pro.com\/schemas\/policy\/SubJobPolicy.json","type":"object","properties":{"___parentId":{"$ref":"..\/uuid4.json"},"___schema":{"type":"string","enum":["http:\/\/comrade.forma-pro.com\/schemas\/policy\/SubJobPolicy.json"]}},"required":["parentId"]}},"___createdAt":{"$eref":{"$schema":"http:\/\/json-schema.org\/schema#","id":"http:\/\/comrade.forma-pro.com\/schemas\/date.json","type":"object","properties":{"___iso":{"type":"string"},"___unix":{"$ref":"timestamp.json"}},"required":[]}},"___exclusivePolicy":{"$eref":{"$schema":"http:\/\/json-schema.org\/schema#","id":"http:\/\/comrade.forma-pro.com\/schemas\/policy\/ExclusivePolicy.json","type":"object","properties":{"___onDuplicateRun":{"type":"string","enum":["mark_job_as_canceled","mark_job_as_failed"]}},"required":["onDuplicateRun"]}},"___name":{"type":"string"},"___runDependentJobPolicies":{"type":"array","items":{"$eref":{"$schema":"http:\/\/json-schema.org\/schema#","id":"http:\/\/comrade.forma-pro.com\/schemas\/policy\/RunDependentJobPolicy.json","type":"object","properties":{"___schema":{"type":"string","enum":["http:\/\/comrade.forma-pro.com\/schemas\/policy\/RunDependentJobPolicy.json"]},"___templateId":{"$ref":"..\/uuid4.json"},"___runAlways":{"type":"boolean"},"___runOnStatus":{"type":"array","items":{"$ref":"..\/JobStatus.json"}}},"required":["templateId"]}}},"___updatedAt":{"$eref":{"$schema":"http:\/\/json-schema.org\/schema#","id":"http:\/\/comrade.forma-pro.com\/schemas\/date.json","type":"object","properties":{"___iso":{"type":"string"},"___unix":{"$ref":"timestamp.json"}},"required":[]}},"___retryFailedPolicy":{"$eref":{"$schema":"http:\/\/json-schema.org\/schema#","id":"http:\/\/comrade.forma-pro.com\/schemas\/policy\/RetryFailedPolicy.json","type":"object","properties":{"___retryLimit":{"type":"integer","minimum":"1"}},"required":["retryLimit"]}},"___gracePeriodPolicy":{"$eref":{"$schema":"http:\/\/json-schema.org\/schema#","id":"http:\/\/comrade.forma-pro.com\/schemas\/policy\/GracePeriodPolicy.json","type":"object","properties":{"___period":{"type":"integer"}},"required":["period"]}},"___templateId":{"$fref":"http:\/\/comrade.forma-pro.com\/schemas\/uuid4.json"},"___runSubJobsPolicy":{"$eref":{"$schema":"http:\/\/json-schema.org\/schema#","id":"http:\/\/comrade.forma-pro.com\/schemas\/policy\/RunSubJobsPolicy.json","type":"object","properties":{"___onFailedSubJob":{"type":"string","enum":["mark_job_as_failed","mark_job_as_completed"]},"___resultPayloadKey":{"type":"string"}},"required":["onFailedSubJob"]}},"___runner":{"oneOf":[{"$eref":{"$schema":"http:\/\/json-schema.org\/schema#","id":"http:\/\/comrade.forma-pro.com\/schemas\/runner\/QueueRunner.json","type":"object","properties":{"___schema":{"type":"string","enum":["http:\/\/comrade.forma-pro.com\/schemas\/runner\/QueueRunner.json"]},"___connectionDsn":{"type":"string"},"___queue":{"type":"string"}},"required":["queue","schema"]}},{"$eref":{"$schema":"http:\/\/json-schema.org\/schema#","id":"http:\/\/comrade.forma-pro.com\/schemas\/runner\/HttpRunner.json","type":"object","properties":{"___url":{"$ref":"..\/url.json"},"___schema":{"type":"string","enum":["http:\/\/comrade.forma-pro.com\/schemas\/runner\/HttpRunner.json"]}},"required":["url","schema"]}}]},"___payload":{"type":["null","string","number","object","array"]}},"required":["templateId","name","runner"]}