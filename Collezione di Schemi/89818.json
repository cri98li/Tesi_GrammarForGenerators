{"oneOf":[{"$eref":{"esriDocumentation":{"examples":[{"code":{"dataSource":{"rightTableKey":"FIPS","leftTableKey":"STATE_FIPS","joinType":"esriLeftOuterJoin","type":"joinTable","leftTableSource":{"type":"mapLayer","mapLayerId":0},"rightTableSource":{"type":"dataLayer","dataSource":{"gdbVersion":"MAP.Version1","type":"table","dataSourceName":"MAP.user1.TaxLots","workspaceId":"MAP"}}}},"title":"Join Table DataSource"}]},"$schema":"http:\/\/json-schema.org\/draft-04\/schema","description":"Join Table data source is the result of a join operation. Nested joins are supported. To use nested joins, set either leftTableSource or rightTableSource to be a joinTable.","additionalProperties":false,"title":"Join Table DataSource","type":"object","properties":{"___leftTableKey":{"description":"Field name from the left table.","type":"string"},"___type":{"description":"String value indicating the type for the dataSource.","type":"string","enum":["joinTable"]},"___joinType":{"description":"The type of join (left outer or left inner).","type":"string","enum":["esriLeftOuterJoin","esriLeftInnerJoin"]},"___rightTableKey":{"description":"Field name from the right table.","type":"string"},"___rightTableSource":{"description":"The right table source.","type":"object","$ref":"source_schema.json"},"___leftTableSource":{"description":"The left source. If the leftTableSource is a table, the resulting joinTable is a table. If the leftTableSource is a layer, the resulting joinTable is a layer.","type":"object","$ref":"source_schema.json"}},"required":["type"]}},{"$eref":{"esriDocumentation":{"examples":[{"code":{"dataSource":{"oidFields":"taxlotid","query":"SELECT * FROM TaxLots","spatialReference":{"wkid":4326},"type":"queryTable","geometryType":"esriGeometryPolygon","workspaceId":"SqlMAP"}},"title":"Query Table dataSource"}]},"$schema":"http:\/\/json-schema.org\/draft-04\/schema","description":"Query table data source is a layer\/table that is defined by a SQL query.","additionalProperties":false,"title":"Query Table DataSource","type":"object","properties":{"___query":{"description":"The SQL query.","type":"string"},"___type":{"description":"String value indicating the type for the dataSource.","type":"string","enum":["queryTable"]},"___geometryType":{"description":"The geometry type. When querying a table that does not have a geometry column, do not include geometryType.","type":"string","enum":["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"]},"___spatialReference":{"description":"The spatial reference of the geometry column. When querying a table that does not have a geometry column, do not include spatialReference.","type":"object","$ref":"spatialReference_schema.json"},"___oidFields":{"description":"Comma separated list of identifier fields. There are only certain field types that can be used as a unique identifier. These field types include integer, string, GUID, and date. If a single integer field is specified, map server uses the values in that field directly to uniquely identify all features and rows returned from a queryTable. However, if a single string field or a group of fields is used as the unique identifier, map server maps those unique values to an integer.","type":"string"},"___workspaceId":{"description":"The unique string value used to identify the datasource's workspace.","type":"string"}},"required":["type"]}},{"$eref":{"esriDocumentation":{"examples":[{"code":{"dataSource":{"type":"raster","dataSourceName":"NewOrleans.tif","workspaceId":"rasterWS"}},"title":"Raster DataSource"}]},"$schema":"http:\/\/json-schema.org\/draft-04\/schema","description":"Raster data source is a file-based raster that resides in a registered raster workspace.","additionalProperties":false,"title":"Raster DataSource","type":"object","properties":{"___type":{"description":"String value indicating the type for the dataSource.","type":"string","enum":["raster"]},"___workspaceId":{"description":"The unique string value used to identify the datasource's workspace.","type":"string"},"___dataSourceName":{"description":"The raster datasource's name.","type":"string"}},"required":["type"]}},{"$eref":{"esriDocumentation":{"examples":[{"code":{"dataSource":{"type":"table","dataSourceName":"ss6.gdb.Lakes","workspaceId":"MyDatabaseWorkspaceIDSSR2"}},"title":"Table DataSource"}]},"$schema":"http:\/\/json-schema.org\/draft-04\/schema","description":"Table data source is a table, feature class, or raster that resides in a registered workspace (either a folder or geodatabase). In the case of a geodatabase, if versioned, use version to switch to an alternate geodatabase version. If version is empty or missing, the registered geodatabase version will be used.","additionalProperties":false,"title":"Table DataSource","type":"object","properties":{"___gdbVersion":{"description":"If applicable, the value indicating the version of the geodatabase.","type":"string"},"___type":{"description":"String value indicating the type for the dataSource. The value for a Table DataSource is `table`.","type":"string","enum":["table"]},"___workspaceId":{"description":"The unique string value used to identify the datasource's workspace.","type":"string"},"___dataSourceName":{"description":"The fully-qualified string value used to specify where the dataSource is derived.","type":"string"}},"required":["type"]}}],"$schema":"http:\/\/json-schema.org\/draft-04\/schema","description":"This object applies if the [layerDefinition](layerDefinition.md) source is set to `DynamicDataLayer`.","title":"dataSource","type":"object"}