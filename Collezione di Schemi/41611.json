{"invocation-schema":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","title":"Invocation manifest for BIDS fMRIPrep: A Robust Preprocessing Pipeline for fMRI Data","type":"object","properties":{"___config":{"type":"object","properties":{"___verbose":{"type":"string","enum":["","v","vv","vvv"]},"___gear-run-bids-validation":{"default":true,"type":"boolean"},"___dvars-spike-threshold":{"type":"number"},"___return-all-components":{"type":"boolean"},"___gear-FREESURFER_LICENSE":{"type":"string"},"___resource-monitor":{"type":"boolean"},"___force-syn":{"type":"boolean"},"___skip-bids-validation":{"type":"boolean"},"___fmap-bspline":{"type":"boolean"},"___gear-dry-run":{"default":false,"type":"boolean"},"___anat-only":{"type":"boolean"},"___skull-strip-template":{"type":"string","enum":["","OASIS30ANTs","NKI"]},"___aroma-melodic-dimensionality":{"type":"integer"},"___task-id":{"type":"string"},"___gear-intermediate-folders":{"default":"","type":"string"},"___longitudinal":{"type":"boolean"},"___error-on-aroma-warnings":{"type":"boolean"},"___fd-spike-threshold":{"type":"number"},"___gear-intermediate-files":{"default":"","type":"string"},"___bold2t1w-dof":{"type":"string","enum":["","6","9","12"]},"___fmap-no-demean":{"type":"boolean"},"___run-uuid":{"type":"string"},"___t2s-coreg":{"type":"boolean"},"___fs-no-reconall":{"type":"boolean"},"___mem_mb":{"type":"number"},"___gear-abort-on-bids-error":{"default":false,"type":"boolean"},"___echo-idx":{"type":"string"},"___cifti-output":{"type":"boolean"},"___gear-save-intermediate-output":{"default":false,"type":"boolean"},"___stop-on-first-crash":{"type":"boolean"},"___gear-log-level":{"default":"INFO","type":"string","enum":["ERROR","WARNING","INFO","DEBUG"]},"___no-submm-recon":{"type":"boolean"},"___output-spaces":{"type":"string","enum":["","MNI152Lin","MNI152NLin2009cAsym","MNI152NLin6Asym","MNI152NLin6Sym","MNIInfant","MNIPediatricAsym","NKI","OASIS30ANTs","PNC","fsLR","fsaverage"]},"___ignore":{"type":"string"},"___use-aroma":{"default":false,"type":"boolean"},"___gear-keep-output":{"default":false,"type":"boolean"},"___force-no-bbr":{"type":"boolean"},"___notrack":{"type":"boolean"},"___dummy-scans":{"type":"integer"},"___boilerplate":{"type":"boolean"},"___medial-surface-nan":{"type":"boolean"},"___use-syn-sdc":{"type":"boolean"},"___write-graph":{"type":"boolean"},"___reports-only":{"type":"boolean"},"___skull-strip-fixed-seed":{"type":"boolean"},"___force-bbr":{"type":"boolean"},"___nthreads":{"type":"integer"},"___omp-nthreads":{"type":"integer"}},"required":["use-aroma","gear-abort-on-bids-error","gear-log-level","gear-run-bids-validation","gear-save-intermediate-output","gear-intermediate-files","gear-intermediate-folders","gear-dry-run","gear-keep-output"]},"___inputs":{"type":"object","properties":{"___key":{"type":"object"},"___freesurfer_license":{"type":"object","properties":{}}},"required":["key"]}},"required":["config","inputs"]},"exchange":{"rootfs-hash":"sha384:ede4f758fb607bdc2b336ec01325414d887da043a5a50e65c658fdd1a8f1f9e37c50a0aca209275874222d939392bdfc","git-commit":"d91ea351f79aab77bce62721ab8b6e414ffa4216","rootfs-url":"https:\/\/storage.googleapis.com\/flywheel-exchange\/flywheel-bids-fmriprep-sha384-ede4f758fb607bdc2b336ec01325414d887da043a5a50e65c658fdd1a8f1f9e37c50a0aca209275874222d939392bdfc.tgz"},"gear":{"author":"Poldrack lab, Stanford University","inputs":{"freesurfer_license":{"description":"FreeSurfer license file, provided during registration with FreeSurfer. This file will by copied to the $FSHOME directory and used during execution of the Gear.","optional":true,"base":"file"},"key":{"read-only":true,"base":"api-key"}},"custom":{"license":{"non-commercial-use-only":true,"main":{"name":"BSD-3-Clause","url":"https:\/\/github.com\/poldracklab\/fmriprep\/blob\/master\/LICENSE"},"dependencies":[{"name":"Other","url":"https:\/\/fmriprep.readthedocs.io\/en\/stable\/citing.html"},{"name":"Other","url":"https:\/\/fsl.fmrib.ox.ac.uk\/fsl\/fslwiki\/Licence"},{"name":"Other","url":"https:\/\/github.com\/ANTsX\/ANTs\/blob\/v2.2.0\/COPYING.txt"},{"name":"Other","url":"https:\/\/afni.nimh.nih.gov\/pub\/dist\/doc\/program_help\/README.copyright.html"},{"name":"Other","url":"https:\/\/github.com\/freesurfer\/freesurfer\/blob\/dev\/LICENSE.txt"}]},"gear-builder":{"image":"flywheel\/bids-fmriprep:1.0.3_1.5.2","category":"analysis"},"flywheel":{"suite":"BIDS Apps"},"docker-image":"flywheel\/bids-fmriprep:1.0.3_1.5.2"},"description":"fMRIPrep (1.5.2 December 2, 2019) is a functional magnetic resonance imaging (fMRI) data preprocessing pipeline that is designed to provide an easily accessible, state-of-the-art interface that is robust to variations in scan acquisition protocols and that requires minimal user input, while providing easily interpretable and comprehensive error and output reporting. It performs basic processing steps (coregistration, normalization, unwarping, noise component extraction, segmentation, skullstripping etc.) providing outputs that can be easily submitted to a variety of group level analyses, including task-based or resting-state fMRI, graph theory measures, surface or volume-based statistics, etc.","source":"https:\/\/github.com\/flywheel-apps\/bids-fmriprep","label":"BIDS fMRIPrep: A Robust Preprocessing Pipeline for fMRI Data","version":"1.0.3_1.5.2","url":"https:\/\/github.com\/flywheel-apps\/bids-fmriprep\/blob\/master\/README.md","maintainer":"Flywheel <support@flywheel.io>","command":"python run.py","license":"BSD-3-Clause","environment":{"PATH":"\/usr\/local\/miniconda\/bin:\/opt\/ICA-AROMA:\/usr\/lib\/ants:\/usr\/lib\/fsl\/5.0:\/usr\/lib\/afni\/bin:\/opt\/freesurfer\/bin:\/bin:\/opt\/freesurfer\/tktools:\/opt\/freesurfer\/mni\/bin:\/usr\/local\/sbin:\/usr\/local\/bin:\/usr\/sbin:\/usr\/bin:\/sbin:\/bin","PYTHONUNBUFFERED":"1"},"name":"bids-fmriprep","cite":"see https:\/\/fmriprep.readthedocs.io\/en\/stable\/citing.html","config":{"gear-FREESURFER_LICENSE":{"description":"Text from license file generated during FreeSurfer registration. *Entries should be space separated*","optional":true,"type":"string"},"skip-bids-validation":{"description":"assume the input dataset is BIDS compliant and skip the validation","optional":true,"type":"boolean"},"stop-on-first-crash":{"description":"Force stopping on first crash, even if a work directory was specified","optional":true,"type":"boolean"},"skull-strip-fixed-seed":{"description":"do not use a random seed for skull-stripping - will ensure run-to-run replicability when used with \u2013omp-nthreads 1","optional":true,"type":"boolean"},"medial-surface-nan":{"description":"Replace medial wall values with NaNs on functional GIFTI files. Only performed for GIFTI files mapped to a freesurfer subject (fsaverage or fsnative).","optional":true,"type":"boolean"},"use-syn-sdc":{"description":"EXPERIMENTAL: Use fieldmap-free distortion correction","optional":true,"type":"boolean"},"notrack":{"description":"Opt-out of sending tracking information of this run to the FMRIPREP developers. This information helps to improve FMRIPREP and provides an indicator of real world usage crucial for obtaining funding","optional":true,"type":"boolean"},"omp-nthreads":{"description":"maximum number of threads per-process","optional":true,"type":"integer"},"gear-intermediate-files":{"default":"","description":"Space separated list of FILES to retain from the intermediate work directory.","type":"string"},"dvars-spike-threshold":{"description":"Threshold for flagging a frame as an outlier on the basis of standardised DVARS","optional":true,"type":"number"},"no-submm-recon":{"description":"disable sub-millimeter (hires) reconstruction","optional":true,"type":"boolean"},"t2s-coreg":{"description":"If provided with multi-echo BOLD dataset, create T2*-map and perform T2*-driven coregistration. When multi-echo data is provided and this option is not enabled, standard EPI-T1 coregistration is performed using the middle echo.","optional":true,"type":"boolean"},"reports-only":{"description":"","optional":true,"type":"boolean"},"force-bbr":{"description":"Always use boundary-based registration (no goodness-of-fit checks)","optional":true,"type":"boolean"},"skull-strip-template":{"description":"select a template for skull-stripping with antsBrainExtraction (default is OASIS30ANTs)","optional":true,"type":"string","enum":["","OASIS30ANTs","NKI"]},"run-uuid":{"description":"Specify UUID of previous run, to include error logs in report. No effect without \u2013reports-only","optional":true,"type":"string"},"gear-save-intermediate-output":{"default":false,"description":"Gear will save ALL intermediate output into fmriprep_work_*.zip","type":"boolean"},"ignore":{"description":"Ignore selected aspects of the input dataset to disable corresponding parts of the workflow (a space delimited list)  Possible choices: fieldmaps, slicetiming, sbref","optional":true,"type":"string"},"force-no-bbr":{"description":"Do not use boundary-based registration (no goodness-of-fit checks)","optional":true,"type":"boolean"},"gear-intermediate-folders":{"default":"","description":"Space separated list of FOLDERS to retain from the intermediate work directory.","type":"string"},"error-on-aroma-warnings":{"description":"Raise an error if ICA_AROMA does not produce sensible output (e.g., if all the components are classified as signal or noise)","optional":true,"type":"boolean"},"echo-idx":{"description":"select a specific echo to be processed in a multiecho series","optional":true,"type":"string"},"fmap-bspline":{"description":"fit a B-Spline field using least-squares (experimental)","optional":true,"type":"boolean"},"fmap-no-demean":{"description":"do not remove median (within mask) from fieldmap","optional":true,"type":"boolean"},"force-syn":{"description":"EXPERIMENTAL\/TEMPORARY: Use SyN correction in addition to fieldmap correction, if available","optional":true,"type":"boolean"},"output-spaces":{"description":"Standard and non-standard spaces to resample anatomical and functional images to. Standard spaces may be specified by the form <TEMPLATE>[:res-<resolution>][:cohort-<label>][...], where <TEMPLATE> is a keyword (valid keywords: \u201CMNI152Lin\u201D, \u201CMNI152NLin2009cAsym\u201D, \u201CMNI152NLin6Asym\u201D, \u201CMNI152NLin6Sym\u201D, \u201CMNIInfant\u201D, \u201CMNIPediatricAsym\u201D, \u201CNKI\u201D, \u201COASIS30ANTs\u201D, \u201CPNC\u201D, \u201CfsLR\u201D, \u201Cfsaverage\u201D) or path pointing to a user-supplied template, and may be followed by optional, colon-separated parameters. Non-standard spaces (valid keywords: anat, T1w, run, func, sbref, fsnative) imply specific orientations and sampling grids. Important to note, the res-* modifier does not define the resolution used for the spatial normalization. For further details, please check out https:\/\/fmriprep.readthedocs.io\/en\/stable\/spaces.html","optional":true,"type":"string","enum":["","MNI152Lin","MNI152NLin2009cAsym","MNI152NLin6Asym","MNI152NLin6Sym","MNIInfant","MNIPediatricAsym","NKI","OASIS30ANTs","PNC","fsLR","fsaverage"]},"gear-dry-run":{"default":false,"description":"Do everything except actually executing the command line","type":"boolean"},"fs-no-reconall":{"description":"disable FreeSurfer surface preprocessing","optional":true,"type":"boolean"},"verbose":{"description":"increases log verbosity for each occurence, debug level is -vvv","optional":true,"type":"string","enum":["","v","vv","vvv"]},"fd-spike-threshold":{"description":"Threshold for flagging a frame as an outlier on the basis of framewise displacement","optional":true,"type":"number"},"resource-monitor":{"description":"enable Nipype\u2019s resource monitoring to keep track of memory and CPU usage","optional":true,"type":"boolean"},"gear-keep-output":{"default":false,"description":"Don't delete output.  Output is always zipped into a single file for easy download.  Choose this option to prevent output deletion after zipping.","type":"boolean"},"gear-log-level":{"default":"INFO","description":"Gear Log verbosity level (ERROR|WARNING|INFO|DEBUG)","type":"string","enum":["ERROR","WARNING","INFO","DEBUG"]},"aroma-melodic-dimensionality":{"description":"Exact or maximum number of MELODIC components to estimate (positive = exact, negative = maximum","optional":true,"type":"integer"},"cifti-output":{"description":"output BOLD files as CIFTI dtseries","optional":true,"type":"boolean"},"bold2t1w-dof":{"description":"Degrees of freedom when registering BOLD to T1w images. 6 degrees (rotation and translation) are used by default.","optional":true,"type":"string","enum":["","6","9","12"]},"anat-only":{"description":"run anatomical workflows only","optional":true,"type":"boolean"},"use-aroma":{"default":false,"description":"add ICA_AROMA to your preprocessing stream [ default = false ]","type":"boolean"},"gear-abort-on-bids-error":{"default":false,"description":"Gear will not run if there are any BIDS errors detected","type":"boolean"},"boilerplate":{"description":"generate boilerplate only","optional":true,"type":"boolean"},"gear-run-bids-validation":{"default":true,"description":"Gear will run BIDS validation before mriqc.  If validation fails and gear-abort-on-bids-error is true, mriq will NOT be run.","type":"boolean"},"dummy-scans":{"description":"Number of non steady state volumes.","optional":true,"type":"integer"},"nthreads":{"description":"maximum number of threads across all processes","optional":true,"type":"integer"},"return-all-components":{"description":"Include all components estimated in CompCor decomposition in the confounds file instead of only the components sufficient to explain 50 percent of BOLD variance in each CompCor mask","optional":true,"type":"boolean"},"longitudinal":{"description":"treat dataset as longitudinal - may increase runtime","optional":true,"type":"boolean"},"task-id":{"description":"select a specific task to be processed","optional":true,"type":"string"},"mem_mb":{"description":"upper bound memory limit for FMRIPREP processes","optional":true,"type":"number"},"write-graph":{"description":"Write workflow graph","optional":true,"type":"boolean"}}}}