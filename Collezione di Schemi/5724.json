{"allOf":[{"required":["resultPath","aggregation"]},{"oneOf":[{"required":["start","end"]},{"required":["duration"]}]}],"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","additionalProperties":false,"type":"object","properties":{"___aggregation":{"minLength":1,"description":"Valid aggregation function name","title":"Aggregation","type":"string"},"___attributes":{"description":"Device IDs","title":"Attributes","type":"array","items":{"minLength":1,"title":"Device ID","type":"string"}},"___resultPath":{"minLength":1,"description":"JSON path to store the results","title":"Result Path","type":"string"},"___start":{"description":"Milliseconds since the epoch start time","title":"Start Time","type":"number"},"___deviceTags":{"title":"Device Tags","type":"array","items":{"minLength":1,"title":"Device Tag Pair","type":"object","properties":{"___key":{"type":"string"},"___value":{"type":"string"}}}},"___duration":{"description":"Duration of aggregation in milliseconds","title":"Duration","type":"number"},"___deviceIds":{"title":"Device IDs","type":"array","items":{"minLength":1,"title":"Device ID","type":"string"}},"___end":{"description":"Milliseconds since the epoch end time","title":"End Time","type":"number"}}}