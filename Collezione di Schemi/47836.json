{"basePath":"\/explore","paths":{"\/resource":{"get":{"summary":"Resource type list","produces":["application\/json"],"description":"Get the names of the resource types configured in the webservice.\n\n","responses":{"200":{"schema":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","type":"object","properties":{"___resources":{"description":"resource names","type":"array"}}},"headers":{},"examples":{"_8_application\/json":{"_8_resources":["type1","type2"]}},"description":"OK"}},"parameters":[],"tags":["Resources"]}},"\/simulate\/{name}":{"get":{"summary":"Simulation engine versions","produces":["application\/json"],"description":"Get the versions of a simulation engine and their configurations.\n\n","responses":{"200":{"headers":{},"examples":{"_8_application\/json":{"_8_versions":["0.1","latest"],"_8_name":"simulation1"}},"description":"OK"},"400":{"schema":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","type":"object","properties":{"___error":{"description":"error message","type":"string"}}},"headers":{},"examples":{"_8_application\/json":{"_8_error":"simulation name is malformed"}},"description":"Bad Request"},"500":{"schema":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","type":"object","properties":{"___error":{"description":"error message","type":"string"}}},"headers":{},"examples":{"_8_application\/json":{"_8_error":"simulation malconfigured on server"}},"description":"Internal Server Error"},"404":{"schema":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","type":"object","properties":{"___error":{"description":"error message","type":"string"}}},"headers":{},"examples":{"_8_application\/json":{"_8_error":"Simulation 'sim3' not found."}},"description":"Not Found"}},"parameters":[{"in":"path","name":"name","description":"Name of the simulation engine","type":"string","required":true}],"tags":["Simulations"]}},"\/resource\/{name}":{"get":{"summary":"Resource type definition","produces":["application\/json"],"description":"Get the resource type.\n\n","responses":{"200":{"headers":{},"examples":{"_8_application\/json":{"_8_featureTypes":{"_8_Fire":{"_8_u":"bower_components\/csweb\/dist-bower\/images\/marker.png","_8_id":"SimCity#fire","_8_name":"Fire","_8_propertyTypeKeys":"title,notes","_8_style":{"_8_drawingMode":"Point","_8_cornerRadius":50,"_8_iconWidth":30,"_8_iconUri":"data\/images\/fire.png","_8_iconHeight":30,"_8_strokeColor":"#ffffff","_8_fillColor":"#ffffff"}},"_8_FireStation":{"_8_u":"bower_components\/csweb\/dist-bower\/images\/marker.png","_8_id":"SimCity#firestation","_8_name":"FireStation","_8_propertyTypeKeys":"title,notes","_8_style":{"_8_drawingMode":"Point","_8_cornerRadius":50,"_8_iconWidth":30,"_8_iconUri":"images\/brandweerposten\/Brandweerkazerne.png","_8_iconHeight":30,"_8_strokeColor":"#ffffff","_8_fillColor":"#ffffff"}}},"_8_id":"matsim","_8_isDynamic":false,"_8_propertyTypeData":{},"_8_title":"matsim"}},"description":"OK"},"500":{"schema":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","type":"object","properties":{"___error":{"description":"error message.","type":"string"}}},"headers":{},"examples":{"_8_application\/json":{"_8_error":"Resource type malconfigured on server"}},"description":"Internal Server Error"},"404":{"schema":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","type":"object","properties":{"___error":{"description":"error message.","type":"string"}}},"headers":{},"examples":{"_8_application\/json":{"_8_error":"Resource type 'type1' not found."}},"description":"Not Found"}},"parameters":[{"in":"path","name":"name","description":"Name of the resource type","type":"string","required":true}],"tags":["Resources"]}},"\/simulate\/{name}\/{version}":{"post":{"summary":"Start simulation","produces":["application\/json"],"description":"Start a new simulation using the simulation engine. Parameters required by\nthe simulation engine should be provided in the request.\n\n","responses":{"201":{"headers":{},"examples":{},"description":"Created"},"500":{"schema":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","type":"object","properties":{"___error":{"description":"error message","type":"string"}}},"headers":{},"examples":{"_8_application\/json":{"_8_error":"simulation malconfigured on server"}},"description":"Internal Server Error"},"412":{"schema":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","type":"object","properties":{"___error":{"type":"string"}}},"headers":{},"examples":{"_8_application\/json":{"_8_error":"input is not json or does not validate against the parameters schema."}},"description":"Precondition Failed"},"404":{"schema":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","type":"object","properties":{"___error":{"description":"error message","type":"string"}}},"headers":{},"examples":{"_8_application\/json":{"_8_error":"Version '0.5' of simulation 'sim1' not found."}},"description":"Not Found"},"409":{"schema":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","type":"object","properties":{"___error":{"description":"error message.","type":"string"}}},"headers":{},"examples":{"_8_application\/json":{"_8_error":"simulation name task_12345 already taken"}},"description":"Conflict"}},"parameters":[{"in":"path","name":"name","description":"Name of the simulation engine","type":"string","required":true},{"in":"path","name":"version","description":"Simulation engine version. This may include\nversion references like \"latest\" or \"stable\".\n\n","type":"string","required":true},{"schema":{"type":"object","properties":{"___ensemble":{"type":"string"},"____id":{"type":"string"},"___simulation_specific_parameters":{"type":"string"}},"required":["ensemble","simulation_specific_parameters"]},"in":"body","name":"body"}],"tags":["Simulations"]},"get":{"summary":"Configuration","produces":["application\/json"],"description":"Get the configuration and parameter specifications of a version of a simulation\nengine.\n\n","responses":{"200":{"headers":{},"examples":{"_8_application\/json":{"_8_parameters":[{"default":"type1","name":"model","description":"model instance to run","choices":["type1","type2"],"type":"choice"},{"min_length":3,"name":"name","type":"str","max_length":32},{"min":0,"max":100,"name":"simitems","dtype":"float","type":"number"}],"_8_command":"path\/to\/sim-city-client\/simulation.py","_8_name":"simulation1","_8_version":"0.01"}},"description":"OK"},"500":{"schema":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","type":"object","properties":{"___error":{"description":"error message.","type":"string"}}},"headers":{},"examples":{"_8_application\/json":{"_8_error":"simulation malconfigured on server"}},"description":"Internal Server Error"},"404":{"schema":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","type":"object","properties":{"___error":{"description":"error message.","type":"string"}}},"headers":{},"examples":{"_8_application\/json":{"_8_error":"Version '0.5' of simulation 'sim1' not found."}},"description":"Not Found"}},"parameters":[{"in":"path","name":"name","description":"Name of the simulation engine","type":"string","required":true},{"in":"path","name":"version","description":"Simulation engine version. This may include\nversion references like \"latest\" or \"stable\".\n\n","type":"string","required":true}],"tags":["Simulations"]}},"\/":{"get":{"summary":"API specification","description":"Swagger 2.0 API schema.\n\n","responses":{"200":{"headers":{},"examples":{},"description":"OK"}},"parameters":[],"tags":["API"]}},"\/simulation\/{id}":{"get":{"summary":"Simulation","produces":["application\/json"],"description":"","responses":{"200":{"schema":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","type":"object","properties":{"___uploads":{"description":"uploaded files, filename and URL","type":"object","properties":{"___some_filename":{"description":"URL of file","type":"string"}}},"___ensemble":{"description":"ensemble name","type":"string"},"____attachments":{"description":"files attached to the couchdb document.","type":"object","properties":{"___some_filename":{"type":"object","properties":{"___stub":{"description":"whether the attachment data is contained in the object","type":"boolean"},"___content_type":{"description":"content type of attachment","type":"string"},"___digest":{"description":"digest of the contents","type":"string"},"___revpos":{"description":"document revision that the file was added or updated","type":"number"},"___length":{"description":"length in bytes","type":"number"},"___data":{"description":"actual attachment data","type":"string"}}}}},"___name":{"description":"simulation engine name","type":"string"},"___lock":{"description":"time in seconds that computation on the task started (0 if none, -1 if error)","type":"number"},"___version":{"description":"simulation engine version","type":"string"},"___output":{"description":"output value from the simulation.","type":"object","properties":{}},"___hostname":{"description":"hostname that the simulation was run on","type":"string"},"___done":{"description":"time in seconds that computation on the task finished (0 if none, -1 if error)","type":"number"},"____rev":{"description":"simulation revision in the database","type":"string"},"___command":{"description":"command that will run the simulation","type":"string"},"____id":{"description":"simulation id","type":"string"},"___input":{"description":"input parameters for the simulation.","type":"object","properties":{}}}},"headers":{},"examples":{"_8_application\/json":{"_8_input":{"_8_locations1":{"_8_id":"Netherlands eScience Center","_8_x":"52.356923","_8_y":"4.954268"},"_8_param1":21},"_8_done":1439390617,"_8__attachments":{"_8_file2.json":{"_8_revpos":3,"_8_content_type":"application\/json","_8_stub":true,"_8_digest":"md5-mYQqQM\/2nHpccWNnvwqI8g==","_8_length":515418}},"_8__id":"task_12345","_8_uploads":{"_8_file1.json":"http:\/\/webdav.example.com\/sim1\/file1.json"},"_8_command":"~\/path\/to\/command.py","_8_hostname":"myhost.example.com","_8_version":"0.3","_8__rev":"3-abcdef","_8_error":[],"_8_output":{},"_8_type":"task","_8_execute_properties":{"_8_dirs":{"_8_input":"\/home\/me\/sim1\/input\/task_12345","_8_tmp":"\/scratch\/local\/task_12345","_8_output":"\/home\/me\/sim1\/output\/task_12345"},"_8_input_file":"\/home\/me\/sim1\/input\/task_12345\/input.json"},"_8_scrub_count":0,"_8_ensemble":"myensemble","_8_name":"sim1","_8_lock":1439388534}},"description":"OK"},"404":{"headers":{},"examples":{"_8_application\/json":{"_8_error":"simulation does not exist"}},"description":"Not Found"}},"parameters":[{"in":"path","name":"id","description":"Simulation id","type":"string","required":true}],"tags":["Simulations"]},"delete":{"summary":"Delete simulation","produces":["application\/json"],"description":"","responses":{"200":{"headers":{},"examples":{"_8_application\/json":{"_8_ok":true}},"description":"OK"},"409":{"headers":{},"examples":{"_8_application\/json":{"_8_error":"resource conflict or revision not specified"}},"description":"Conflict"}},"parameters":[{"in":"path","name":"id","description":"Simulation id","type":"string","required":true},{"in":"query","name":"rev","description":"Revision of simulation, as retrieved from a previous get request.","type":"string","required":true}],"tags":["Simulations"]}},"\/view\/simulations\/{name}\/{version}":{"get":{"summary":"Active simulations","description":"Simulations configured for a certain simulation engine. If the ensemble name\nis given, only simulations for that ensemble are shown. Even if the result is\nprovided directly by a CouchDB database, the call to the webservice is needed\nto ensure that the correct database view exists.\n\n","responses":{"200":{"headers":{},"examples":{},"description":"OK"},"302":{"headers":{},"examples":{},"description":"Found"}},"parameters":[{"in":"path","name":"name","description":"simulation engine name","type":"string","required":true},{"in":"path","name":"version","description":"simulation engine version","type":"string","required":true},{"in":"query","name":"ensemble","description":"ensemble name","type":"string","required":false}],"tags":["Monitoring"]}},"\/schema\/{name}":{"get":{"summary":"Resource type definition","produces":["application\/json"],"description":"Get the resource type.\n\n","responses":{"200":{"headers":{},"examples":{},"description":"OK"},"500":{"schema":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","type":"object","properties":{"___error":{"description":"error message.","type":"string"}}},"headers":{},"examples":{"_8_application\/json":{"_8_error":"Resource type malconfigured on server"}},"description":"Internal Server Error"},"404":{"schema":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","type":"object","properties":{"___error":{"description":"error message.","type":"string"}}},"headers":{},"examples":{"_8_application\/json":{"_8_error":"Resource type 'schema1' not found."}},"description":"Not Found"}},"parameters":[{"in":"path","name":"name","description":"Name of the resource type","type":"string","required":true}],"tags":["Schemas"]}},"\/view\/totals":{"get":{"summary":"Overview","produces":["application\/json"],"description":"Total number of jobs and tasks, categorized by status\n\n","responses":{"200":{"schema":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","type":"object","properties":{"___archived_jobs":{"description":"number of jobs that were archived after completing the entire pipeline of pending to finished.","type":"number"},"___pending_jobs":{"description":"number of jobs submitted but not started","type":"number"},"___done":{"description":"number of tasks done processing","type":"number"},"___in_progress":{"description":"number of tasks currently being processed","type":"number"},"___error":{"description":"number of tasks that resulted in error","type":"number"},"___finished_jobs":{"description":"number of jobs that have finished processing. This number may include jobs that have reported finished but failed to be reported as queued.","type":"number"},"___active_jobs":{"description":"number of jobs that have not been archived.","type":"number"},"___running_jobs":{"description":"number of jobs currently being processed. This number may include jobs that were stopped before reporting that they were finished.","type":"number"},"___pending":{"description":"number of tasks to be done","type":"number"}}},"headers":{},"examples":{"_8_application\/json":{"_8_pending_jobs":0,"_8_done":0,"_8_archived_jobs":0,"_8_pending":0,"_8_in_progress":0,"_8_running_jobs":0,"_8_active_jobs":0,"_8_finished_jobs":0,"_8_error":0}},"description":"OK"},"500":{"schema":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","type":"object","properties":{"___error":{"description":"error message","type":"string"}}},"headers":{},"examples":{"_8_application\/json":{"_8_error":"failed to retrieve overview"}},"description":"Internal Server Error"}},"parameters":[],"tags":["Monitoring"]}},"\/schema":{"get":{"summary":"Schema list","produces":["application\/json"],"description":"Get the names of the schemas configured in the webservice.\n\n","responses":{"200":{"schema":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","type":"object","properties":{"___resources":{"description":"schema names","type":"array"}}},"headers":{},"examples":{"_8_application\/json":{"_8_resources":["schema1","schema2"]}},"description":"OK"}},"parameters":[],"tags":["Schemas"]}},"\/job":{"post":{"summary":"Submit job","produces":["application\/json"],"description":"Start a job. Unless host is given, start the job on the default host.\n\n","responses":{"201":{"schema":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","type":"object","properties":{"___batch_id":{"description":"job id according to the queueing system","type":"string"},"___hostname":{"description":"hostname of the queueing system it was submitted to","type":"string"},"____id":{"description":"job id","type":"string"}}},"headers":{},"examples":{"_8_application\/json":{"_8__id":"job_hostname-uuid-seconds","_8_hostname":"example.com","_8_batch_id":"103024"}},"description":"Created"},"502":{"headers":{},"examples":{},"description":"Bad Gateway"},"503":{"headers":{},"examples":{},"description":"Service Unavailable"},"409":{"headers":{},"examples":{},"description":"Conflict"}},"parameters":[{"in":"query","name":"host","description":"Host to start job on; one of the hosts given in \/hosts.","type":"string","required":true}],"tags":["Jobs"]}},"\/simulate":{"get":{"summary":"Simulation engines","produces":["application\/json"],"description":"Get the names of the simulation engines configured in the webservice.\n\n","responses":{"200":{"headers":{},"examples":{},"description":"OK"},"500":{"schema":{"$schema":"http:\/\/json-schema.org\/draft-04\/schema#","type":"object","properties":{"___error":{"description":"error message","type":"string"}}},"headers":{},"examples":{"_8_application\/json":{"_8_error":"simulation malconfigured on server"}},"description":"Internal Server Error"}},"parameters":[],"tags":["Simulations"]}},"\/hosts":{"get":{"summary":"Configured hosts","produces":["application\/json"],"description":"Retrieve hosts configured under the webservice with basic (optional) metadata.\n\n","responses":{"200":{"headers":{},"examples":{"_8_application\/json":{"_8_host2":{},"_8_host1":{"_8_default":true}}},"description":"OK"}},"parameters":[],"tags":["Jobs"]}},"\/doc":{"get":{"summary":"API documentation","produces":["application\/json"],"description":"This page, or with another `Accept` header, the raw API Blueprint (text\/markdown) or Swagger (application\/json) documentation.\n\n\n","responses":{"200":{"headers":{},"examples":{},"description":"OK"},"406":{"headers":{},"examples":{"_8_application\/json":{"_8_error":"documentation type [type] not found, choose between [options]"}},"description":"Not Acceptable"}},"parameters":[],"tags":["API"]}}},"host":"simcity.amsterdam-complexity.nl","schemes":["https"],"definitions":{"_88Overview":{},"_88Submit job":{},"_88API documentation":{},"_88Simulation engine versions":{},"_88Simulation engines":{},"_88Resource type list":{},"_88Simulation":{},"_88Specific simulation engine":{},"_88API specification":{},"_88Active simulations":{},"_88Resource type definition":{},"_88Schema list":{},"_88Configured hosts":{}},"swagger":"2.0","info":{"description":"The [SIM-CITY webservice](http:\/\/github.com\/NLeSC\/sim-city-webservice) starts\nsimulations and jobs using the\n[SIM-CITY client](http:\/\/github.com\/NLeSC\/sim-city-client).\n\n","title":"SIM-CITY webservice","version":""}}